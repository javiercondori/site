"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[83],{8555:(y,h,n)=>{n.d(h,{r:()=>e});var c=n(5289),g=n(698);class e{constructor(){this.id=0,this.entidad=new c.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new g.A}}},5289:(y,h,n)=>{n.d(h,{$:()=>c});class c{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},3297:(y,h,n)=>{n.d(h,{y:()=>c});class c{constructor(){this.id=0,this.sid=0,this.str="",this.sstr="",this.dec=0,this.sdec=0,this.date=new Date,this.sdate=new Date,this.ordersby=[],this.limit=0,this.offset=0}}},818:(y,h,n)=>{n.r(h),n.d(h,{SalidapolloModule:()=>ae});var c=n(6814),g=n(7664),e=n(4946);let u=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-salidapollo-main"]],decls:1,vars:0,template:function(l,t){1&l&&e._UZ(0,"router-outlet")},dependencies:[g.lC],encapsulation:2})}return i})();var _=n(5289),s=n(3297),d=n(2848),p=n(1106),f=n(9324),T=n(7492),Z=n(7773),A=n(3259),v=n(548);class b{constructor(){this.id=0,this.galpon=new Z.e,this.cantidad=0,this.pesoneto=0,this.promedio=0,this.tipo="a"}}var C=n(7841),w=n(7213);const N=["spdetalle"];function M(i,S){if(1&i&&(e.TgZ(0,"span",2)(1,"label",9),e._uU(2,"Cuenta:"),e.qZA(),e.TgZ(3,"span",10),e._uU(4),e.qZA()()),2&i){const a=e.oxw();e.xp6(4),e.lnq("",a.salidapollo.cuenta.entidad.id," - ",a.salidapollo.cuenta.entidad.nombre," ",a.salidapollo.cuenta.entidad.direccion,"")}}const D=function(){return{width:"50vw"}},F=function(){return{"960px":"75vw"}};let J=(()=>{class i{constructor(a,l){this.datasevice=a,this.confirmService=l,this.formEvent=new e.vpe,this.display=!1,this.salidapollo=new v.x,this.searchClient={path:"/plgalpon/salidapollo/r/ctasbyentidad",columns:["id","nombre"]},this.spdata={content:[],columns:[{editable:!1,field:"id",columnName:"ID"},{editable:!0,field:"galpon.cuenta.nombre",columnName:"Cta Origen",input:{type:"autocomplete",path:"/plgalpon/salidapollo/r/findctas",columns:["id","nombre","entidad.id","entidad.nombre"]}},{editable:!0,field:"cantidad",columnName:"Cant. Pollos",input:{type:"numeric",precision:"15",scale:"0"}}]}}openwithgalpon(a){this.salidapollo=new v.x;var l=new b;l.galpon=a,this.salidapollo.detalle.push(l),this.spdetalle.updateData(this.salidapollo.detalle),this.display=!0}update(a){this.datasevice.getdata("/plgalpon/salidapollo/r/sp",{id:a.id}).subscribe(l=>{this.salidapollo=l,this.spdetalle.updateData(this.salidapollo.detalle),this.spdetalle.addRow(new b,"id"),this.display=!0})}opennew(){this.salidapollo=new v.x,this.spdetalle.updateData(this.salidapollo.detalle),this.spdetalle.addRow(new b,"id"),this.display=!0}clienteSelected(a){this.salidapollo.cuenta=a}close(){this.formEvent.emit()}spdetalleEnterValue(a){"galpon.cuenta.nombre"===a.field?(mosetfieldvalue(this.salidapollo.detalle[a.row],"galpon.cuenta.id",a.value.id),mosetfieldvalue(this.salidapollo.detalle[a.row],"galpon.cuenta.nombre",a.value.nombre)):mosetfieldvalue(this.salidapollo.detalle[a.row],a.field,a.value);let l=this.salidapollo.detalle[a.row];if(0!==this.salidapollo.cuenta.id&&0!==l.galpon.cuenta.id&&0!==l.cantidad){let t=new v.x;t.id=this.salidapollo.id,t.cuenta=this.salidapollo.cuenta,t.detalle.push(new b),t.detalle[0].id=l.id,t.detalle[0].cantidad=l.cantidad,t.detalle[0].galpon.cuenta.id=l.galpon.cuenta.id,this.datasevice.postdata("/plgalpon/salidapollo/w/save",t).subscribe(o=>{this.salidapollo.id=o.id,this.salidapollo.cuenta=o.cuenta,this.salidapollo.fechareg=o.fechareg,this.salidapollo.fechatra=o.fechatra,this.salidapollo.detalle[a.row]=o.detalle[0],this.spdetalle.addRow(new b,"id")})}}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(d.D),e.Y36(p.I))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["salidapollo-form"]],viewQuery:function(l,t){if(1&l&&e.Gf(N,7),2&l){let o;e.iGM(o=e.CRH())&&(t.spdetalle=o.first)}},outputs:{formEvent:"formEvent"},decls:11,vars:13,consts:[["header","Formulario Salida de pollo",3,"visible","modal","breakpoints","draggable","resizable","visibleChange","onHide"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12","form-group"],["id","producto","appendTo","body",3,"config","itemSelected"],[3,"hidden"],["class","p-field col-12 md:col-12 form-group",4,"ngIf"],["id","prnmort",1,"mo-panel-content"],[3,"data","cellEnterValueEvent"],["spdetalle",""],["for","entidaddata"],[1,"input-control-info"]],template:function(l,t){1&l&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return t.display=r})("onHide",function(){return t.close()}),e.TgZ(1,"div",1)(2,"div",2)(3,"label"),e._uU(4,"Buscar cliente por entidad:"),e.qZA(),e.TgZ(5,"mo-autocomplete",3),e.NdJ("itemSelected",function(r){return t.clienteSelected(r)}),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,M,5,3,"span",5),e.TgZ(8,"div",6)(9,"mo-dataeditor",7,8),e.NdJ("cellEnterValueEvent",function(r){return t.spdetalleEnterValue(r)}),e.qZA()()()()()),2&l&&(e.Akn(e.DdM(11,D)),e.Q6J("visible",t.display)("modal",!0)("breakpoints",e.DdM(12,F))("draggable",!1)("resizable",!0),e.xp6(5),e.Q6J("config",t.searchClient),e.xp6(1),e.Q6J("hidden",0===t.salidapollo.cuenta.id),e.xp6(1),e.Q6J("ngIf",0!==t.salidapollo.cuenta.id),e.xp6(2),e.Q6J("data",t.spdata))},dependencies:[c.O5,T.J,C.q,w.V],encapsulation:2})}return i})();var m=n(95),U=n(707),B=n(3714),E=n(1532);const q=function(){return{width:"50vw"}},j=function(){return{"500px":"75vw"}};let I=(()=>{class i{constructor(a,l){this.dataservice=a,this.formBuilder=l,this.formEvent=new e.vpe,this.display=!1,this.salidapollo=new v.x,this.form=this.formBuilder.group({fechatra:[new Date,m.kI.required],nroboleta:["",m.kI.required],pesoneto:[0,m.kI.min(.001)],vehiculo:["",m.kI.required],obs:[""]})}update(a){this.dataservice.getdata("/plgalpon/salidapollo/r/sp",{id:a.id}).subscribe(l=>{this.salidapollo=l,this.form.reset(),this.form.controls.fechatra.setValue(new Date(this.salidapollo.fechatra)),this.form.controls.nroboleta.setValue(this.salidapollo.nroboleta),this.form.controls.pesoneto.setValue(this.salidapollo.pesoneto),this.form.controls.vehiculo.setValue(this.salidapollo.vehiculo),this.form.controls.obs.setValue(this.salidapollo.obs),this.display=!0})}submit(){let a=this.form.getRawValue();this.salidapollo.fechatra=a.fechatra,this.salidapollo.nroboleta=a.nroboleta,this.salidapollo.pesoneto=a.pesoneto,this.salidapollo.vehiculo=a.vehiculo,this.salidapollo.obs=a.obs,this.dataservice.postdata("/plgalpon/salidapollo/w/savebalanza",this.salidapollo).subscribe(l=>{this.display=!1,this.formEvent.emit({})})}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(d.D),e.Y36(m.QS))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["balanza-form"]],outputs:{formEvent:"formEvent"},decls:35,vars:15,consts:[["header","Registro Boleta Balanza",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12","form-group"],["for","entidaddata"],[1,"input-control-info"],[1,"p-field","col-12","md:col-3","form-group"],["for","fnroboleta"],["type","text","id","fnroboleta","pInputText","","formControlName","nroboleta",1,"input-control"],[1,"p-field","col-12","md:col-9","form-group"],["for","fechatra"],["appendTo","body","formControlName","fechatra","dateFormat","dd MM yy","inputId","fechatra",1,"input-control"],["for","fpesoneto"],["type","text","id","fpesoneto","pInputText","","formControlName","pesoneto",1,"input-control"],["for","fvehiculo"],["type","text","id","fvehiculo","pInputText","","formControlName","vehiculo",1,"input-control"],["for","fobs"],["type","text","id","fobs","pInputText","","formControlName","obs",1,"input-control"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"]],template:function(l,t){1&l&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return t.display=r}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return t.submit()}),e.TgZ(2,"div",2)(3,"span",3)(4,"label",4),e._uU(5,"Cliente:"),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()(),e.TgZ(8,"span",3)(9,"label"),e._uU(10,"Cantidad pollos:"),e.qZA(),e.TgZ(11,"span",5),e._uU(12),e.qZA()(),e.TgZ(13,"div",6)(14,"label",7),e._uU(15,"Nro Boleta:"),e.qZA(),e._UZ(16,"input",8),e.qZA(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19,"Fecha salida:"),e.qZA(),e._UZ(20,"p-calendar",11),e.qZA(),e.TgZ(21,"div",6)(22,"label",12),e._uU(23,"Peso neto:"),e.qZA(),e._UZ(24,"input",13),e.qZA(),e.TgZ(25,"div",9)(26,"label",14),e._uU(27,"Vehiculo:"),e.qZA(),e._UZ(28,"input",15),e.qZA(),e.TgZ(29,"div",3)(30,"label",16),e._uU(31,"Observacion:"),e.qZA(),e._UZ(32,"input",17),e.qZA()(),e._UZ(33,"p-button",18),e.TgZ(34,"p-button",19),e.NdJ("click",function(){return t.display=!1}),e.qZA()()()),2&l&&(e.Akn(e.DdM(13,q)),e.Q6J("visible",t.display)("modal",!0)("breakpoints",e.DdM(14,j))("draggable",!0)("resizable",!0),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(6),e.lnq("",t.salidapollo.cuenta.entidad.id," - ",t.salidapollo.cuenta.entidad.nombre," ",t.salidapollo.cuenta.entidad.direccion,""),e.xp6(5),e.Oqu(t.salidapollo.cantidad),e.xp6(21),e.Q6J("disabled",t.form.invalid||0===t.salidapollo.cuenta.id))},dependencies:[U.zx,B.o,m._Y,m.Fj,m.JJ,m.JL,w.V,m.sg,m.u,E.f],encapsulation:2})}return i})();const P=["spdetalle"];function z(i,S){if(1&i&&(e.TgZ(0,"span",7)(1,"label",8),e._uU(2,"Cliente:"),e.qZA(),e.TgZ(3,"span",9),e._uU(4),e.qZA()()),2&i){const a=e.oxw();e.xp6(4),e.lnq("",a.salidapollo.cuenta.entidad.id," - ",a.salidapollo.cuenta.entidad.nombre," ",a.salidapollo.cuenta.entidad.direccion,"")}}const x=function(){return{width:"50vw"}},Q=function(){return{"960px":"75vw"}};let k=(()=>{class i{constructor(a,l){this.datasevice=a,this.confirmService=l,this.formEvent=new e.vpe,this.display=!1,this.salidapollo=new v.x,this.spdata={content:[],columns:[{editable:!1,field:"id",columnName:"ID"},{editable:!1,field:"galpon.cuenta.nombre",columnName:"Cta Origen"},{editable:!1,field:"cantidad",columnName:"Cant. Pollos",align:"right"},{editable:!1,field:"pesoneto",columnName:"Peso Neto",align:"right"},{editable:!0,field:"promedio",columnName:"Promedio",align:"right",input:{type:"numeric",precision:"15",scale:"2"}},{actions:[{iconname:"restart_alt",iconclass:"material-symbols-outlined",title:"Restablecer valor calculado automaticamente",event:"reset",condition:t=>"m"==t.tipo}]}]}}update(a){this.datasevice.getdata("/plgalpon/salidapollo/r/sp",{id:a.id}).subscribe(l=>{this.salidapollo=l,this.spdetalle.updateData(this.salidapollo.detalle),this.display=!0})}close(){this.formEvent.emit()}spdetalleEnterValue(a){mosetfieldvalue(this.salidapollo.detalle[a.row],a.field,a.value);let l=this.salidapollo.detalle[a.row];if(0!=this.salidapollo.cuenta.id&&0!=l.galpon.cuenta.id&&0!=l.promedio){let t=new v.x;t.id=this.salidapollo.id,t.cuenta=this.salidapollo.cuenta,t.detalle.push(new b),t.detalle[0].id=l.id,t.detalle[0].promedio=l.promedio,t.detalle[0].tipo="m",this.datasevice.postdata("/plgalpon/salidapollo/w/adjust",t).subscribe(o=>{this.salidapollo.id=o.id,this.salidapollo.cuenta=o.cuenta,this.salidapollo.fechareg=o.fechareg,this.salidapollo.fechatra=o.fechatra,this.spdetalle.updateData(o.detalle)})}}spdetalleRowEvent(a){"reset"===a.event&&this.confirmService.setconfirm({message:" Restablecer valor por omisi\xf3n?",accept:()=>{let t=new v.x;t.id=this.salidapollo.id,t.cuenta=this.salidapollo.cuenta,t.detalle.push(new b),t.detalle[0].id=a.row.id,t.detalle[0].tipo="a",this.sendupdatedata(t)}})}sendupdatedata(a){this.datasevice.postdata("/plgalpon/salidapollo/w/adjust",a).subscribe(l=>{this.salidapollo.id=l.id,this.salidapollo.cuenta=l.cuenta,this.salidapollo.fechareg=l.fechareg,this.salidapollo.fechatra=l.fechatra,this.spdetalle.updateData(l.detalle)})}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(d.D),e.Y36(p.I))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["salidapollo-ajuste"]],viewQuery:function(l,t){if(1&l&&e.Gf(P,7),2&l){let o;e.iGM(o=e.CRH())&&(t.spdetalle=o.first)}},outputs:{formEvent:"formEvent"},decls:7,vars:12,consts:[["header","Salida de pollo Ajuste Manual",3,"visible","modal","breakpoints","draggable","resizable","visibleChange","onHide"],[1,"p-fluid","grid"],[3,"hidden"],["class","p-field col-12 md:col-12 form-group",4,"ngIf"],["id","prnmort",1,"mo-panel-content"],[3,"data","rowActionEvent","cellEnterValueEvent"],["spdetalle",""],[1,"p-field","col-12","md:col-12","form-group"],["for","entidaddata"],[1,"input-control-info"]],template:function(l,t){1&l&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return t.display=r})("onHide",function(){return t.close()}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,z,5,3,"span",3),e.TgZ(4,"div",4)(5,"mo-dataeditor",5,6),e.NdJ("rowActionEvent",function(r){return t.spdetalleRowEvent(r)})("cellEnterValueEvent",function(r){return t.spdetalleEnterValue(r)}),e.qZA()()()()()),2&l&&(e.Akn(e.DdM(10,x)),e.Q6J("visible",t.display)("modal",!0)("breakpoints",e.DdM(11,Q))("draggable",!1)("resizable",!0),e.xp6(2),e.Q6J("hidden",0===t.salidapollo.cuenta.id),e.xp6(1),e.Q6J("ngIf",0!==t.salidapollo.cuenta.id),e.xp6(2),e.Q6J("data",t.spdata))},dependencies:[c.O5,C.q,w.V],encapsulation:2})}return i})();const V=["spform"],G=["spadjust"],O=["balform"];let R=(()=>{class i{constructor(a,l){this.dataService=a,this.confirmService=l,this.spManageEvent=new e.vpe,this.display=!1,this.galpon=new Z.e,this.report={content:[],columns:[{field:"salidapollo.id",columnName:"Id"},{field:"salidapollo.liquidacion_id",columnName:"Liq",align:"right"},{field:"salidapollo.fechatra",columnName:"Fecha",type:"date"},{field:"salidapollo.nroboleta",columnName:"Nro Boleta"},{field:"salidapollo.cuenta.nombre",columnName:"Destino"},{field:"salidapollo.cantidad",columnName:"T. Pollos"},{field:"salidapollo.pesoneto",columnName:"Peso"},{field:"salidapollo.promedio",columnName:"Promedio"},{field:"detalle.galpon.cuenta.nombre",columnName:"Origen"},{field:"detalle.cantidad",columnName:"Cant"},{actions:[{iconname:"edit",iconclass:"material-symbols-outlined",event:"modify",condition:t=>null!==t.salidapollo.id&&0===t.salidapollo.liquidacion_id},{iconname:"weight",iconclass:"material-symbols-outlined",event:"balanza",condition:t=>null!==t.salidapollo.id&&0===t.salidapollo.liquidacion_id},{iconname:"delete_forever",iconclass:"material-symbols-outlined",event:"delete",condition:t=>null!==t.salidapollo.id&&0===t.salidapollo.liquidacion_id},{iconname:"build",iconclass:"material-symbols-outlined",event:"adjust",condition:t=>null!==t.salidapollo.id&&0!==t.salidapollo.pesoneto}]}],rowclass:(t,o)=>(null===t.salidapollo.id||(o.rowclass=t.salidapollo.liquidacion_id>0?"realizado":t.salidapollo.pesoneto<=0?"pendiente":"prerealizado"),o.rowclass),val:{rowclass:""}}}open(a){this.galpon=a,this.display=!0,this.getdata()}new(){this.spform.openwithgalpon(this.galpon)}salir(){this.display=!1,this.spManageEvent.emit("")}spFormEvent(a){this.getdata()}spAjustEvent(a){this.getdata()}balFormEvent(a){this.getdata()}eventReport(a){switch(a.event){case"modify":this.spform.update(a.row.salidapollo);break;case"balanza":this.balanzaform.update(a.row.salidapollo);break;case"delete":this.confirmService.setconfirm({message:"Anular gastos '"+a.row.salidapollo.id+"'?",accept:()=>{this.dataService.postdata("/plgalpon/salidadepollo/d/spdelete",a.row.salidapollo).subscribe(t=>{this.getdata()})}});break;case"adjust":this.spadjust.update(a.row.salidapollo)}}getdata(){var a=new s.y;a.id=this.galpon.cuenta.id,this.dataService.postdata("/plgalpon/salidapollo/r/salidasbygalpon",a).subscribe(l=>{this.report.content=l})}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(d.D),e.Y36(p.I))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["salidapollo-manage"]],viewQuery:function(l,t){if(1&l&&(e.Gf(V,7),e.Gf(G,7),e.Gf(O,7)),2&l){let o;e.iGM(o=e.CRH())&&(t.spform=o.first),e.iGM(o=e.CRH())&&(t.spadjust=o.first),e.iGM(o=e.CRH())&&(t.balanzaform=o.first)}},outputs:{spManageEvent:"spManageEvent"},decls:38,vars:7,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second","form-group"],["pTooltip","Agregar salida de pollo",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],["pTooltip","Atr\xe1s",1,"mo-button",3,"click"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-5","form-group"],["for","entidadnombre"],[1,"input-control-info"],[1,"p-field","col-12","md:col-7","form-group"],["for","entidaddir"],["for","cuentanombre"],[3,"data","action"],[3,"formEvent"],["spform",""],["spadjust",""],["balform",""]],template:function(l,t){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Lista de salidas de pollos:"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return t.new()}),e.TgZ(10,"i",8),e._uU(11,"add"),e.qZA()(),e.TgZ(12,"button",9),e.NdJ("click",function(){return t.salir()}),e.TgZ(13,"i",8),e._uU(14,"arrow_back"),e.qZA()()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"label",12),e._uU(18,"Entidad:"),e.qZA(),e.TgZ(19,"span",13),e._uU(20),e.qZA()(),e.TgZ(21,"div",14)(22,"label",15),e._uU(23,"Direcci\xf3n"),e.qZA(),e.TgZ(24,"span",13),e._uU(25),e.qZA()(),e.TgZ(26,"div",11)(27,"label",16),e._uU(28,"Galpon:"),e.qZA(),e.TgZ(29,"span",13),e._uU(30),e.qZA()()(),e.TgZ(31,"mo-report",17),e.NdJ("action",function(r){return t.eventReport(r)}),e.qZA()()()()(),e.TgZ(32,"salidapollo-form",18,19),e.NdJ("formEvent",function(r){return t.spFormEvent(r)}),e.qZA(),e.TgZ(34,"salidapollo-ajuste",18,20),e.NdJ("formEvent",function(r){return t.spAjustEvent(r)}),e.qZA(),e.TgZ(36,"balanza-form",18,21),e.NdJ("formEvent",function(r){return t.balFormEvent(r)}),e.qZA()),2&l&&(e.Q6J("hidden",!t.display),e.xp6(20),e.AsE("",t.galpon.cuenta.entidad.id,"-",t.galpon.cuenta.entidad.nombre,""),e.xp6(5),e.Oqu(t.galpon.cuenta.entidad.direccion),e.xp6(5),e.AsE("",t.galpon.cuenta.id,"-",t.galpon.cuenta.nombre,""),e.xp6(1),e.Q6J("data",t.report))},dependencies:[A.u,f.t,J,I,k],encapsulation:2})}return i})();const H=["spmanage"];function Y(i,S){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"label",15),e._uU(3,"Entidad:"),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&i){const a=e.oxw();e.xp6(5),e.AsE("",a.entidad.id,"-",a.entidad.nombre,"")}}const $=[{path:"",component:u,children:[{path:"",component:(()=>{class i{constructor(a,l){this.dataService=a,this.confirmService=l,this.path="/plgalpon/salidapollo",this.display=!0,this.entidad=new _.$,this.findEntidad={path:"/all/entidad/byname",columns:["id","nombre"]},this.galpones={content:[],columns:[{field:"cuenta.id",columnName:"Nro Cta"},{field:"cuenta.estado",columnName:"Estado"},{field:"cuenta.nombre",columnName:"Nombre"},{field:"fechainicio",columnName:"Fecha inicio",type:"date"},{field:"cantidad",columnName:"Nro Pollos",align:"right"},{field:"saldo",columnName:"Saldo Pollos",align:"right"},{actions:[{iconclass:"pi pi-chevron-circle-right",event:"register",condition:t=>!0}]}]}}entidadSelected(a){this.entidad=a,this.getdata()}reportAction(a){"register"===a.event&&(this.display=!1,this.spmanage.open(a.row))}spManageEvent(a){this.getdata(),this.display=!0}getdata(){var a=new s.y;a.id=this.entidad.id,a.ordersby=["cu.id desc"],this.dataService.postdata(this.path+"/r/galpones",a).subscribe(l=>{this.galpones.content=l})}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(d.D),e.Y36(p.I))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-galpon-buscar"]],viewQuery:function(l,t){if(1&l&&e.Gf(H,7),2&l){let o;e.iGM(o=e.CRH())&&(t.spmanage=o.first)}},decls:16,vars:4,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second","form-group"],["for","entidad"],["id","producto",3,"config","itemSelected"],["class","p-fluid grid",4,"ngIf"],[3,"data","action"],[3,"spManageEvent"],["spmanage",""],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-5","form-group"],["for","entidadnombre"],[1,"input-control-info"]],template:function(l,t){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Listado de galpones"),e.qZA()(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Busqueda por Entidad:"),e.qZA(),e.TgZ(11,"mo-autocomplete",8),e.NdJ("itemSelected",function(r){return t.entidadSelected(r)}),e.qZA()()(),e.YNc(12,Y,6,2,"div",9),e.TgZ(13,"mo-report",10),e.NdJ("action",function(r){return t.reportAction(r)}),e.qZA()()()()(),e.TgZ(14,"salidapollo-manage",11,12),e.NdJ("spManageEvent",function(r){return t.spManageEvent(r)}),e.qZA()),2&l&&(e.Q6J("hidden",!t.display),e.xp6(11),e.Q6J("config",t.findEntidad),e.xp6(1),e.Q6J("ngIf",0!=t.entidad.id),e.xp6(1),e.Q6J("data",t.galpones))},dependencies:[c.O5,f.t,T.J,R],encapsulation:2})}return i})()},{path:"**",redirectTo:""}]}];let L=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#a=this.\u0275inj=e.cJS({imports:[g.Bz.forChild($),g.Bz]})}return i})();var W=n(8368),X=n(4553),K=n(2454),ee=n(4858),te=n(9920);let ae=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#a=this.\u0275inj=e.cJS({imports:[c.ez,L,W.U,X.W,K.q,ee.V,te.K,w.S,m.UX,E._8]})}return i})()},9920:(y,h,n)=>{n.d(h,{I:()=>g,K:()=>e});var c=n(4946);let g=(()=>{class u{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(s){for(let d in s)s.hasOwnProperty(d)&&this._printStyle.push((d+JSON.stringify(s[d])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(s){let d=function(p){return`<link rel="stylesheet" type="text/css" href="${p}">`};if(-1!==s.indexOf(",")){const p=s.split(",");for(let f of p)this._styleSheetFile=this._styleSheetFile+d(f)}else this._styleSheetFile=d(s)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(s){const d=[],p=document.getElementsByTagName(s);for(let f=0;f<p.length;f++)d.push(p[f].outerHTML);return d.join("\r\n")}getFormData(s){for(var d=0;d<s.length;d++)s[d].defaultValue=s[d].value,s[d].checked&&(s[d].defaultChecked=!0)}getHtmlContents(){let s=document.getElementById(this.printSectionId),d=s.getElementsByTagName("input");this.getFormData(d);let p=s.getElementsByTagName("textarea");return this.getFormData(p),s.innerHTML}print(){let s,d,p="",f="";const T=this.getElementTag("base");this.useExistingCss&&(p=this.getElementTag("style"),f=this.getElementTag("link")),s=this.getHtmlContents(),d=window.open("","_blank","top=0,left=0,height=auto,width=auto"),d.document.open(),d.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${T}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${p}\n          ${f}\n        </head>\n        <body>\n          ${s}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),d.document.close()}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275dir=c.lG2({type:u,selectors:[["button","ngxPrint",""]],hostBindings:function(s,d){1&s&&c.NdJ("click",function(){return d.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),u})(),e=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({}),u})()}}]);