"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[781],{7781:(Z,_,a)=>{a.r(_),a.d(_,{EstableModule:()=>D});var t=a(6814),b=a(8368),p=a(95),h=a(3092),u=a(7213),v=a(7664),e=a(4946),g=a(7757),E=a(1106),M=a(3259),x=a(707),y=a(156),C=a(698),A=a(3714),O=a(2105);function I(l,Q){1&l&&(e.TgZ(0,"small",16),e._uU(1,"Username is not available."),e.qZA())}function U(l,Q){1&l&&(e.TgZ(0,"small",16),e._uU(1,"Username is not available."),e.qZA())}function w(l,Q){1&l&&(e.TgZ(0,"small",16),e._uU(1,"Username is not available."),e.qZA())}const o=function(){return{width:"70vw"}},d=function(){return{"960px":"75vw"}};let n=(()=>{class l{constructor(c,r){this.formBuilder=c,this.dataService=r,this.estable=new C.A,this.display=!1,this.formSaveEvent=new e.vpe,this.listestado=["ACTIVO","CERRADO","BLOQUEADO"],this.estabform=this.formBuilder.group({id:[{value:this.estable.id,disabled:!0}],nombre:[this.estable.nombre,p.kI.required],descripcion:[this.estable.descripcion,p.kI.required],estado:[this.estable.estado,p.kI.required]})}ngOnInit(){}newForm(){this.estabform.reset(),this.estabform.controls.id.setValue(this.estable.id),this.estabform.controls.estado.setValue(this.estable.estado),this.display=!0}updateform(c){this.estabform.controls.id.setValue(c.id),this.estabform.controls.nombre.setValue(c.nombre),this.estabform.controls.descripcion.setValue(c.descripcion),this.estabform.controls.estado.setValue(c.estado),this.display=!0}submit(){let c=new C.A;c=this.estabform.getRawValue(),this.dataService.postdata("/inicio/establecimiento",c).subscribe(r=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.estabform.get("nombre")}get descripcion(){return this.estabform.get("descripcion")}static#t=this.\u0275fac=function(r){return new(r||l)(e.Y36(p.QS),e.Y36(g.D))};static#e=this.\u0275cmp=e.Xpm({type:l,selectors:[["estable-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:28,vars:15,consts:[["header","Registro de Establecimiento",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","estableid","pInputText","","formControlName","id"],["for","estableid"],["type","text","id","establenombre","pInputText","","formControlName","nombre"],["for","establenombre"],["class","p-error",4,"ngIf"],["id","establedescrip","type","text","pInputText","","formControlName","descripcion"],["for","establedescrip"],["appendTo","body","formControlName","estado","id","estableestado","name","costCenter",3,"options"],["for","estableestado"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(r,i){1&r&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(F){return i.display=F}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return i.submit()}),e.TgZ(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"input",5),e.TgZ(6,"label",6),e._uU(7,"ID:"),e.qZA()()(),e.TgZ(8,"div",3)(9,"span",4),e._UZ(10,"input",7),e.TgZ(11,"label",8),e._uU(12,"Nombre:"),e.qZA(),e.YNc(13,I,2,0,"small",9),e.qZA()(),e.TgZ(14,"div",3)(15,"span",4),e._UZ(16,"input",10),e.TgZ(17,"label",11),e._uU(18,"Descripci\xf3n"),e.qZA(),e.YNc(19,U,2,0,"small",9),e.qZA()(),e.TgZ(20,"div",3)(21,"span",4),e._UZ(22,"p-dropdown",12),e.TgZ(23,"label",13),e._uU(24,"Estado:"),e.qZA(),e.YNc(25,w,2,0,"small",9),e.qZA()()(),e._UZ(26,"p-button",14),e.TgZ(27,"p-button",15),e.NdJ("click",function(){return i.display=!1}),e.qZA()()()),2&r&&(e.Akn(e.DdM(13,o)),e.Q6J("visible",i.display)("modal",!0)("breakpoints",e.DdM(14,d))("draggable",!1)("resizable",!0),e.xp6(1),e.Q6J("formGroup",i.estabform),e.xp6(12),e.Q6J("ngIf",(null==i.nombre?null:i.nombre.invalid)&&((null==i.nombre?null:i.nombre.dirty)||(null==i.nombre?null:i.nombre.touched))),e.xp6(6),e.Q6J("ngIf",(null==i.descripcion?null:i.descripcion.invalid)&&((null==i.descripcion?null:i.descripcion.dirty)||(null==i.descripcion?null:i.descripcion.touched))),e.xp6(3),e.Q6J("options",i.listestado),e.xp6(3),e.Q6J("ngIf",(null==i.descripcion?null:i.descripcion.invalid)&&((null==i.descripcion?null:i.descripcion.dirty)||(null==i.descripcion?null:i.descripcion.touched))),e.xp6(1),e.Q6J("disabled",i.estabform.invalid))},dependencies:[t.O5,x.zx,A.o,O.Lt,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,u.V]})}return l})();const s=["estableform"];let m=(()=>{class l{constructor(c,r){this.dataService=c,this.confirmService=r,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"descripcion",columnName:"Descripcion"},{field:"estado",columnName:"Estado"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:i=>!0},{icon:"pi pi-trash",event:"delete",condition:i=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(c){this.form.updateform(c)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/inicio/establecimiento",{}).subscribe(c=>{this.list=c})}myaction(c){switch(c.event){case"modify":this.openModifyForm(c.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Establecimiento '"+c.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/inicio/establecimiento",{id:c.row.id}).subscribe(i=>{this.getdata()})}})}}static#t=this.\u0275fac=function(r){return new(r||l)(e.Y36(g.D),e.Y36(E.I))};static#e=this.\u0275cmp=e.Xpm({type:l,selectors:[["estable-list"]],viewQuery:function(r,i){if(1&r&&e.Gf(s,7),2&r){let f;e.iGM(f=e.CRH())&&(i.form=f.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Nuevo Catalogo",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["estableform",""]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Lista de establecimientos"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return i.openNewForm()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"mo-table",9),e.NdJ("action",function(F){return i.myaction(F)}),e.qZA()()()()(),e.TgZ(12,"estable-form",10,11),e.NdJ("formSaveEvent",function(){return i.saveForm()}),e.qZA()()),2&r&&(e.xp6(11),e.Q6J("datatable",i.list)("columns",i.columns))},dependencies:[M.u,x.Hq,y.I,n]})}return l})();var T=a(2655);const N=[{path:"",component:(()=>{class l{constructor(){}ngOnInit(){this.items=[{label:"Inicio"},{label:"Establecimiento"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(r){return new(r||l)};static#e=this.\u0275cmp=e.Xpm({type:l,selectors:[["estable-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(r,i){1&r&&e._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&r&&e.Q6J("model",i.items)("home",i.home)},dependencies:[T.a,v.lC]})}return l})(),children:[{path:"",component:m},{path:"list",component:m},{path:"**",redirectTo:"list"}]}];let P=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#e=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(N),v.Bz]})}return l})(),D=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#e=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[t.ez,b.U,p.UX,h.$,u.S,P]})}return l})()},698:(Z,_,a)=>{a.d(_,{A:()=>t});class t{constructor(){this.id="0",this.nombre="",this.descripcion="",this.estado="ACTIVO"}}},156:(Z,_,a)=>{a.d(_,{I:()=>w});var t=a(4946),b=a(6814),p=a(4621),h=a(2415);function u(o,d){if(1&o&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&o){const n=t.oxw(),s=n.index,m=n.$implicit,T=t.oxw();t.Udp("text-align",T.columns[s].align),t.xp6(1),t.hij("",m.columnName," ")}}function v(o,d){1&o&&t._UZ(0,"th",5)}function e(o,d){if(1&o&&(t.ynx(0),t.YNc(1,u,2,3,"th",3),t.YNc(2,v,1,0,"th",4),t.BQk()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",n.field),t.xp6(1),t.Q6J("ngIf",!n.field)}}function g(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&o){const n=d.$implicit,s=t.oxw(2);t.xp6(1),t.Udp("text-align",n.align),t.uIk("colspan",n.colspan),t.xp6(1),t.hij("",s.foot.content[n.index]," ")}}function E(o,d){if(1&o&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,g,3,4,"ng-container",1),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.foot.cols)}}function M(o,d){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().index,s=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(m.getfieldvalue(s,n))}}function x(o,d){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&o){const n=t.oxw().index,s=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(s,n)))}}function y(o,d){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&o){const n=t.oxw().index,s=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(s,n)))}}function C(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(m){t.CHM(n);const T=t.oxw().$implicit,J=t.oxw(3).$implicit,N=t.oxw();return t.KtG(N.actionEvent(m,J,T.event))}),t._UZ(1,"i"),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Tol(n.icon)}}function A(o,d){if(1&o&&(t.ynx(0),t.YNc(1,C,2,3,"a",7),t.BQk()),2&o){const n=d.$implicit,s=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition(s))}}function O(o,d){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,A,2,1,"ng-container",1),t.qZA()),2&o){const n=t.oxw().index,s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.columns[n].actions)}}function I(o,d){if(1&o&&(t.ynx(0),t.YNc(1,M,2,3,"td",6),t.YNc(2,x,3,5,"td",6),t.YNc(3,y,3,5,"td",6),t.YNc(4,O,2,1,"td",2),t.BQk()),2&o){const n=d.index,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.columns[n].field&&void 0===s.columns[n].type),t.xp6(1),t.Q6J("ngIf",s.columns[n].field&&"date"===s.columns[n].type),t.xp6(1),t.Q6J("ngIf",s.columns[n].field&&"datetime"===s.columns[n].type),t.xp6(1),t.Q6J("ngIf",!s.columns[n].field)}}function U(o,d){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,I,5,4,"ng-container",1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}let w=(()=>{class o{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let n of this.columns)void 0!==n.field&&mosetdefaults(this.fielddefault,n)}getfieldvalue(n,s){return mogetfieldvalue(this.datatable[n],this.columns[s].field)}actionEvent(n,s,m){n.preventDefault(),this.action.emit({event:m,row:s})}static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(s,m){1&s&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,e,3,2,"ng-container",1),t.qZA()(),t.YNc(5,E,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,U,2,1,"tr",1),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("ngForOf",m.columns),t.xp6(1),t.Q6J("ngIf",m.foot),t.xp6(2),t.Q6J("ngForOf",m.datatable))},dependencies:[b.sg,b.O5,p.L,h.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return o})()},3092:(Z,_,a)=>{a.d(_,{$:()=>h});var t=a(6814),b=a(9177),p=a(4946);let h=(()=>{class u{static#t=this.\u0275fac=function(g){return new(g||u)};static#e=this.\u0275mod=p.oAB({type:u});static#n=this.\u0275inj=p.cJS({imports:[t.ez,b.A]})}return u})()}}]);