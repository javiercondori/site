"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[592],{2611:(f,s,e)=>{e.d(s,{W:()=>t});class t{constructor(){this.id=0,this.nombre="",this.descripcion=""}}},8528:(f,s,e)=>{e.d(s,{G:()=>a});var t=e(8555);class a{constructor(){this.id=0,this.cuenta=new t.r,this.total=0,this.fecha=new Date,this.estado="",this.gastos=[]}}},6042:(f,s,e)=>{e.d(s,{j:()=>p});var t=e(8555),a=e(2743),c=e(2611);class p{constructor(){this.id="0",this.catalogo=new c.W,this.transfer=new a.F,this.cuenta=new t.r,this.fecha=void 0,this.detalle="",this.nronota="",this.cantidad=0,this.pu=0,this.total=0}}},7773:(f,s,e)=>{e.d(s,{e:()=>a});var t=e(8555);class a{constructor(){this.cuenta=new t.r,this.cantidad=0,this.saldo=0,this.mortalidad=0,this.fechainicio=new Date}}},548:(f,s,e)=>{e.d(s,{x:()=>a});var t=e(8555);class a{constructor(){this.id=0,this.cuenta=new t.r,this.liquidacion_id=0,this.fechatra=new Date,this.fechareg=new Date,this.total=0,this.nroboleta="",this.pesoneto=0,this.vehiculo="",this.obs="",this.detalle=[]}}},8481:(f,s,e)=>{e.d(s,{r:()=>E});var t=e(4946),a=e(2316),c=e(6814);function p(_,g){if(1&_){const l=t.EpF();t.ynx(0),t.TgZ(1,"a",3),t.NdJ("click",function(d){const o=t.CHM(l).index,i=t.oxw();return t.KtG(i.setcurrent(d,o+i.pagdata().pvisini))}),t._uU(2),t.qZA(),t.BQk()}if(2&_){const l=g.index,r=t.oxw();t.xp6(2),t.Oqu(l+r.pagdata().pvisini)}}const m=function(){return[]};let E=(()=>{class _{constructor(){this.changePage=new t.vpe,this.pagdata=(0,t.tdS)(new a.n)}update(l){this.pagdata().total=l.total,this.pagdata().limit=l.limit,this.pagdata().refresh()}setcurrent(l,r){l.preventDefault(),this.pagdata().currentpag=r,this.pagdata().calculate(),this.changePage.emit(this.pagdata())}static#t=this.\u0275fac=function(r){return new(r||_)};static#a=this.\u0275cmp=t.Xpm({type:_,selectors:[["mo-pagination"]],outputs:{changePage:"changePage"},decls:6,vars:2,consts:[[1,"mo-pagination"],["href","#"],[4,"ngFor","ngForOf"],["href","#",3,"click"]],template:function(r,d){1&r&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"\xab"),t.qZA(),t.YNc(3,p,3,1,"ng-container",2),t.TgZ(4,"a",1),t._uU(5,"\xbb"),t.qZA()()),2&r&&(t.xp6(3),t.Q6J("ngForOf",t.DdM(1,m).constructor(d.pagdata().pviscurrent)))},dependencies:[c.sg],encapsulation:2})}return _})()},9373:(f,s,e)=>{e.d(s,{V:()=>c});var t=e(6814),a=e(4946);let c=(()=>{class p{static#t=this.\u0275fac=function(_){return new(_||p)};static#a=this.\u0275mod=a.oAB({type:p});static#e=this.\u0275inj=a.cJS({imports:[t.ez]})}return p})()},2316:(f,s,e)=>{e.d(s,{n:()=>t});class t{constructor(){this.total=0,this.currentpag=1,this.npage=1,this.offset=0,this.limit=20,this.pvis=5,this.pviscurrent=0,this.pvisini=0,this.pvisend=0}calculate(){this.npage=Math.ceil(this.total/this.limit),this.offset=this.currentpag*this.limit-this.limit}refresh(){let c;this.calculate(),this.pviscurrent=this.npage>=this.pvis?this.pvis:this.npage,c=this.currentpag-Math.floor(this.pviscurrent/2),this.pvisini=c<1?1:c}}},2898:(f,s,e)=>{e.d(s,{k:()=>l});var t=e(4946),a=e(6084),c=e(5569),p=e(7757),m=e(1106),E=e(7492),_=e(7841);const g=["dataeditor"];let l=(()=>{class r{constructor(n,o){this.dataService=n,this.confirmService=o,this.tipo="",this.path="",this.notaFormEvent=new t.vpe,this.nota=new a.Q,this.editable=!1,this.cuentabycuentacfg={path:"/bycuenta",columns:["nombre","id","entidad.nombre","entidad.id"]},this.cuentabyentidadcfg={path:"/byentidad",columns:["nombre","id","entidad.nombre","entidad.id"]},this.datanotas={columns:[{editable:!1,field:"id",columnName:"Id"},{editable:!0,field:"producto.nombre",columnName:"Producto",input:{type:"autocomplete",path:"/productos",columns:["id","nombre"]}},{editable:!0,field:"cantidad",columnName:"CANTIDAD",input:{type:"numeric",precision:"17",scale:"4"}}],content:[]}}ngOnInit(){"RECEPCION"===this.tipo&&(this.datanotas.columns.push({editable:!0,field:"pu",columnName:"Pu",input:{type:"numeric",precision:"17",scale:"4"}}),this.datanotas.columns.push({editable:!1,field:"total",columnName:"Total"})),this.datanotas.columns.push({actions:[{iconclass:"pi pi-trash",event:"delete",condition:n=>0!==n.id}]})}newForm(n){this.nota=n,this.clearform()}updateForm(n){this.dataService.getdata(this.path+"/findnotaforedit",{id:n.id}).subscribe(o=>{this.nota=o,this.fillform()})}foundCuenta(n){let o=new a.Q;o.transporte=this.nota.transporte,this.nota=o,this.nota.cuenta=n,this.fillform(),this.notaFormEvent.emit({action:"found",data:this.nota.cuenta})}enterValue(n){"producto.nombre"===n.field?(mosetfieldvalue(this.nota.detalle[n.row],"producto.id",n.value.id),mosetfieldvalue(this.nota.detalle[n.row],"producto.nombre",n.value.nombre)):mosetfieldvalue(this.nota.detalle[n.row],n.field,n.value);let i,o=this.nota.detalle[n.row];if(i="RECEPCION"===this.tipo?!(0===this.nota.cuenta.id||0===o.producto.id||0===o.cantidad||0===o.pu):!(0===this.nota.cuenta.id||0===o.producto.id||0===o.cantidad),i){let u=new a.Q;u.id=this.nota.id,u.transporte=this.nota.transporte,u.cuenta.id=this.nota.cuenta.id,u.cuentadst.id=this.nota.cuentadst.id,u.detalle.push(new c.y),u.detalle[0].id=o.id,u.detalle[0].producto.id=o.producto.id,u.detalle[0].cantidad=o.cantidad,u.detalle[0].pu=o.pu,this.dataService.postdata(this.path+"/notasave",u).subscribe(h=>{this.nota.id=h.id,this.nota.total=h.total,this.nota.cuenta=h.cuenta,this.nota.cuentadst=h.cuentadst,this.nota.detalle[n.row]=h.detalle[0],this.dataeditor.addRow(new c.y,"id"),this.notaFormEvent.emit({action:"update",data:this.nota})})}}rowActionEvent(n){"delete"===n.event&&this.confirmService.setconfirm({message:"Eliminar item Nro '"+n.row.id+"'?",accept:()=>{this.dataService.getdata(this.path+"/ndetdelete",{id:n.row.id}).subscribe(i=>{})}})}fillform(){this.dataeditor.updateData(this.nota.detalle),this.dataeditor.addRow(new c.y,"id")}clearform(){this.dataeditor.updateData(this.nota.detalle)}getnota(){this.dataService.getdata(this.path+"/findnotaforedit",{id:this.nota.id}).subscribe(n=>{this.nota=n,this.fillform()})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(p.D),t.Y36(m.I))};static#a=this.\u0275cmp=t.Xpm({type:r,selectors:[["nota-form"]],viewQuery:function(o,i){if(1&o&&t.Gf(g,7),2&o){let u;t.iGM(u=t.CRH())&&(i.dataeditor=u.first)}},inputs:{tipo:"tipo",path:"path"},outputs:{notaFormEvent:"notaFormEvent"},decls:21,vars:10,consts:[[1,"p-fluid","grid"],[1,"p-field","col-12","form-group"],[1,"input-control",3,"config","path","itemSelected"],[1,"p-field","col-12","md:col-12","form-group"],["for","entidadnombre"],[1,"input-control-info"],[3,"data","path","cellEnterValueEvent","rowActionEvent"],["dataeditor",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label"),t._uU(3,"Por entidad:"),t.qZA(),t.TgZ(4,"mo-autocomplete",2),t.NdJ("itemSelected",function(h){return i.foundCuenta(h)}),t.qZA()(),t.TgZ(5,"div",1)(6,"label"),t._uU(7,"Por cuenta:"),t.qZA(),t.TgZ(8,"mo-autocomplete",2),t.NdJ("itemSelected",function(h){return i.foundCuenta(h)}),t.qZA()(),t.TgZ(9,"div",3)(10,"label",4),t._uU(11,"Entidad:"),t.qZA(),t.TgZ(12,"span",5),t._uU(13),t.qZA()(),t.TgZ(14,"div",3)(15,"label",4),t._uU(16,"Cuenta:"),t.qZA(),t.TgZ(17,"span",5),t._uU(18),t.qZA()()(),t.TgZ(19,"mo-dataeditor",6,7),t.NdJ("cellEnterValueEvent",function(h){return i.enterValue(h)})("rowActionEvent",function(h){return i.rowActionEvent(h)}),t.qZA()),2&o&&(t.xp6(4),t.Q6J("config",i.cuentabyentidadcfg)("path",i.path),t.xp6(4),t.Q6J("config",i.cuentabycuentacfg)("path",i.path),t.xp6(5),t.AsE("",i.nota.cuenta.entidad.id,"-",i.nota.cuenta.entidad.nombre,""),t.xp6(5),t.AsE("",i.nota.cuenta.id,"-",i.nota.cuenta.nombre,""),t.xp6(1),t.Q6J("data",i.datanotas)("path",i.path))},dependencies:[E.J,_.q],encapsulation:2})}return r})()},7090:(f,s,e)=>{e.d(s,{$:()=>_});var t=e(6814),a=e(8368),c=e(95),p=e(2454),m=e(4858),E=e(4946);let _=(()=>{class g{static#t=this.\u0275fac=function(d){return new(d||g)};static#a=this.\u0275mod=E.oAB({type:g});static#e=this.\u0275inj=E.cJS({imports:[t.ez,a.U,c.UX,p.q,m.V]})}return g})()},98:(f,s,e)=>{e.d(s,{R:()=>g});var t=e(7773),a=e(4946),c=e(7757),p=e(6814),m=e(9324);function E(l,r){if(1&l&&a._UZ(0,"mo-report",4),2&l){const d=a.oxw();a.Q6J("data",d.entregas)}}function _(l,r){if(1&l&&a._UZ(0,"mo-report",4),2&l){const d=a.oxw();a.Q6J("data",d.recepciones)}}let g=(()=>{class l{constructor(d){this.dataService=d,this.galpon=new t.e,this.resumen={caption:"Resumen de Alimento",content:[],columns:[{field:"notatipo",columnName:"Tipos"},{field:"producto.id",columnName:"ID"},{field:"producto.nombre",columnName:"Producto"},{field:"cantidad",columnName:"Cantidad",align:"right"}],foot:{content:["TOTAL",0],cols:[{colspan:"3",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.entregas={caption:"NOTAS DE ENTREGAS",content:[],columns:[{field:"nota.transporte.conductor",columnName:"Trans."},{field:"nota.transporte.fecha",columnName:"Fecha",type:"datetime"},{field:"nota.tipo",columnName:"Tipo"},{field:"nota.voucher.doccode",columnName:"Nro"},{field:"nota.total",columnName:"Total(Bs)",align:"right"},{field:"notadetalle.producto.nombre",columnName:"Producto"},{field:"notadetalle.cantidad",columnName:"Cant.",align:"right"},{field:"notadetalle.pu",columnName:"Pu",align:"right"},{field:"notadetalle.total",columnName:"S.Total(Bs)",align:"right"}],foot:{content:["TOTAL ENTREGAS",0],cols:[{colspan:"8",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.recepciones={caption:"NOTAS DE RECEPCI\xd3N",content:[],columns:[{field:"nota.transporte.conductor",columnName:"Trans."},{field:"nota.transporte.fecha",columnName:"Fecha",type:"datetime"},{field:"nota.voucher.doccode",columnName:"Nro"},{field:"nota.total",columnName:"Total(Bs)",align:"right"},{field:"notadetalle.producto.nombre",columnName:"Producto"},{field:"notadetalle.cantidad",columnName:"Cant.",align:"right"},{field:"notadetalle.pu",columnName:"Pu",align:"right"},{field:"notadetalle.total",columnName:"S.Total(Bs)",align:"right"}],foot:{content:["TOTAL RECEPCIONES",0],cols:[{colspan:"7",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.transacciones={caption:"OTRAS TRANSACCIONES",content:[],columns:[{field:"voucherdetail.voucher.id",columnName:"Id"},{field:"voucherdetail.voucher.vdate",columnName:"Fecha",type:"datetime"},{field:"voucherdetail.voucher.vtype",columnName:"Tipo"},{field:"voucherdetail.voucher.doccode",columnName:"Nro Nota"},{field:"voucherdetail.voucher.description",columnName:"Detalle"},{field:"voucherdetail.voucher.comment",columnName:"Coment."},{field:"voucherdetail.voucher.agreement",columnName:"Conformidad"},{field:"monto",columnName:"Monto",align:"right"}],foot:{content:["TOTAL TRANS.",0],cols:[{colspan:"7",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}}}ngOnInit(){}open(d){this.dataService.getdata("/plgalpon/galpon/galpon",{id:d.cuenta.id}).subscribe(n=>{this.galpon=n,this.resumen.foot.content[1]=this.galpon.cuenta.id,this.getData()})}update(){this.getData()}getData(){this.dataService.getdata("/plgalpon/galpon/resumenalimento",{id:this.galpon.cuenta.id}).subscribe(d=>{this.resumen.content=d,this.resumen.foot.content[1]=this.resumen.content.reduce((n,o)=>"ENTREGA"===o.notatipo?n+o.cantidad:n-o.cantidad,0)}),this.dataService.getdata("/plgalpon/galpon/entregas",{id:this.galpon.cuenta.id}).subscribe(d=>{this.entregas.content=d;let n="";this.entregas.foot.content[1]=-1*this.entregas.content.reduce((o,i)=>(""!==i.nota.tipo&&(n=i.nota.tipo),"ENTREGA"===n?o+i.notadetalle.total:o-i.notadetalle.total),0)}),this.dataService.getdata("/plgalpon/galpon/recepciones",{id:this.galpon.cuenta.id}).subscribe(d=>{this.recepciones.content=d,this.recepciones.foot.content[1]=this.recepciones.content.map(n=>n.notadetalle.total).reduce(function(n,o){return n+o},0)}),this.dataService.getdata("/plgalpon/galpon/transacciones",{id:this.galpon.cuenta.id}).subscribe(d=>{this.transacciones.content=d,this.transacciones.foot.content[1]=this.transacciones.content.map(n=>n.monto).reduce(function(n,o){return n+o})})}static#t=this.\u0275fac=function(n){return new(n||l)(a.Y36(c.D))};static#a=this.\u0275cmp=a.Xpm({type:l,selectors:[["galpon-estado-cuenta"]],decls:28,vars:12,consts:[[1,"p-fluid","grid"],[1,"col-12","md:col-4","print:col-4"],[1,"p-field","col-12","md:col-12","form-group"],[1,"input-control"],[3,"data"],[1,"col-12","md:col-8","print:col-8"],[3,"data",4,"ngIf"],[1,"col-12","md:col-12"]],template:function(n,o){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),a._uU(4,"Entidad:"),a.qZA(),a.TgZ(5,"span",3),a._uU(6),a.qZA()(),a.TgZ(7,"div",2)(8,"label"),a._uU(9,"Cuenta:"),a.qZA(),a.TgZ(10,"span",3),a._uU(11),a.qZA()(),a.TgZ(12,"div",2)(13,"label"),a._uU(14,"Cantidad:"),a.qZA(),a.TgZ(15,"span",3),a._uU(16),a.qZA()(),a.TgZ(17,"div",2)(18,"label"),a._uU(19,"Saldo:"),a.qZA(),a.TgZ(20,"span",3),a._uU(21),a.qZA()(),a._UZ(22,"mo-report",4),a.qZA(),a.TgZ(23,"div",5),a.YNc(24,E,1,1,"mo-report",6),a.YNc(25,_,1,1,"mo-report",6),a.qZA(),a.TgZ(26,"div",7),a._UZ(27,"mo-report",4),a.qZA()()),2&n&&(a.xp6(6),a.lnq("",o.galpon.cuenta.entidad.id," | ",o.galpon.cuenta.entidad.nombre," | ",o.galpon.cuenta.entidad.direccion,""),a.xp6(5),a.lnq("",o.galpon.cuenta.id," | ",o.galpon.cuenta.nombre," | ",o.galpon.cuenta.descripcion,""),a.xp6(5),a.Oqu(o.galpon.cantidad),a.xp6(5),a.Oqu(o.galpon.cuenta.saldo),a.xp6(1),a.Q6J("data",o.resumen),a.xp6(2),a.Q6J("ngIf",o.entregas.content.length>0),a.xp6(1),a.Q6J("ngIf",o.recepciones.content.length>0),a.xp6(2),a.Q6J("data",o.transacciones))},dependencies:[p.O5,m.t],encapsulation:2})}return l})()},7799:(f,s,e)=>{e.d(s,{d:()=>p});var t=e(6814),a=e(4553),c=e(4946);let p=(()=>{class m{static#t=this.\u0275fac=function(g){return new(g||m)};static#a=this.\u0275mod=c.oAB({type:m});static#e=this.\u0275inj=c.cJS({imports:[t.ez,a.W]})}return m})()}}]);