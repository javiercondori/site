"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[549],{549:(K,b,s)=>{s.r(b),s.d(b,{CuentaModule:()=>$});var l=s(6814),f=s(7664),t=s(4946);let E=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-cuenta-main"]],decls:1,vars:0,template:function(o,e){1&o&&t._UZ(0,"router-outlet")},dependencies:[f.lC],encapsulation:2})}return i})();var p=s(8555),T=s(5289),u=s(7757),v=s(1106),h=s(3259),Z=s(707),_=s(3714),m=s(9324),C=s(7492),c=s(95),y=s(2105),A=s(7213);function U(i,d){1&i&&(t.TgZ(0,"small",20),t._uU(1," No v\xe1\u013aido"),t.qZA())}function S(i,d){1&i&&(t.TgZ(0,"small",20),t._uU(1," No v\xe1\u013aido"),t.qZA())}const J=function(){return{width:"70vw"}},R=function(){return{"960px":"75vw"}};let q=(()=>{class i{constructor(n,o){this.formBuilder=n,this.dataService=o,this.formEvent=new t.vpe,this.display=!1,this.cuenta=new p.r,this.tipos=[],this.estados=[],this.establecimientos=[],this.form=this.formBuilder.group({nombre:["",c.kI.required],descripcion:["",c.kI.required],tipo:["",c.kI.required],establecimiento:[{},c.kI.required],estado:["",c.kI.required]})}ngOnInit(){this.getEstablecimientos(),this.getTipos(),this.getEstados()}openForm(n){this.form.reset(),this.cuenta=n,this.establecimientos.forEach(o=>{o.id===this.cuenta.establecimiento.id&&(this.cuenta.establecimiento=o)}),this.form.controls.establecimiento.setValue(this.establecimientos[0]),this.form.controls.nombre.setValue(this.cuenta.nombre),this.form.controls.descripcion.setValue(this.cuenta.descripcion),this.form.controls.tipo.setValue(this.cuenta.tipo),this.form.controls.estado.setValue(this.cuenta.estado),this.form.controls.establecimiento.setValue(this.cuenta.establecimiento),this.display=!0}submit(){let n=this.form.getRawValue();this.cuenta.nombre=n.nombre,this.cuenta.descripcion=n.descripcion,this.cuenta.estado=n.estado,this.cuenta.tipo=n.tipo,this.cuenta.establecimiento=n.establecimiento,this.dataService.postdata("/inicio/cuenta",this.cuenta).subscribe(o=>{this.display=!1,this.formEvent.emit()})}getEstablecimientos(){this.dataService.getdata("/inicio/cuenta/establecimientos",{}).subscribe(n=>{this.establecimientos=n})}getTipos(){this.dataService.getdata("/inicio/cuenta/tipos",{}).subscribe(n=>{this.tipos=n})}getEstados(){this.dataService.getdata("/inicio/cuenta/estados",{}).subscribe(n=>{this.estados=n})}get nombre(){return this.form.get("nombre")}get descripcion(){return this.form.get("descripcion")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.QS),t.Y36(u.D))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["cuenta-form"]],outputs:{formEvent:"formEvent"},decls:37,vars:19,consts:[["header","Formulario de Cuenta",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidad","pInputText","","disabled","",3,"value"],["for","entidad"],["type","text","id","nombre","pInputText","","formControlName","nombre"],["for","nombre"],["class","p-error",4,"ngIf"],["type","text","id","descripcion","pInputText","","formControlName","descripcion"],["for","descripcion"],["appendTo","body","formControlName","tipo",3,"options"],["for","tipo"],["id","estado","appendTo","body","formControlName","estado",3,"options"],["for","estado"],["id","establecimiento","appendTo","body","optionLabel","nombre","formControlName","establecimiento",3,"options"],["for","establecimiento"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(o,e){1&o&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(r){return e.display=r}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return e.submit()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"input",5),t.TgZ(6,"label",6),t._uU(7,"Entidad::"),t.qZA()()(),t.TgZ(8,"div",3)(9,"span",4),t._UZ(10,"input",7),t.TgZ(11,"label",8),t._uU(12,"Nombre:"),t.qZA(),t.YNc(13,U,2,0,"small",9),t.qZA()(),t.TgZ(14,"div",3)(15,"span",4),t._UZ(16,"input",10),t.TgZ(17,"label",11),t._uU(18,"Descripcion:"),t.qZA(),t.YNc(19,S,2,0,"small",9),t.qZA()(),t.TgZ(20,"div",3)(21,"span",4),t._UZ(22,"p-dropdown",12),t.TgZ(23,"label",13),t._uU(24,"Tipo:"),t.qZA()()(),t.TgZ(25,"div",3)(26,"span",4),t._UZ(27,"p-dropdown",14),t.TgZ(28,"label",15),t._uU(29,"Estado:"),t.qZA()()(),t.TgZ(30,"div",3)(31,"span",4),t._UZ(32,"p-dropdown",16),t.TgZ(33,"label",17),t._uU(34,"Establecimiento:"),t.qZA()()()(),t._UZ(35,"p-button",18),t.TgZ(36,"p-button",19),t.NdJ("click",function(){return e.display=!1}),t.qZA()()()),2&o&&(t.Akn(t.DdM(17,J)),t.Q6J("visible",e.display)("modal",!0)("breakpoints",t.DdM(18,R))("draggable",!1)("resizable",!0),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(4),t.cQ8("value","",e.cuenta.entidad.id," | ",e.cuenta.entidad.nombre," | ",e.cuenta.entidad.direccion,""),t.xp6(8),t.Q6J("ngIf",(null==e.nombre?null:e.nombre.invalid)&&((null==e.nombre?null:e.nombre.dirty)||(null==e.nombre?null:e.nombre.touched))),t.xp6(6),t.Q6J("ngIf",(null==e.descripcion?null:e.descripcion.invalid)&&((null==e.descripcion?null:e.descripcion.dirty)||(null==e.descripcion?null:e.descripcion.touched))),t.xp6(3),t.Q6J("options",e.tipos),t.xp6(5),t.Q6J("options",e.estados),t.xp6(5),t.Q6J("options",e.establecimientos),t.xp6(3),t.Q6J("disabled",e.form.invalid))},dependencies:[l.O5,Z.zx,_.o,y.Lt,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.V],encapsulation:2})}return i})();var g=s(9920);let N=(()=>{class i{constructor(n,o){this.dataService=n,this.confirmService=o,this.reportEvent=new t.vpe,this.display=!1,this.cuenta=new p.r,this.data={content:[],columns:[{field:"voucherdetail.voucher.id",columnName:"Com.Id"},{field:"voucherdetail.voucher.vdate",columnName:"Fecha",type:"datetime"},{field:"voucherdetail.voucher.doccode",columnName:"Nro Nota"},{field:"voucherdetail.voucher.vtype",columnName:"Nota"},{field:"voucherdetail.accountrel.nombre",columnName:"Cuenta"},{field:"voucherdetail.voucher.agreement",columnName:"Conformidad"},{field:"voucherdetail.detail",columnName:"detalle"},{field:"voucherdetail.voucher.description",columnName:"Descripci\xf3n"},{field:"monto",columnName:"Monto",align:"right"},{field:"saldo",columnName:"Saldo",align:"right"}]}}ngOnInit(){}open(n){this.cuenta=n,this.display=!0,this.getdata()}salir(){this.display=!1,this.reportEvent.emit("salir")}getdata(){this.dataService.getdata("/inicio/cuenta/transacciones",{id:this.cuenta.id}).subscribe(n=>{this.data.content=n})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.D),t.Y36(v.I))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["cuenta-transaccion-report"]],outputs:{reportEvent:"reportEvent"},decls:27,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Imprimir","printSectionId","holahola","ngxPrint","","styleSheetFile","assets/css/print.css",1,"mo-button"],[1,"material-icons-outlined","mo-icons-center"],["pTooltip","Atr\xe1s",1,"mo-button",3,"click"],["id","holahola",1,"mo-panel-content"],[1,"form-group"],[1,"input-control-info"],[3,"data"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Transacciones de Cuenta"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7)(10,"i",8),t._uU(11,"print"),t.qZA()(),t.TgZ(12,"button",9),t.NdJ("click",function(){return e.salir()}),t.TgZ(13,"i",8),t._uU(14,"arrow_back"),t.qZA()()()(),t.TgZ(15,"div",10)(16,"div",11)(17,"label"),t._uU(18,"Entidad:"),t.qZA(),t.TgZ(19,"span",12),t._uU(20),t.qZA()(),t.TgZ(21,"div",11)(22,"label"),t._uU(23,"Cuenta:"),t.qZA(),t.TgZ(24,"span",12),t._uU(25),t.qZA()(),t._UZ(26,"mo-report",13),t.qZA()()()()()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(20),t.AsE("",e.cuenta.entidad.id," - ",e.cuenta.entidad.nombre,""),t.xp6(5),t.AsE("",e.cuenta.id," - ",e.cuenta.nombre,""),t.xp6(1),t.Q6J("data",e.data))},dependencies:[h.u,m.t,g.I],encapsulation:2})}return i})();const I=["trreport"],Q=["form"];let w=(()=>{class i{constructor(n,o){this.dataService=n,this.confirmService=o,this.display=!0,this.entidad=new T.$,this.data={content:[],columns:[{field:"id",columnName:"Id"},{field:"establecimiento.nombre",columnName:"Establecimiento"},{field:"estado",columnName:"Estado"},{field:"tipo",columnName:"Tipo"},{field:"nombre",columnName:"Nombre"},{field:"descripcion",columnName:"Descrip."},{field:"saldo",columnName:"Saldo",align:"right"},{actions:[{iconclass:"pi pi-search",event:"search",condition:e=>!0},{iconclass:"pi pi-pencil",event:"update",condition:e=>!0},{iconclass:"pi pi-trash",event:"delete",condition:e=>!0}]}]},this.entidadconfig={path:"/inicio/cuenta/entidades",columns:["id","nombre","direccion"]}}ngOnInit(){}openNewForm(){let n=new p.r;n.entidad=this.entidad,this.form.openForm(n)}openUpdateForm(n){n.entidad=this.entidad,this.form.openForm(n)}formEvent(n){this.getdata()}getdata(){this.dataService.getdata("/inicio/cuenta",{id:this.entidad.id}).subscribe(n=>{this.data.content=n})}autocompleteSelected(n){this.entidad=n,this.getdata()}tableAction(n){switch(n.event){case"search":this.display=!1,this.trreport.open(n.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar CUENTA '"+n.row.id+"'?",accept:()=>{this.dataService.postdata("/inicio/cuenta/delete",n.row).subscribe(e=>{this.getdata()})}});break;case"update":this.openUpdateForm(n.row)}}reportEvent(n){this.display=!0}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.D),t.Y36(v.I))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["cuenta-manage"]],viewQuery:function(o,e){if(1&o&&(t.Gf(I,7),t.Gf(Q,7)),2&o){let a;t.iGM(a=t.CRH())&&(e.trreport=a.first),t.iGM(a=t.CRH())&&(e.form=a.first)}},decls:23,vars:7,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["for","entidad"],["id","entidad",3,"config","itemSelected"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[1,"p-float-label"],["type","text","id","entidaddata","pInputText","","disabled","",3,"value"],["for","entidaddata"],[3,"data","action"],[3,"reportEvent"],["trreport",""],[3,"formEvent"],["form",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Buscar entidad:"),t.qZA(),t.TgZ(11,"mo-autocomplete",8),t.NdJ("itemSelected",function(r){return e.autocompleteSelected(r)}),t.qZA(),t.TgZ(12,"button",9),t.NdJ("click",function(){return e.openNewForm()}),t.qZA()()(),t.TgZ(13,"div",10)(14,"span",11),t._UZ(15,"input",12),t.TgZ(16,"label",13),t._uU(17,"Entidad"),t.qZA()(),t.TgZ(18,"mo-report",14),t.NdJ("action",function(r){return e.tableAction(r)}),t.qZA()()()()()(),t.TgZ(19,"cuenta-transaccion-report",15,16),t.NdJ("reportEvent",function(r){return e.reportEvent(r)}),t.qZA(),t.TgZ(21,"cuenta-form",17,18),t.NdJ("formEvent",function(r){return e.formEvent(r)}),t.qZA()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(7),t.lnq("Entidad: ",e.entidad.id," | ",e.entidad.nombre," | ",e.entidad.direccion,""),t.xp6(4),t.Q6J("config",e.entidadconfig),t.xp6(4),t.Q6J("value",e.entidad.id+" | "+e.entidad.nombre+" | "+e.entidad.direccion),t.xp6(3),t.Q6J("data",e.data))},dependencies:[h.u,Z.Hq,_.o,m.t,C.J,q,N],encapsulation:2})}return i})();function F(i,d){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mo-report",16),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("data",n.gastos)}}function O(i,d){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mo-report",16),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("data",n.ventas)}}const D=function(i,d){return{"mo-font-color-pos":i,"mo-font-color-neg":d}};let G=(()=>{class i{constructor(n){this.dataService=n,this.reportEvent=new t.vpe,this.display=!1,this.cuenta=new p.r,this.gastos={caption:"Resumen de Gastos",content:[],columns:[{field:"catalogo.id",columnName:"ID CAT"},{field:"catalogo.nombre",columnName:"GASTO"},{field:"total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL GASTOS",0],cols:[{colspan:"2",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.entregas={caption:"Resumen entregas",content:[],columns:[{field:"productotipo.id",columnName:"ID"},{field:"productotipo.nombre",columnName:"Tipo"},{field:"total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL ENTREGAS",0],cols:[{colspan:"2",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.ventas={caption:"Ventas",content:[],columns:[{field:"producto.id",columnName:"ID"},{field:"producto.nombre",columnName:"Producto"},{field:"cantidad",columnName:"Cantidad",align:"right"},{field:"total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL VENTAS",0],cols:[{colspan:"3",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}}}ngOnInit(){}open(n){this.cuenta=n,this.display=!0,this.getdata()}onExit(){this.display=!1,this.reportEvent.emit("salir")}getdata(){this.dataService.getdata("/inicio/cuenta/report/gastosummary",{id:this.cuenta.id}).subscribe(n=>{this.gastos.content=n,this.gastos.foot.content[1]=this.gastos.content.map(o=>o.total).reduce(function(o,e){return o+e})}),this.dataService.getdata("/inicio/cuenta/report/productotiposummary",{id:this.cuenta.id}).subscribe(n=>{this.entregas.content=n,this.entregas.foot.content[1]=this.entregas.content.map(o=>o.total).reduce(function(o,e){return o+e})}),this.dataService.getdata("/inicio/cuenta/report/ventassummary",{id:this.cuenta.id}).subscribe(n=>{this.ventas.content=n,this.ventas.foot.content[1]=this.ventas.content.map(o=>o.total).reduce(function(o,e){return o+e})})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.D))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["cuenta-report-resumen"]],outputs:{reportEvent:"reportEvent"},decls:35,vars:14,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Imprimir","printSectionId","creportresumen","ngxPrint","","styleSheetFile","assets/css/print.css",1,"mo-button"],[1,"material-icons-outlined","mo-icons-center"],["pTooltip","Atr\xe1s",1,"mo-button",3,"click"],["id","creportresumen",1,"mo-panel-content"],[1,"form-group"],[1,"input-control-info"],[1,"input-control-info",3,"ngClass"],[4,"ngIf"],[3,"hidden"],[3,"data"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Resumen de Cuenta"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7)(10,"i",8),t._uU(11,"print"),t.qZA()(),t.TgZ(12,"button",9),t.NdJ("click",function(){return e.onExit()}),t.TgZ(13,"i",8),t._uU(14,"arrow_back"),t.qZA()()()(),t.TgZ(15,"div",10)(16,"div",11)(17,"label"),t._uU(18,"Entidad:"),t.qZA(),t.TgZ(19,"span",12),t._uU(20),t.qZA()(),t.TgZ(21,"div",11)(22,"label"),t._uU(23,"Cuenta:"),t.qZA(),t.TgZ(24,"span",12),t._uU(25),t.qZA()(),t.TgZ(26,"div",11)(27,"label"),t._uU(28,"SALDO CUENTA:"),t.qZA(),t.TgZ(29,"span",13),t._uU(30),t.qZA()(),t.YNc(31,F,2,1,"div",14),t.TgZ(32,"div",15),t._UZ(33,"mo-report",16),t.qZA(),t.YNc(34,O,2,1,"div",14),t.qZA()()()()()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(20),t.AsE("",e.cuenta.entidad.id," - ",e.cuenta.entidad.nombre,""),t.xp6(5),t.AsE("",e.cuenta.id," - ",e.cuenta.nombre,""),t.xp6(4),t.Q6J("ngClass",t.WLB(11,D,e.cuenta.saldo>=0,e.cuenta.saldo<0)),t.xp6(1),t.Oqu(e.cuenta.saldo),t.xp6(1),t.Q6J("ngIf",0!==e.gastos.content.length),t.xp6(1),t.Q6J("hidden",0===e.entregas.content.length),t.xp6(1),t.Q6J("data",e.entregas),t.xp6(1),t.Q6J("ngIf",0!==e.ventas.content.length))},dependencies:[l.mk,l.O5,h.u,m.t,g.I],encapsulation:2})}return i})();function M(i,d){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mo-report",16),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("data",n.gastos)}}function L(i,d){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mo-report",16),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("data",n.ventas)}}const k=function(i,d){return{"mo-font-color-pos":i,"mo-font-color-neg":d}};let Y=(()=>{class i{constructor(n){this.dataService=n,this.reportEvent=new t.vpe,this.display=!1,this.cuenta=new p.r,this.gastos={caption:"Detalle de Gastos",content:[],columns:[{field:"catalogo.id",columnName:"ID CAT"},{field:"catalogo.nombre",columnName:"GASTO"},{field:"detalle",columnName:"Detalle"},{field:"cantidad",columnName:"Cantidad",align:"right"},{field:"pu",columnName:"PU",align:"right"},{field:"total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL GASTOS",0],cols:[{colspan:"5",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.entregas={caption:"Notas de Entrega",content:[],columns:[{field:"nota.transporte.fecha",columnName:"Fecha",type:"datetime"},{field:"nota.transporte.conductor",columnName:"Transporte"},{field:"nota.cuenta.nombre",columnName:"Cuenta"},{field:"notadetalle.producto.nombre",columnName:"Producto"},{field:"notadetalle.cantidad",columnName:"Cantidad",align:"right"},{field:"notadetalle.pu",columnName:"Pu",align:"right"},{field:"notadetalle.total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL ENTREGAS",0],cols:[{colspan:"6",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}},this.ventas={caption:"Ventas",content:[],columns:[{field:"nota.transporte.fecha",columnName:"Fecha",type:"datetime"},{field:"nota.transporte.conductor",columnName:"Transporte"},{field:"nota.cuenta.nombre",columnName:"Cuenta"},{field:"notadetalle.producto.nombre",columnName:"Producto"},{field:"notadetalle.cantidad",columnName:"Cantidad",align:"right"},{field:"notadetalle.pu",columnName:"Pu",align:"right"},{field:"notadetalle.total",columnName:"TOTAL",align:"right"}],foot:{content:["TOTAL VENTAS",0],cols:[{colspan:"6",index:0,align:"right"},{colspan:"1",index:1,align:"right"}]}}}ngOnInit(){}open(n){this.cuenta=n,this.display=!0,this.getdata()}onExit(){this.display=!1,this.reportEvent.emit("salir")}getdata(){this.dataService.getdata("/inicio/cuenta/report/gastos",{id:this.cuenta.id}).subscribe(n=>{this.gastos.content=n,this.gastos.foot.content[1]=this.gastos.content.map(o=>o.total).reduce(function(o,e){return o+e})}),this.dataService.getdata("/inicio/cuenta/report/entregas",{id:this.cuenta.id}).subscribe(n=>{this.entregas.content=n,this.entregas.foot.content[1]=this.entregas.content.map(o=>o.notadetalle.total).reduce(function(o,e){return o+e})}),this.dataService.getdata("/inicio/cuenta/report/ventas",{id:this.cuenta.id}).subscribe(n=>{this.ventas.content=n,this.ventas.foot.content[1]=this.ventas.content.map(o=>o.notadetalle.total).reduce(function(o,e){return o+e})})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.D))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["cuenta-report-detalle"]],outputs:{reportEvent:"reportEvent"},decls:35,vars:14,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Imprimir","printSectionId","creportdetalle","ngxPrint","","styleSheetFile","assets/css/print.css",1,"mo-button"],[1,"material-icons-outlined","mo-icons-center"],["pTooltip","Atr\xe1s",1,"mo-button",3,"click"],["id","creportdetalle",1,"mo-panel-content"],[1,"form-group"],[1,"input-control-info"],[1,"input-control-info",3,"ngClass"],[4,"ngIf"],[3,"hidden"],[3,"data"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Resumen de Cuenta"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7)(10,"i",8),t._uU(11,"print"),t.qZA()(),t.TgZ(12,"button",9),t.NdJ("click",function(){return e.onExit()}),t.TgZ(13,"i",8),t._uU(14,"arrow_back"),t.qZA()()()(),t.TgZ(15,"div",10)(16,"div",11)(17,"label"),t._uU(18,"Entidad:"),t.qZA(),t.TgZ(19,"span",12),t._uU(20),t.qZA()(),t.TgZ(21,"div",11)(22,"label"),t._uU(23,"Cuenta:"),t.qZA(),t.TgZ(24,"span",12),t._uU(25),t.qZA()(),t.TgZ(26,"div",11)(27,"label"),t._uU(28,"SALDO CUENTA:"),t.qZA(),t.TgZ(29,"span",13),t._uU(30),t.qZA()(),t.YNc(31,M,2,1,"div",14),t.TgZ(32,"div",15),t._UZ(33,"mo-report",16),t.qZA(),t.YNc(34,L,2,1,"div",14),t.qZA()()()()()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(20),t.AsE("",e.cuenta.entidad.id," - ",e.cuenta.entidad.nombre,""),t.xp6(5),t.AsE("",e.cuenta.id," - ",e.cuenta.nombre,""),t.xp6(4),t.Q6J("ngClass",t.WLB(11,k,e.cuenta.saldo>=0,e.cuenta.saldo<0)),t.xp6(1),t.Oqu(e.cuenta.saldo),t.xp6(1),t.Q6J("ngIf",0!==e.gastos.content.length),t.xp6(1),t.Q6J("hidden",0===e.entregas.content.length),t.xp6(1),t.Q6J("data",e.entregas),t.xp6(1),t.Q6J("ngIf",0!==e.ventas.content.length))},dependencies:[l.mk,l.O5,h.u,m.t,g.I],encapsulation:2})}return i})();const x=["transactions"],V=["resumen"],B=["detalle"];function z(i,d){if(1&i&&(t.TgZ(0,"div",16)(1,"label"),t._uU(2,"Entidad:"),t.qZA(),t.TgZ(3,"span",17),t._uU(4),t.qZA()()),2&i){const n=t.oxw();t.xp6(4),t.AsE("",n.entidad.id," - ",n.entidad.nombre,"")}}const P=[{path:"",component:E,children:[{path:"",component:w},{path:"report",component:(()=>{class i{constructor(n,o){this.dataService=n,this.confirmService=o,this.display=!0,this.entidad=new T.$,this.data={content:[],columns:[{field:"id",columnName:"Id"},{field:"estado",columnName:"Estado"},{field:"tipo",columnName:"Tipo"},{field:"nombre",columnName:"Nombre"},{field:"descripcion",columnName:"Descrip."},{field:"saldo",columnName:"Saldo",align:"right"},{actions:[{iconclass:"material-icons-outlined",iconname:"summarize",event:"summarize",condition:e=>!0},{iconclass:"material-icons-outlined",iconname:"description",event:"detail",condition:e=>!0},{iconclass:"material-icons-outlined",iconname:"receipt_long",event:"transactions",condition:e=>!0}]}]},this.entidadconfig={path:"/inicio/cuenta/entidades",columns:["id","nombre","direccion"]}}ngOnInit(){}onAutocompleteSelected(n){this.entidad=n,this.getcuentas()}onActionReport(n){switch(n.event){case"transactions":this.display=!1,this.transactions.open(n.row);break;case"summarize":this.display=!1,this.resumen.open(n.row);break;case"detail":this.display=!1,this.detalle.open(n.row)}console.log("onActionReport",n)}onReportEvent(n){this.display=!0}onReportResumenEvent(n){this.display=!0}onReportDetalleEvent(n){this.display=!0}getcuentas(){this.dataService.getdata("/inicio/cuenta",{id:this.entidad.id}).subscribe(n=>{this.data.content=n})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.D),t.Y36(v.I))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-cuenta-reports"]],viewQuery:function(o,e){if(1&o&&(t.Gf(x,7),t.Gf(V,7),t.Gf(B,7)),2&o){let a;t.iGM(a=t.CRH())&&(e.transactions=a.first),t.iGM(a=t.CRH())&&(e.resumen=a.first),t.iGM(a=t.CRH())&&(e.detalle=a.first)}},decls:21,vars:4,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["for","entidad"],["id","entidad",3,"config","itemSelected"],[1,"mo-panel-content"],["class","form-group",4,"ngIf"],[3,"data","action"],[3,"reportEvent"],["transactions",""],["resumen",""],["detalle",""],[1,"form-group"],[1,"input-control-info"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Listado de cuentas"),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Buscar por entidad:"),t.qZA(),t.TgZ(11,"mo-autocomplete",8),t.NdJ("itemSelected",function(r){return e.onAutocompleteSelected(r)}),t.qZA()()(),t.TgZ(12,"div",9),t.YNc(13,z,5,2,"div",10),t.TgZ(14,"mo-report",11),t.NdJ("action",function(r){return e.onActionReport(r)}),t.qZA()()()()()(),t.TgZ(15,"cuenta-transaccion-report",12,13),t.NdJ("reportEvent",function(r){return e.onReportEvent(r)}),t.qZA(),t.TgZ(17,"cuenta-report-resumen",12,14),t.NdJ("reportEvent",function(r){return e.onReportResumenEvent(r)}),t.qZA(),t.TgZ(19,"cuenta-report-detalle",12,15),t.NdJ("reportEvent",function(r){return e.onReportDetalleEvent(r)}),t.qZA()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(11),t.Q6J("config",e.entidadconfig),t.xp6(2),t.Q6J("ngIf",0!==e.entidad.id),t.xp6(1),t.Q6J("data",e.data))},dependencies:[l.O5,m.t,C.J,N,G,Y],encapsulation:2})}return i})()},{path:"**",redirectTo:""}]}];let X=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(P),f.Bz]})}return i})();var H=s(8368),W=s(961),j=s(4553);let $=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[l.ez,X,H.U,j.W,W.q,c.UX,A.S,g.K]})}return i})()}}]);