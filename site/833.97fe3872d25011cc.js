"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[833],{833:(Z,f,l)=>{l.r(f),l.d(f,{EntidadModule:()=>Q});var t=l(6814),p=l(7664),n=l(4946),h=l(7757),_=l(1106),C=l(3259),b=l(707),v=l(156),u=l(95),E=l(5289),M=l(3714),x=l(7213);function y(c,D){1&c&&(n.TgZ(0,"small",16),n._uU(1,"Nombre no v\xe1lido"),n.qZA())}function A(c,D){1&c&&(n.TgZ(0,"small",16),n._uU(1,"Direcci\xf3n no v\xe1lida."),n.qZA())}function I(c,D){1&c&&(n.TgZ(0,"small",16),n._uU(1,"tel\xe9fono no v\xe1lida."),n.qZA())}const O=function(){return{width:"70vw"}},N=function(){return{"960px":"75vw"}};let w=(()=>{class c{constructor(r,d){this.formBuilder=r,this.dataService=d,this.entidad=new E.$,this.display=!1,this.formSaveEvent=new n.vpe,this.form=this.formBuilder.group({id:[{value:0,disabled:!0}],nombre:["",u.kI.required],direccion:["",u.kI.required],telefono:["",u.kI.required]})}ngOnInit(){}newForm(){this.form.reset(),this.form.controls.id.setValue(this.entidad.id),this.display=!0}updateform(r){this.form.controls.id.setValue(r.id),this.form.controls.nombre.setValue(r.nombre),this.form.controls.direccion.setValue(r.direccion),this.form.controls.telefono.setValue(r.telefono),this.display=!0}submit(){let r=this.form.getRawValue();this.dataService.postdata("/inicio/entidad",r).subscribe(d=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.form.get("nombre")}get direccion(){return this.form.get("direccion")}get telefono(){return this.form.get("telefono")}static#t=this.\u0275fac=function(d){return new(d||c)(n.Y36(u.QS),n.Y36(h.D))};static#n=this.\u0275cmp=n.Xpm({type:c,selectors:[["entidad-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:28,vars:14,consts:[["header","Datos Entidad",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidadid","pInputText","","formControlName","id"],["for","entidadid"],["type","text","id","entidadnombre","pInputText","","formControlName","nombre"],["for","entidadnombre"],["class","p-error",4,"ngIf"],["id","entidaddireccion","type","text","pInputText","","formControlName","direccion"],["for","entidaddireccion"],["id","entidadtelefono","type","text","pInputText","","formControlName","telefono"],["for","entidadtelefono"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(d,i){1&d&&(n.TgZ(0,"p-dialog",0),n.NdJ("visibleChange",function(J){return i.display=J}),n.TgZ(1,"form",1),n.NdJ("submit",function(){return i.submit()}),n.TgZ(2,"div",2)(3,"div",3)(4,"span",4),n._UZ(5,"input",5),n.TgZ(6,"label",6),n._uU(7,"ID:"),n.qZA()()(),n.TgZ(8,"div",3)(9,"span",4),n._UZ(10,"input",7),n.TgZ(11,"label",8),n._uU(12,"Nombre:"),n.qZA(),n.YNc(13,y,2,0,"small",9),n.qZA()(),n.TgZ(14,"div",3)(15,"span",4),n._UZ(16,"input",10),n.TgZ(17,"label",11),n._uU(18,"Direcci\xf3n:"),n.qZA(),n.YNc(19,A,2,0,"small",9),n.qZA()(),n.TgZ(20,"div",3)(21,"span",4),n._UZ(22,"input",12),n.TgZ(23,"label",13),n._uU(24,"Tel\xe9fono:"),n.qZA(),n.YNc(25,I,2,0,"small",9),n.qZA()()(),n._UZ(26,"p-button",14),n.TgZ(27,"p-button",15),n.NdJ("click",function(){return i.display=!1}),n.qZA()()()),2&d&&(n.Akn(n.DdM(12,O)),n.Q6J("visible",i.display)("modal",!0)("breakpoints",n.DdM(13,N))("draggable",!1)("resizable",!0),n.xp6(1),n.Q6J("formGroup",i.form),n.xp6(12),n.Q6J("ngIf",(null==i.nombre?null:i.nombre.invalid)&&((null==i.nombre?null:i.nombre.dirty)||(null==i.nombre?null:i.nombre.touched))),n.xp6(6),n.Q6J("ngIf",(null==i.direccion?null:i.direccion.invalid)&&((null==i.direccion?null:i.direccion.dirty)||(null==i.direccion?null:i.direccion.touched))),n.xp6(6),n.Q6J("ngIf",(null==i.telefono?null:i.telefono.invalid)&&((null==i.telefono?null:i.telefono.dirty)||(null==i.telefono?null:i.telefono.touched))),n.xp6(1),n.Q6J("disabled",i.form.invalid))},dependencies:[t.O5,b.zx,M.o,u._Y,u.Fj,u.JJ,u.JL,x.V,u.sg,u.u],encapsulation:2})}return c})();const o=["form"];let m=(()=>{class c{constructor(r,d){this.dataService=r,this.confirmService=d,this.currentDate=new Date,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"direccion",columnName:"Direcci\xf3n"},{field:"telefono",columnName:"Telefono"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:i=>!0},{icon:"pi pi-trash",event:"delete",condition:i=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(r){this.form.updateform(r)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/inicio/entidad",{date:this.currentDate}).subscribe(r=>{this.list=r})}tableAction(r){switch(r.event){case"modify":this.openModifyForm(r.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Entidad '"+r.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/inicio/entidad",{id:r.row.id}).subscribe(i=>{this.getdata()})}})}}onSelectedDate(r){this.currentDate=r,this.getdata()}static#t=this.\u0275fac=function(d){return new(d||c)(n.Y36(h.D),n.Y36(_.I))};static#n=this.\u0275cmp=n.Xpm({type:c,selectors:[["entidad-list"]],viewQuery:function(d,i){if(1&d&&n.Gf(o,7),2&d){let g;n.iGM(g=n.CRH())&&(i.form=g.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar nueva Entidad",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["form",""]],template:function(d,i){1&d&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),n._uU(7,"Listado de Entidades"),n.qZA()(),n.TgZ(8,"div",6)(9,"button",7),n.NdJ("click",function(){return i.openNewForm()}),n.qZA()()(),n.TgZ(10,"div",8)(11,"mo-table",9),n.NdJ("action",function(J){return i.tableAction(J)}),n.qZA()()()()(),n.TgZ(12,"entidad-form",10,11),n.NdJ("formSaveEvent",function(){return i.saveForm()}),n.qZA()()),2&d&&(n.xp6(11),n.Q6J("datatable",i.list)("columns",i.columns))},dependencies:[C.u,b.Hq,v.I,w],encapsulation:2})}return c})();var e=l(2655);const s=[{path:"",component:(()=>{class c{constructor(){}ngOnInit(){this.items=[{label:"Inicio"},{label:"Entidades"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(d){return new(d||c)};static#n=this.\u0275cmp=n.Xpm({type:c,selectors:[["entidad-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(d,i){1&d&&n._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&d&&n.Q6J("model",i.items)("home",i.home)},dependencies:[p.lC,e.a],encapsulation:2})}return c})(),children:[{path:"",component:m},{path:"**",redirectTo:""}]}];let T=(()=>{class c{static#t=this.\u0275fac=function(d){return new(d||c)};static#n=this.\u0275mod=n.oAB({type:c});static#e=this.\u0275inj=n.cJS({imports:[p.Bz.forChild(s),p.Bz]})}return c})();var F=l(8368),U=l(3092);let Q=(()=>{class c{static#t=this.\u0275fac=function(d){return new(d||c)};static#n=this.\u0275mod=n.oAB({type:c});static#e=this.\u0275inj=n.cJS({imports:[t.ez,T,F.U,U.$,x.S,u.UX]})}return c})()},5289:(Z,f,l)=>{l.d(f,{$:()=>t});class t{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},156:(Z,f,l)=>{l.d(f,{I:()=>w});var t=l(4946),p=l(6814),n=l(4621),h=l(2415);function _(o,m){if(1&o&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&o){const e=t.oxw(),a=e.index,s=e.$implicit,T=t.oxw();t.Udp("text-align",T.columns[a].align),t.xp6(1),t.hij("",s.columnName," ")}}function C(o,m){1&o&&t._UZ(0,"th",5)}function b(o,m){if(1&o&&(t.ynx(0),t.YNc(1,_,2,3,"th",3),t.YNc(2,C,1,0,"th",4),t.BQk()),2&o){const e=m.$implicit;t.xp6(1),t.Q6J("ngIf",e.field),t.xp6(1),t.Q6J("ngIf",!e.field)}}function v(o,m){if(1&o&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&o){const e=m.$implicit,a=t.oxw(2);t.xp6(1),t.Udp("text-align",e.align),t.uIk("colspan",e.colspan),t.xp6(1),t.hij("",a.foot.content[e.index]," ")}}function u(o,m){if(1&o&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,v,3,4,"ng-container",1),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.foot.cols)}}function E(o,m){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw().index,a=t.oxw().index,s=t.oxw();t.Udp("text-align",s.columns[e].align),t.xp6(1),t.Oqu(s.getfieldvalue(a,e))}}function M(o,m){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&o){const e=t.oxw().index,a=t.oxw().index,s=t.oxw();t.Udp("text-align",s.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,s.getfieldvalue(a,e)))}}function x(o,m){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&o){const e=t.oxw().index,a=t.oxw().index,s=t.oxw();t.Udp("text-align",s.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,s.getfieldvalue(a,e)))}}function y(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(s){t.CHM(e);const T=t.oxw().$implicit,F=t.oxw(3).$implicit,U=t.oxw();return t.KtG(U.actionEvent(s,F,T.event))}),t._UZ(1,"i"),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.icon)}}function A(o,m){if(1&o&&(t.ynx(0),t.YNc(1,y,2,3,"a",7),t.BQk()),2&o){const e=m.$implicit,a=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",e.condition(a))}}function I(o,m){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,A,2,1,"ng-container",1),t.qZA()),2&o){const e=t.oxw().index,a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.columns[e].actions)}}function O(o,m){if(1&o&&(t.ynx(0),t.YNc(1,E,2,3,"td",6),t.YNc(2,M,3,5,"td",6),t.YNc(3,x,3,5,"td",6),t.YNc(4,I,2,1,"td",2),t.BQk()),2&o){const e=m.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.columns[e].field&&void 0===a.columns[e].type),t.xp6(1),t.Q6J("ngIf",a.columns[e].field&&"date"===a.columns[e].type),t.xp6(1),t.Q6J("ngIf",a.columns[e].field&&"datetime"===a.columns[e].type),t.xp6(1),t.Q6J("ngIf",!a.columns[e].field)}}function N(o,m){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,O,5,4,"ng-container",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.columns)}}let w=(()=>{class o{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let e of this.columns)void 0!==e.field&&mosetdefaults(this.fielddefault,e)}getfieldvalue(e,a){return mogetfieldvalue(this.datatable[e],this.columns[a].field)}actionEvent(e,a,s){e.preventDefault(),this.action.emit({event:s,row:a})}static#t=this.\u0275fac=function(a){return new(a||o)};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,b,3,2,"ng-container",1),t.qZA()(),t.YNc(5,u,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,N,2,1,"tr",1),t.qZA()()),2&a&&(t.xp6(4),t.Q6J("ngForOf",s.columns),t.xp6(1),t.Q6J("ngIf",s.foot),t.xp6(2),t.Q6J("ngForOf",s.datatable))},dependencies:[p.sg,p.O5,n.L,h.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return o})()},3092:(Z,f,l)=>{l.d(f,{$:()=>h});var t=l(6814),p=l(9177),n=l(4946);let h=(()=>{class _{static#t=this.\u0275fac=function(v){return new(v||_)};static#n=this.\u0275mod=n.oAB({type:_});static#e=this.\u0275inj=n.cJS({imports:[t.ez,p.A]})}return _})()}}]);