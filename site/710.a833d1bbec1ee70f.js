"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[710],{1710:(A,_,c)=>{c.r(_),c.d(_,{TransporteModule:()=>D});var t=c(6814),f=c(8368),T=c(3092),g=c(7664),o=c(4946),x=c(7757),C=c(1106),v=c(3259),b=c(707),d=c(95),I=c(156),M=c(1532),Z=c(5413),w=c(3714),y=c(7213);function J(l,Q){1&l&&(o.TgZ(0,"small",14),o._uU(1,"Conductor no v\xe1lido"),o.qZA())}function E(l,Q){1&l&&(o.TgZ(0,"small",14),o._uU(1,"Comentario no v\xe1lido."),o.qZA())}const F=function(){return{width:"70vw"}},e=function(){return{"960px":"75vw"}};let p=(()=>{class l{constructor(a,s){this.formBuilder=a,this.dataService=s,this.transporte=new Z.e,this.display=!1,this.formSaveEvent=new o.vpe,this.form=this.formBuilder.group({id:[{value:0,disabled:!0}],conductor:["",d.kI.required],comentario:[""]})}ngOnInit(){}newForm(){this.form.reset(),this.form.controls.id.setValue(this.transporte.id),this.display=!0}updateform(a){this.form.controls.id.setValue(a.id),this.form.controls.conductor.setValue(a.conductor),this.form.controls.comentario.setValue(a.comentario),this.display=!0}submit(){let a=new Z.e,s=this.form.getRawValue();a.id=s.id,a.conductor=s.conductor,a.comentario=s.comentario,this.dataService.postdata("/porteria/transporte",a).subscribe(i=>{this.display=!1,this.formSaveEvent.emit()})}get conductor(){return this.form.get("conductor")}get comentario(){return this.form.get("comentario")}static#t=this.\u0275fac=function(s){return new(s||l)(o.Y36(d.QS),o.Y36(x.D))};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["transporte-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:22,vars:13,consts:[["header","Nuevo Transporte",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","transid","pInputText","","formControlName","id"],["for","transid"],["type","text","id","transconductor","pInputText","","formControlName","conductor"],["for","transconductor"],["class","p-error",4,"ngIf"],["id","transcomentario","type","text","pInputText","","formControlName","comentario"],["for","transcomentario"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(s,i){1&s&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(h){return i.display=h}),o.TgZ(1,"form",1),o.NdJ("submit",function(){return i.submit()}),o.TgZ(2,"div",2)(3,"div",3)(4,"span",4),o._UZ(5,"input",5),o.TgZ(6,"label",6),o._uU(7,"ID:"),o.qZA()()(),o.TgZ(8,"div",3)(9,"span",4),o._UZ(10,"input",7),o.TgZ(11,"label",8),o._uU(12,"Conductor:"),o.qZA(),o.YNc(13,J,2,0,"small",9),o.qZA()(),o.TgZ(14,"div",3)(15,"span",4),o._UZ(16,"input",10),o.TgZ(17,"label",11),o._uU(18,"Comentario:"),o.qZA(),o.YNc(19,E,2,0,"small",9),o.qZA()()(),o._UZ(20,"p-button",12),o.TgZ(21,"p-button",13),o.NdJ("click",function(){return i.display=!1}),o.qZA()()()),2&s&&(o.Akn(o.DdM(11,F)),o.Q6J("visible",i.display)("modal",!0)("breakpoints",o.DdM(12,e))("draggable",!1)("resizable",!0),o.xp6(1),o.Q6J("formGroup",i.form),o.xp6(12),o.Q6J("ngIf",(null==i.conductor?null:i.conductor.invalid)&&((null==i.conductor?null:i.conductor.dirty)||(null==i.conductor?null:i.conductor.touched))),o.xp6(6),o.Q6J("ngIf",(null==i.comentario?null:i.comentario.invalid)&&((null==i.comentario?null:i.comentario.dirty)||(null==i.comentario?null:i.comentario.touched))),o.xp6(1),o.Q6J("disabled",i.form.invalid))},dependencies:[t.O5,b.zx,w.o,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,y.V],encapsulation:2})}return l})();const n=["form"];let r=(()=>{class l{constructor(a,s){this.dataService=a,this.confirmService=s,this.currentDate=new Date,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"fecha",columnName:"Ingreso",type:"timestamp"},{field:"conductor",columnName:"Conductor"},{field:"comentario",columnName:"Comentario"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:i=>!0},{icon:"pi pi-trash",event:"delete",condition:i=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(a){this.form.updateform(a)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/porteria/transporte",{date:this.currentDate}).subscribe(a=>{this.list=a})}tableAction(a){switch(a.event){case"modify":this.openModifyForm(a.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Transporte '"+a.row.id+"'?",accept:()=>{this.dataService.deletedata("/porteria/transporte",{id:a.row.id}).subscribe(i=>{this.getdata()})}})}}onSelectedDate(a){this.currentDate=a,this.getdata()}static#t=this.\u0275fac=function(s){return new(s||l)(o.Y36(x.D),o.Y36(C.I))};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["transporte-list"]],viewQuery:function(s,i){if(1&s&&o.Gf(n,7),2&s){let u;o.iGM(u=o.CRH())&&(i.form=u.first)}},decls:15,vars:3,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["dateFormat","dd MM yy","inputId","dateformat",3,"ngModel","ngModelChange","onSelect"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["form",""]],template:function(s,i){1&s&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"Listado de transportes"),o.qZA()(),o.TgZ(8,"div",6)(9,"p-calendar",7),o.NdJ("ngModelChange",function(h){return i.currentDate=h})("onSelect",function(h){return i.onSelectedDate(h)}),o.qZA(),o.TgZ(10,"button",8),o.NdJ("click",function(){return i.openNewForm()}),o.qZA()()(),o.TgZ(11,"div",9)(12,"mo-table",10),o.NdJ("action",function(h){return i.tableAction(h)}),o.qZA()()()()(),o.TgZ(13,"transporte-form",11,12),o.NdJ("formSaveEvent",function(){return i.saveForm()}),o.qZA()()),2&s&&(o.xp6(9),o.Q6J("ngModel",i.currentDate),o.xp6(3),o.Q6J("datatable",i.list)("columns",i.columns))},dependencies:[v.u,b.Hq,d.JJ,d.On,I.I,M.f,p],encapsulation:2})}return l})();var m=c(2655);const N=[{path:"",component:(()=>{class l{constructor(){}ngOnInit(){this.items=[{label:"Porteria"},{label:"Transporte"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["transporte-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(s,i){1&s&&o._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&s&&o.Q6J("model",i.items)("home",i.home)},dependencies:[g.lC,m.a],encapsulation:2})}return l})(),children:[{path:"",component:r},{path:"**",redirectTo:""}]}];let U=(()=>{class l{static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[g.Bz.forChild(N),g.Bz]})}return l})(),D=(()=>{class l{static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[t.ez,U,f.U,T.$,d.UX,M._8,y.S]})}return l})()},5413:(A,_,c)=>{c.d(_,{e:()=>t});class t{constructor(){this.id=0,this.fecha=new Date,this.conductor="",this.comentario="",this.placa="",this.estado="",this.cantidad=0}}},156:(A,_,c)=>{c.d(_,{I:()=>F});var t=c(4946),f=c(6814),T=c(4621),g=c(2415);function o(e,p){if(1&e&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&e){const n=t.oxw(),r=n.index,m=n.$implicit,O=t.oxw();t.Udp("text-align",O.columns[r].align),t.xp6(1),t.hij("",m.columnName," ")}}function x(e,p){1&e&&t._UZ(0,"th",5)}function C(e,p){if(1&e&&(t.ynx(0),t.YNc(1,o,2,3,"th",3),t.YNc(2,x,1,0,"th",4),t.BQk()),2&e){const n=p.$implicit;t.xp6(1),t.Q6J("ngIf",n.field),t.xp6(1),t.Q6J("ngIf",!n.field)}}function v(e,p){if(1&e&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&e){const n=p.$implicit,r=t.oxw(2);t.xp6(1),t.Udp("text-align",n.align),t.uIk("colspan",n.colspan),t.xp6(1),t.hij("",r.foot.content[n.index]," ")}}function b(e,p){if(1&e&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,v,3,4,"ng-container",1),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.foot.cols)}}function d(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const n=t.oxw().index,r=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(m.getfieldvalue(r,n))}}function I(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=t.oxw().index,r=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(r,n)))}}function M(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&e){const n=t.oxw().index,r=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(r,n)))}}function Z(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(m){t.CHM(n);const O=t.oxw().$implicit,N=t.oxw(3).$implicit,U=t.oxw();return t.KtG(U.actionEvent(m,N,O.event))}),t._UZ(1,"i"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.Tol(n.icon)}}function w(e,p){if(1&e&&(t.ynx(0),t.YNc(1,Z,2,3,"a",7),t.BQk()),2&e){const n=p.$implicit,r=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition(r))}}function y(e,p){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,w,2,1,"ng-container",1),t.qZA()),2&e){const n=t.oxw().index,r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.columns[n].actions)}}function J(e,p){if(1&e&&(t.ynx(0),t.YNc(1,d,2,3,"td",6),t.YNc(2,I,3,5,"td",6),t.YNc(3,M,3,5,"td",6),t.YNc(4,y,2,1,"td",2),t.BQk()),2&e){const n=p.index,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.columns[n].field&&void 0===r.columns[n].type),t.xp6(1),t.Q6J("ngIf",r.columns[n].field&&"date"===r.columns[n].type),t.xp6(1),t.Q6J("ngIf",r.columns[n].field&&"datetime"===r.columns[n].type),t.xp6(1),t.Q6J("ngIf",!r.columns[n].field)}}function E(e,p){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,J,5,4,"ng-container",1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}let F=(()=>{class e{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let n of this.columns)void 0!==n.field&&mosetdefaults(this.fielddefault,n)}getfieldvalue(n,r){return mogetfieldvalue(this.datatable[n],this.columns[r].field)}actionEvent(n,r,m){n.preventDefault(),this.action.emit({event:m,row:r})}static#t=this.\u0275fac=function(r){return new(r||e)};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(r,m){1&r&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,C,3,2,"ng-container",1),t.qZA()(),t.YNc(5,b,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,E,2,1,"tr",1),t.qZA()()),2&r&&(t.xp6(4),t.Q6J("ngForOf",m.columns),t.xp6(1),t.Q6J("ngIf",m.foot),t.xp6(2),t.Q6J("ngForOf",m.datatable))},dependencies:[f.sg,f.O5,T.L,g.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return e})()},3092:(A,_,c)=>{c.d(_,{$:()=>g});var t=c(6814),f=c(9177),T=c(4946);let g=(()=>{class o{static#t=this.\u0275fac=function(v){return new(v||o)};static#o=this.\u0275mod=T.oAB({type:o});static#n=this.\u0275inj=T.cJS({imports:[t.ez,f.A]})}return o})()}}]);