"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[879],{8555:(u,a,n)=>{n.d(a,{r:()=>e});var l=n(5289),m=n(698);class e{constructor(){this.id=0,this.entidad=new l.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new m.A}}},5289:(u,a,n)=>{n.d(a,{$:()=>l});class l{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},4879:(u,a,n)=>{n.r(a),n.d(a,{ProveedorModule:()=>D});var l=n(6814),m=n(7664),e=n(4946),c=n(7757),g=n(1106),T=n(3259),v=n(707),C=n(9324),s=n(95),f=n(8555),Z=n(3714),y=n(7492),h=n(7213);function P(r,b){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",5)(2,"mo-autocomplete",16),e.NdJ("itemSelected",function(o){e.CHM(t);const d=e.oxw();return e.KtG(d.autocompleteSelected(o))}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("config",t.entidadconfig)}}function S(r,b){1&r&&(e.TgZ(0,"small",17),e._uU(1," No v\xe1\u013aido"),e.qZA())}function A(r,b){1&r&&(e.TgZ(0,"small",17),e._uU(1," No v\xe1\u013aido"),e.qZA())}const F=function(){return{width:"70vw"}},J=function(){return{"960px":"75vw"}};let N=(()=>{class r{constructor(t,i){this.formBuilder=t,this.dataService=i,this.formSaveEvent=new e.vpe,this.display=!1,this.proveedor=new f.r,this.entidadconfig={path:"/proveedores/proveedor/entidades",columns:["id","nombre","direccion"]},this.form=this.formBuilder.group({nombre:["",s.kI.required],descripcion:["",s.kI.required]})}ngOnInit(){}newForm(){this.form.reset(),this.proveedor=new f.r,this.display=!0}updateform(t){this.proveedor=t,this.form.controls.nombre.setValue(t.nombre),this.form.controls.descripcion.setValue(t.descripcion),this.display=!0}submit(){let t=this.form.getRawValue();this.proveedor.nombre=t.nombre,this.proveedor.descripcion=t.descripcion,this.proveedor.establecimiento.id="1",this.dataService.postdata("/proveedores/proveedor",this.proveedor).subscribe(i=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.form.get("nombre")}get descripcion(){return this.form.get("descripcion")}autocompleteSelected(t){this.proveedor.entidad=t}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(s.QS),e.Y36(c.D))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["proveedor-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:23,vars:15,consts:[["header","Registro de Proveedor",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],["class","p-field col-12",4,"ngIf"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidaddata","pInputText","","disabled","",3,"value"],["for","entidadnombre"],["type","text","id","provnombre","pInputText","","formControlName","nombre"],["for","provnombre"],["class","p-error",4,"ngIf"],["type","text","id","provdescripcion","pInputText","","formControlName","descripcion"],["for","provdescripcion"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-field","col-12"],[3,"config","itemSelected"],[1,"p-error"]],template:function(i,o){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return o.display=p}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return o.submit()}),e.TgZ(2,"div",2),e.YNc(3,P,3,1,"div",3),e.TgZ(4,"div",4)(5,"span",5),e._UZ(6,"input",6),e.TgZ(7,"label",7),e._uU(8,"Entidad"),e.qZA()()(),e.TgZ(9,"div",4)(10,"span",5),e._UZ(11,"input",8),e.TgZ(12,"label",9),e._uU(13,"Nombre:"),e.qZA(),e.YNc(14,S,2,0,"small",10),e.qZA()(),e.TgZ(15,"div",4)(16,"span",5),e._UZ(17,"input",11),e.TgZ(18,"label",12),e._uU(19,"Descripcion:"),e.qZA(),e.YNc(20,A,2,0,"small",10),e.qZA()()(),e._UZ(21,"p-button",13),e.TgZ(22,"p-button",14),e.NdJ("click",function(){return o.display=!1}),e.qZA()()()),2&i&&(e.Akn(e.DdM(13,F)),e.Q6J("visible",o.display)("modal",!0)("breakpoints",e.DdM(14,J))("draggable",!1)("resizable",!0),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngIf",0===o.proveedor.id),e.xp6(3),e.Q6J("value",o.proveedor.entidad.id+" | "+o.proveedor.entidad.nombre+" | "+o.proveedor.entidad.direccion),e.xp6(8),e.Q6J("ngIf",(null==o.nombre?null:o.nombre.invalid)&&((null==o.nombre?null:o.nombre.dirty)||(null==o.nombre?null:o.nombre.touched))),e.xp6(6),e.Q6J("ngIf",(null==o.descripcion?null:o.descripcion.invalid)&&((null==o.descripcion?null:o.descripcion.dirty)||(null==o.descripcion?null:o.descripcion.touched))),e.xp6(1),e.Q6J("disabled",o.form.invalid||0===o.proveedor.entidad.id))},dependencies:[l.O5,v.zx,Z.o,s._Y,s.Fj,s.JJ,s.JL,y.J,s.sg,s.u,h.V],encapsulation:2})}return r})();const _=["form"];let E=(()=>{class r{constructor(t,i){this.dataService=t,this.confirmService=i,this.report={content:[],columns:[{field:"id",columnName:"Id"},{field:"entidad.nombre",columnName:"Entidad"},{field:"nombre",columnName:"Cuenta"},{field:"descripcion",columnName:"Descripcion"},{field:"estado",columnName:"Estado"},{field:"saldo",columnName:"Saldo",align:"right"},{actions:[{iconclass:"pi pi-pencil",event:"modify",condition:o=>!0},{iconclass:"pi pi-trash",event:"delete",condition:o=>!0}]}]}}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(t){this.form.updateform(t)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/proveedores/proveedor",{}).subscribe(t=>{this.report.content=t})}tableAction(t){switch(t.event){case"modify":this.openModifyForm(t.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Proveedor '"+t.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/proveedores/proveedor",{id:t.row.id}).subscribe(o=>{this.getdata()})}})}}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(c.D),e.Y36(g.I))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["proveedor-list"]],viewQuery:function(i,o){if(1&i&&e.Gf(_,7),2&i){let d;e.iGM(d=e.CRH())&&(o.form=d.first)}},decls:14,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"data","action"],[3,"formSaveEvent"],["form",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Listado de Proveedores"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return o.openNewForm()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"mo-report",9),e.NdJ("action",function(p){return o.tableAction(p)}),e.qZA()()()()(),e.TgZ(12,"proveedor-form",10,11),e.NdJ("formSaveEvent",function(){return o.saveForm()}),e.qZA()()),2&i&&(e.xp6(11),e.Q6J("data",o.report))},dependencies:[T.u,v.Hq,C.t,N],encapsulation:2})}return r})();var I=n(2655);const M=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){this.items=[{label:"Proveedores"},{label:"Transpote"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#e=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["proveedor-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(i,o){1&i&&e._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&i&&e.Q6J("model",o.items)("home",o.home)},dependencies:[m.lC,I.a],encapsulation:2})}return r})(),children:[{path:"",component:E},{path:"**",redirectTo:""}]}];let U=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275mod=e.oAB({type:r});static#t=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(M),m.Bz]})}return r})();var w=n(8368),Q=n(2454),L=n(4553);let D=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275mod=e.oAB({type:r});static#t=this.\u0275inj=e.cJS({imports:[l.ez,U,w.U,L.W,Q.q,s.UX,h.S]})}return r})()}}]);