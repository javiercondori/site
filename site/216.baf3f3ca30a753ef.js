"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[216],{9324:(T,f,r)=>{r.d(f,{t:()=>U});var t=r(4946),p=r(6814),o=r(4621),_=r(2415),u=r(7635);function g(i,d){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(n.data.caption)}}function x(i,d){if(1&i&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&i){const n=t.oxw(),a=n.index,e=n.$implicit,C=t.oxw();t.Udp("text-align",C.data.columns[a].align),t.xp6(1),t.hij("",e.columnName," ")}}function v(i,d){1&i&&t._UZ(0,"th",5)}function m(i,d){if(1&i&&(t.ynx(0),t.YNc(1,x,2,3,"th",3),t.YNc(2,v,1,0,"th",4),t.BQk()),2&i){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",n.field),t.xp6(1),t.Q6J("ngIf",!n.field)}}function y(i,d){if(1&i&&(t.ynx(0),t.TgZ(1,"td",5),t._uU(2),t.qZA(),t.BQk()),2&i){const n=d.$implicit,a=t.oxw(2);t.xp6(1),t.Udp("text-align",n.align),t.uIk("colspan",n.colspan),t.xp6(1),t.hij("",a.data.foot.content[n.index]," ")}}function R(i,d){if(1&i&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,y,3,4,"ng-container",2),t.qZA()()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.data.foot.cols)}}function Z(i,d){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,e=t.oxw();t.Udp("text-align",e.data.columns[n].align),t.xp6(1),t.Oqu(e.getfieldvalue(a,n))}}function M(i,d){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,e=t.oxw();t.Udp("text-align",e.data.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,e.getfieldvalue(a,n)))}}function w(i,d){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,e=t.oxw();t.Udp("text-align",e.data.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,e.getfieldvalue(a,n)))}}function O(i,d){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"periodmonthFormat"),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,e=t.oxw();t.Udp("text-align",e.data.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,e.getfieldvalue(a,n)))}}function E(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"a",12),t.NdJ("click",function(e){t.CHM(n);const C=t.oxw().$implicit,l=t.oxw(3).$implicit,c=t.oxw();return t.KtG(c.actionEvent(e,l,C.event))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&i){const n=t.oxw().$implicit;t.xp6(1),t.Tol(n.iconclass),t.xp6(1),t.Oqu(n.iconname)}}function A(i,d){if(1&i&&(t.ynx(0),t.YNc(1,E,3,4,"a",11),t.BQk()),2&i){const n=d.$implicit,a=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition(a))}}function P(i,d){if(1&i&&(t.TgZ(0,"td",9)(1,"div",10),t.YNc(2,A,2,1,"ng-container",2),t.qZA()()),2&i){const n=t.oxw().index,a=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",a.data.columns[n].actions)}}function I(i,d){if(1&i&&(t.ynx(0),t.YNc(1,Z,2,3,"td",7),t.YNc(2,M,3,5,"td",7),t.YNc(3,w,3,5,"td",7),t.YNc(4,O,3,5,"td",7),t.YNc(5,P,3,1,"td",8),t.BQk()),2&i){const n=d.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.data.columns[n].field&&void 0===a.data.columns[n].type),t.xp6(1),t.Q6J("ngIf",a.data.columns[n].field&&"date"===a.data.columns[n].type),t.xp6(1),t.Q6J("ngIf",a.data.columns[n].field&&"datetime"===a.data.columns[n].type),t.xp6(1),t.Q6J("ngIf",a.data.columns[n].field&&"periodmonth"===a.data.columns[n].type),t.xp6(1),t.Q6J("ngIf",!a.data.columns[n].field)}}function J(i,d){if(1&i&&(t.ynx(0),t.TgZ(1,"tr",6),t.YNc(2,I,6,5,"ng-container",2),t.qZA(),t.BQk()),2&i){const n=d.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngClass",a.data.rows.condition(n)?a.data.rows.class:""),t.xp6(1),t.Q6J("ngForOf",a.data.columns)}}let U=(()=>{class i{constructor(){this.fielddefault={align:"left"},this.rows={class:"",condition:n=>!1},this.action=new t.vpe}ngOnInit(){for(let n of this.data.columns)void 0!==n.field&&mosetdefaults(this.fielddefault,n);void 0===this.data.rows&&(this.data.rows=this.rows)}getfieldvalue(n,a){return mogetfieldvalue(this.data.content[n],this.data.columns[a].field)}actionEvent(n,a,e){n.preventDefault(),this.action.emit({event:e,row:a})}static#t=this.\u0275fac=function(a){return new(a||i)};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["mo-report"]],inputs:{data:"data"},outputs:{action:"action"},decls:9,vars:4,consts:[[1,"customers","report"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"ngClass"],[3,"text-align",4,"ngIf"],["style","padding: 0;",4,"ngIf"],[2,"padding","0"],[1,"mo-reportactions"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(a,e){1&a&&(t.TgZ(0,"table",0)(1,"caption"),t.YNc(2,g,2,1,"ng-container",1),t.qZA(),t.TgZ(3,"thead")(4,"tr"),t.YNc(5,m,3,2,"ng-container",2),t.qZA()(),t.YNc(6,R,3,1,"tfoot",1),t.TgZ(7,"tbody"),t.YNc(8,J,3,2,"ng-container",2),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngIf",e.data.caption),t.xp6(3),t.Q6J("ngForOf",e.data.columns),t.xp6(1),t.Q6J("ngIf",e.data.foot),t.xp6(2),t.Q6J("ngForOf",e.data.content))},dependencies:[p.mk,p.sg,p.O5,o.L,_.E,u.v],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.4em;color:#3e3e3e;font-weight:700}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#464646;color:#fff}.customers[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding-top:2px;padding-bottom:2px;color:#383838;font-weight:700}"]})}return i})()},4553:(T,f,r)=>{r.d(f,{W:()=>_});var t=r(6814),p=r(9177),o=r(4946);let _=(()=>{class u{static#t=this.\u0275fac=function(v){return new(v||u)};static#o=this.\u0275mod=o.oAB({type:u});static#n=this.\u0275inj=o.cJS({imports:[t.ez,p.A]})}return u})()},8216:(T,f,r)=>{r.r(f),r.d(f,{RoleModule:()=>a});var t=r(6814),p=r(7664),o=r(4946);let _=(()=>{class e{static#t=this.\u0275fac=function(c){return new(c||e)};static#o=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-role-main"]],decls:1,vars:0,template:function(c,s){1&c&&o._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2})}return e})();var u=r(7757),g=r(1106),x=r(3259),v=r(9324),m=r(95);class y{constructor(){this.id=0,this.name="",this.directory=""}}var R=r(707),Z=r(3714),M=r(7213);function w(e,C){1&e&&(o.TgZ(0,"small",12),o._uU(1,"Nombre de rol no v\xe1lido"),o.qZA())}function O(e,C){1&e&&(o.TgZ(0,"small",12),o._uU(1,"Directorio no v\xe1lido"),o.qZA())}const E=function(){return{width:"70vw"}},A=function(){return{"600px":"75vw"}};let P=(()=>{class e{constructor(l,c){this.formBuilder=l,this.dataService=c,this.role=new y,this.display=!1,this.formEvent=new o.vpe,this.form=this.formBuilder.group({name:["",m.kI.required],directory:["",m.kI.required]})}new(){this.role=new y,this.form.reset(),this.form.controls.name.setValue(this.role.name),this.form.controls.directory.setValue(this.role.directory),this.display=!0}update(l){this.role=l,this.form.controls.name.setValue(l.name),this.form.controls.directory.setValue(l.directory),this.display=!0}submit(){let l=new y,c=this.form.getRawValue();l.id=this.role.id,l.name=c.name,l.directory=c.directory,this.dataService.postdata("/system/role/save",l).subscribe(s=>{this.display=!1,this.formEvent.emit()})}get name(){return this.form.get("name")}get directory(){return this.form.get("directory")}static#t=this.\u0275fac=function(c){return new(c||e)(o.Y36(m.QS),o.Y36(u.D))};static#o=this.\u0275cmp=o.Xpm({type:e,selectors:[["role-form"]],outputs:{formEvent:"formEvent"},decls:17,vars:13,consts:[["header","Nuevo Transporte",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","rolename","pInputText","","formControlName","name"],["for","rolename"],["class","p-error",4,"ngIf"],["id","roledirectory","type","text","pInputText","","formControlName","directory"],["for","roledirectory"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(c,s){1&c&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(b){return s.display=b}),o.TgZ(1,"form",1),o.NdJ("submit",function(){return s.submit()}),o.TgZ(2,"div",2)(3,"div",3)(4,"span",4),o._UZ(5,"input",5),o.TgZ(6,"label",6),o._uU(7,"Rol de Sistema:"),o.qZA(),o.YNc(8,w,2,0,"small",7),o.qZA()(),o.TgZ(9,"div",3)(10,"span",4),o._UZ(11,"input",8),o.TgZ(12,"label",9),o._uU(13,"Ruta:"),o.qZA(),o.YNc(14,O,2,0,"small",7),o.qZA()()(),o._UZ(15,"p-button",10),o.TgZ(16,"p-button",11),o.NdJ("click",function(){return s.display=!1}),o.qZA()()()),2&c&&(o.Akn(o.DdM(11,E)),o.Q6J("visible",s.display)("modal",!0)("breakpoints",o.DdM(12,A))("draggable",!1)("resizable",!0),o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(7),o.Q6J("ngIf",(null==s.name?null:s.name.invalid)&&((null==s.name?null:s.name.dirty)||(null==s.name?null:s.name.touched))),o.xp6(6),o.Q6J("ngIf",(null==s.directory?null:s.directory.invalid)&&((null==s.directory?null:s.directory.dirty)||(null==s.directory?null:s.directory.touched))),o.xp6(1),o.Q6J("disabled",s.form.invalid))},dependencies:[t.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,R.zx,Z.o,M.V],encapsulation:2})}return e})();const I=["form"],U=[{path:"",component:_,children:[{path:"",component:(()=>{class e{constructor(l,c){this.dataService=l,this.confirmService=c,this.data={content:[],columns:[{field:"id",columnName:"Id"},{field:"name",columnName:"Nombre"},{field:"directory",columnName:"Ruta"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:s=>!0},{iconname:"arrow_forward",iconclass:"material-icons-outlined mo-icons-center",event:"modify",condition:s=>!0}]}]}}ngOnInit(){this.getdata()}saveForm(){this.getdata()}onReportEvent(l){switch(l.event){case"modify":this.form.update(l.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar Rol '"+l.row.name+"'?",accept:()=>{this.dataService.postdata("/system/role/delete",l.row).subscribe(s=>{this.getdata()})}})}}onFormEvent(){this.getdata()}newRole(){this.form.new()}getdata(){this.dataService.getdata("/system/role/list",{}).subscribe(l=>{this.data.content=l})}static#t=this.\u0275fac=function(c){return new(c||e)(o.Y36(u.D),o.Y36(g.I))};static#o=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-role-manage"]],viewQuery:function(c,s){if(1&c&&o.Gf(I,7),2&c){let h;o.iGM(h=o.CRH())&&(s.form=h.first)}},decls:16,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Nuevo Rol de Sistema",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],[1,"mo-panel-content"],[3,"data","action"],[3,"formEvent"],["form",""]],template:function(c,s){1&c&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"Roles de Sistema"),o.qZA()(),o.TgZ(8,"div",6)(9,"button",7),o.NdJ("click",function(){return s.newRole()}),o.TgZ(10,"i",8),o._uU(11,"add_circle_outline"),o.qZA()()()(),o.TgZ(12,"div",9)(13,"mo-report",10),o.NdJ("action",function(b){return s.onReportEvent(b)}),o.qZA()()()()()(),o.TgZ(14,"role-form",11,12),o.NdJ("formEvent",function(){return s.onFormEvent()}),o.qZA()),2&c&&(o.xp6(13),o.Q6J("data",s.data))},dependencies:[x.u,v.t,P],encapsulation:2})}return e})()},{path:"**",redirectTo:""}]}];let i=(()=>{class e{static#t=this.\u0275fac=function(c){return new(c||e)};static#o=this.\u0275mod=o.oAB({type:e});static#n=this.\u0275inj=o.cJS({imports:[p.Bz.forChild(U),p.Bz]})}return e})();var d=r(8368),n=r(4553);let a=(()=>{class e{static#t=this.\u0275fac=function(c){return new(c||e)};static#o=this.\u0275mod=o.oAB({type:e});static#n=this.\u0275inj=o.cJS({imports:[t.ez,i,m.UX,d.U,n.W,M.S]})}return e})()},7635:(T,f,r)=>{r.d(f,{v:()=>o});var t=r(4946),p=r(6814);let o=(()=>{class _{constructor(g){this.datePipe=g}transform(g,...x){return this.datePipe.transform(g,"MM/yyyy")}static#t=this.\u0275fac=function(x){return new(x||_)(t.Y36(p.uU,16))};static#o=this.\u0275pipe=t.Yjl({name:"periodmonthFormat",type:_,pure:!0})}return _})()}}]);