"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[443],{3443:(h,p,r)=>{r.r(p),r.d(p,{ProveedorModule:()=>D});var t=r(6814),u=r(7664),o=r(4946),v=r(7757),g=r(1106),M=r(3259),b=r(707),T=r(156),_=r(95),C=r(8555),P=r(3714),A=r(7492),Z=r(7213);function y(a,U){if(1&a){const c=o.EpF();o.TgZ(0,"div",15)(1,"span",5)(2,"mo-autocomplete",16),o.NdJ("itemSelected",function(i){o.CHM(c);const f=o.oxw();return o.KtG(f.autocompleteSelected(i))}),o.qZA()()()}if(2&a){const c=o.oxw();o.xp6(2),o.Q6J("config",c.entidadconfig)}}function E(a,U){1&a&&(o.TgZ(0,"small",17),o._uU(1," No v\xe1\u013aido"),o.qZA())}function O(a,U){1&a&&(o.TgZ(0,"small",17),o._uU(1," No v\xe1\u013aido"),o.qZA())}const I=function(){return{width:"70vw"}},w=function(){return{"960px":"75vw"}};let n=(()=>{class a{constructor(c,l){this.formBuilder=c,this.dataService=l,this.formSaveEvent=new o.vpe,this.display=!1,this.proveedor=new C.r,this.entidadconfig={path:"/proveedores/proveedor/entidades",columns:["id","nombre","direccion"]},this.form=this.formBuilder.group({nombre:["",_.kI.required],descripcion:["",_.kI.required]})}ngOnInit(){}newForm(){this.form.reset(),this.proveedor=new C.r,this.display=!0}updateform(c){this.proveedor=c,this.form.controls.nombre.setValue(c.nombre),this.form.controls.descripcion.setValue(c.descripcion),this.display=!0}submit(){let c=this.form.getRawValue();this.proveedor.nombre=c.nombre,this.proveedor.descripcion=c.descripcion,this.proveedor.establecimiento.id="1",this.dataService.postdata("/proveedores/proveedor",this.proveedor).subscribe(l=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.form.get("nombre")}get descripcion(){return this.form.get("descripcion")}autocompleteSelected(c){this.proveedor.entidad=c}static#t=this.\u0275fac=function(l){return new(l||a)(o.Y36(_.QS),o.Y36(v.D))};static#o=this.\u0275cmp=o.Xpm({type:a,selectors:[["proveedor-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:23,vars:15,consts:[["header","Registro de Proveedor",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],["class","p-field col-12",4,"ngIf"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidaddata","pInputText","","disabled","",3,"value"],["for","entidadnombre"],["type","text","id","provnombre","pInputText","","formControlName","nombre"],["for","provnombre"],["class","p-error",4,"ngIf"],["type","text","id","provdescripcion","pInputText","","formControlName","descripcion"],["for","provdescripcion"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-field","col-12"],[3,"config","itemSelected"],[1,"p-error"]],template:function(l,i){1&l&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(F){return i.display=F}),o.TgZ(1,"form",1),o.NdJ("submit",function(){return i.submit()}),o.TgZ(2,"div",2),o.YNc(3,y,3,1,"div",3),o.TgZ(4,"div",4)(5,"span",5),o._UZ(6,"input",6),o.TgZ(7,"label",7),o._uU(8,"Entidad"),o.qZA()()(),o.TgZ(9,"div",4)(10,"span",5),o._UZ(11,"input",8),o.TgZ(12,"label",9),o._uU(13,"Nombre:"),o.qZA(),o.YNc(14,E,2,0,"small",10),o.qZA()(),o.TgZ(15,"div",4)(16,"span",5),o._UZ(17,"input",11),o.TgZ(18,"label",12),o._uU(19,"Descripcion:"),o.qZA(),o.YNc(20,O,2,0,"small",10),o.qZA()()(),o._UZ(21,"p-button",13),o.TgZ(22,"p-button",14),o.NdJ("click",function(){return i.display=!1}),o.qZA()()()),2&l&&(o.Akn(o.DdM(13,I)),o.Q6J("visible",i.display)("modal",!0)("breakpoints",o.DdM(14,w))("draggable",!1)("resizable",!0),o.xp6(1),o.Q6J("formGroup",i.form),o.xp6(2),o.Q6J("ngIf",0===i.proveedor.id),o.xp6(3),o.Q6J("value",i.proveedor.entidad.id+" | "+i.proveedor.entidad.nombre+" | "+i.proveedor.entidad.direccion),o.xp6(8),o.Q6J("ngIf",(null==i.nombre?null:i.nombre.invalid)&&((null==i.nombre?null:i.nombre.dirty)||(null==i.nombre?null:i.nombre.touched))),o.xp6(6),o.Q6J("ngIf",(null==i.descripcion?null:i.descripcion.invalid)&&((null==i.descripcion?null:i.descripcion.dirty)||(null==i.descripcion?null:i.descripcion.touched))),o.xp6(1),o.Q6J("disabled",i.form.invalid||0===i.proveedor.entidad.id))},dependencies:[t.O5,b.zx,P.o,_._Y,_.Fj,_.JJ,_.JL,A.J,_.sg,_.u,Z.V],encapsulation:2})}return a})();const m=["form"];let e=(()=>{class a{constructor(c,l){this.dataService=c,this.confirmService=l,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"entidad.nombre",columnName:"Entidad"},{field:"nombre",columnName:"Cuenta"},{field:"descripcion",columnName:"Descripcion"},{field:"estado",columnName:"Estado"},{field:"saldo",columnName:"Saldo",align:"right"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:i=>!0},{icon:"pi pi-trash",event:"delete",condition:i=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(c){this.form.updateform(c)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/proveedores/proveedor",{}).subscribe(c=>{this.list=c})}tableAction(c){switch(c.event){case"modify":this.openModifyForm(c.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Proveedor '"+c.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/proveedores/proveedor",{id:c.row.id}).subscribe(i=>{this.getdata()})}})}}static#t=this.\u0275fac=function(l){return new(l||a)(o.Y36(v.D),o.Y36(g.I))};static#o=this.\u0275cmp=o.Xpm({type:a,selectors:[["proveedor-list"]],viewQuery:function(l,i){if(1&l&&o.Gf(m,7),2&l){let f;o.iGM(f=o.CRH())&&(i.form=f.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["form",""]],template:function(l,i){1&l&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"Listado de Proveedores"),o.qZA()(),o.TgZ(8,"div",6)(9,"button",7),o.NdJ("click",function(){return i.openNewForm()}),o.qZA()()(),o.TgZ(10,"div",8)(11,"mo-table",9),o.NdJ("action",function(F){return i.tableAction(F)}),o.qZA()()()()(),o.TgZ(12,"proveedor-form",10,11),o.NdJ("formSaveEvent",function(){return i.saveForm()}),o.qZA()()),2&l&&(o.xp6(11),o.Q6J("datatable",i.list)("columns",i.columns))},dependencies:[M.u,b.Hq,T.I,n],encapsulation:2})}return a})();var s=r(2655);const x=[{path:"",component:(()=>{class a{constructor(){}ngOnInit(){this.items=[{label:"Proveedores"},{label:"Transpote"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(l){return new(l||a)};static#o=this.\u0275cmp=o.Xpm({type:a,selectors:[["proveedor-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(l,i){1&l&&o._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&l&&o.Q6J("model",i.items)("home",i.home)},dependencies:[u.lC,s.a],encapsulation:2})}return a})(),children:[{path:"",component:e},{path:"**",redirectTo:""}]}];let J=(()=>{class a{static#t=this.\u0275fac=function(l){return new(l||a)};static#o=this.\u0275mod=o.oAB({type:a});static#e=this.\u0275inj=o.cJS({imports:[u.Bz.forChild(x),u.Bz]})}return a})();var N=r(8368),Q=r(3092),S=r(961);let D=(()=>{class a{static#t=this.\u0275fac=function(l){return new(l||a)};static#o=this.\u0275mod=o.oAB({type:a});static#e=this.\u0275inj=o.cJS({imports:[t.ez,J,N.U,Q.$,S.q,_.UX,Z.S]})}return a})()},8555:(h,p,r)=>{r.d(p,{r:()=>o});var t=r(5289),u=r(698);class o{constructor(){this.id=0,this.entidad=new t.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new u.A}}},5289:(h,p,r)=>{r.d(p,{$:()=>t});class t{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},698:(h,p,r)=>{r.d(p,{A:()=>t});class t{constructor(){this.id="0",this.nombre="",this.descripcion="",this.estado="ACTIVO"}}},156:(h,p,r)=>{r.d(p,{I:()=>w});var t=r(4946),u=r(6814),o=r(4621),v=r(2415);function g(n,m){if(1&n&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&n){const e=t.oxw(),s=e.index,d=e.$implicit,x=t.oxw();t.Udp("text-align",x.columns[s].align),t.xp6(1),t.hij("",d.columnName," ")}}function M(n,m){1&n&&t._UZ(0,"th",5)}function b(n,m){if(1&n&&(t.ynx(0),t.YNc(1,g,2,3,"th",3),t.YNc(2,M,1,0,"th",4),t.BQk()),2&n){const e=m.$implicit;t.xp6(1),t.Q6J("ngIf",e.field),t.xp6(1),t.Q6J("ngIf",!e.field)}}function T(n,m){if(1&n&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&n){const e=m.$implicit,s=t.oxw(2);t.xp6(1),t.Udp("text-align",e.align),t.uIk("colspan",e.colspan),t.xp6(1),t.hij("",s.foot.content[e.index]," ")}}function _(n,m){if(1&n&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,T,3,4,"ng-container",1),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.foot.cols)}}function C(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,s=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[e].align),t.xp6(1),t.Oqu(d.getfieldvalue(s,e))}}function P(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&n){const e=t.oxw().index,s=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(s,e)))}}function A(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&n){const e=t.oxw().index,s=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(s,e)))}}function Z(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(d){t.CHM(e);const x=t.oxw().$implicit,J=t.oxw(3).$implicit,N=t.oxw();return t.KtG(N.actionEvent(d,J,x.event))}),t._UZ(1,"i"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.icon)}}function y(n,m){if(1&n&&(t.ynx(0),t.YNc(1,Z,2,3,"a",7),t.BQk()),2&n){const e=m.$implicit,s=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",e.condition(s))}}function E(n,m){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,y,2,1,"ng-container",1),t.qZA()),2&n){const e=t.oxw().index,s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.columns[e].actions)}}function O(n,m){if(1&n&&(t.ynx(0),t.YNc(1,C,2,3,"td",6),t.YNc(2,P,3,5,"td",6),t.YNc(3,A,3,5,"td",6),t.YNc(4,E,2,1,"td",2),t.BQk()),2&n){const e=m.index,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.columns[e].field&&void 0===s.columns[e].type),t.xp6(1),t.Q6J("ngIf",s.columns[e].field&&"date"===s.columns[e].type),t.xp6(1),t.Q6J("ngIf",s.columns[e].field&&"datetime"===s.columns[e].type),t.xp6(1),t.Q6J("ngIf",!s.columns[e].field)}}function I(n,m){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,O,5,4,"ng-container",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.columns)}}let w=(()=>{class n{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let e of this.columns)void 0!==e.field&&mosetdefaults(this.fielddefault,e)}getfieldvalue(e,s){return mogetfieldvalue(this.datatable[e],this.columns[s].field)}actionEvent(e,s,d){e.preventDefault(),this.action.emit({event:d,row:s})}static#t=this.\u0275fac=function(s){return new(s||n)};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(s,d){1&s&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,b,3,2,"ng-container",1),t.qZA()(),t.YNc(5,_,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,I,2,1,"tr",1),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("ngForOf",d.columns),t.xp6(1),t.Q6J("ngIf",d.foot),t.xp6(2),t.Q6J("ngForOf",d.datatable))},dependencies:[u.sg,u.O5,o.L,v.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return n})()},3092:(h,p,r)=>{r.d(p,{$:()=>v});var t=r(6814),u=r(9177),o=r(4946);let v=(()=>{class g{static#t=this.\u0275fac=function(T){return new(T||g)};static#o=this.\u0275mod=o.oAB({type:g});static#e=this.\u0275inj=o.cJS({imports:[t.ez,u.A]})}return g})()}}]);