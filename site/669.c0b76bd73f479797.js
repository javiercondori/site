"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[669],{9669:(x,u,o)=>{o.r(u),o.d(u,{BaccountsModule:()=>M});var t=o(6814),m=o(7664),n=o(4946),d=o(2655);let T=(()=>{class r{constructor(){}ngOnInit(){this.items=[{label:"Transferencias"},{label:"Entre cuentas"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275cmp=n.Xpm({type:r,selectors:[["baccounts-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(a,l){1&a&&n._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&a&&n.Q6J("model",l.items)("home",l.home)},dependencies:[m.lC,d.a],encapsulation:2})}return r})();var f=o(7757),g=o(3259),C=o(707),A=o(156),h=o(95),b=o(2743),E=o(3714),Z=o(7492);function y(r,P){if(1&r){const e=n.EpF();n.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h2"),n._uU(7,"Transferencia Entre Cuentas"),n.qZA()(),n.TgZ(8,"div",7)(9,"button",8),n.NdJ("click",function(){n.CHM(e);const l=n.oxw();return n.KtG(l.salir())}),n.qZA()()(),n.TgZ(10,"div",9)(11,"form",10),n.NdJ("submit",function(){n.CHM(e);const l=n.oxw();return n.KtG(l.submit())}),n.TgZ(12,"div",11)(13,"div",12)(14,"span",13)(15,"mo-autocomplete",14),n.NdJ("itemSelected",function(l){n.CHM(e);const v=n.oxw();return n.KtG(v.originAccountSelected(l))}),n.qZA()()(),n.TgZ(16,"div",15)(17,"span",13),n._UZ(18,"input",16),n.TgZ(19,"label",17),n._uU(20,"Cuenta origen:"),n.qZA()()(),n.TgZ(21,"div",18),n._uU(22),n.qZA(),n.TgZ(23,"div",12)(24,"span",13)(25,"mo-autocomplete",14),n.NdJ("itemSelected",function(l){n.CHM(e);const v=n.oxw();return n.KtG(v.destinationAccountSelected(l))}),n.qZA()()(),n.TgZ(26,"div",15)(27,"span",13),n._UZ(28,"input",19),n.TgZ(29,"label",20),n._uU(30,"Cuenta Destino:"),n.qZA()()(),n.TgZ(31,"div",18),n._uU(32),n.qZA(),n.TgZ(33,"div",21)(34,"span",13),n._UZ(35,"input",22),n.TgZ(36,"label",23),n._uU(37,"Detalle:"),n.qZA()()(),n.TgZ(38,"div",21)(39,"span",13),n._UZ(40,"input",24),n.TgZ(41,"label",25),n._uU(42,"Monto:"),n.qZA()()()(),n._UZ(43,"p-button",26),n.TgZ(44,"p-button",27),n.NdJ("click",function(){n.CHM(e);const l=n.oxw();return n.KtG(l.salir())}),n.qZA()()()()()()()}if(2&r){const e=n.oxw();n.xp6(11),n.Q6J("formGroup",e.form),n.xp6(4),n.Q6J("config",e.originAccount),n.xp6(7),n.HOy(" Cuenta: ",e.transfer.originAccount.id,"|",e.transfer.originAccount.nombre," entidad: ",e.transfer.originAccount.entidad.id,"|",e.transfer.originAccount.entidad.nombre," "),n.xp6(3),n.Q6J("config",e.destinationAccount),n.xp6(7),n.HOy(" Cuenta: ",e.transfer.destinationAccount.id,"|",e.transfer.destinationAccount.nombre," entidad: ",e.transfer.destinationAccount.entidad.id,"|",e.transfer.destinationAccount.entidad.nombre," "),n.xp6(11),n.Q6J("disabled",e.form.invalid)}}let O=(()=>{class r{constructor(e,a){this.formBuilder=e,this.dataService=a,this.formEvent=new n.vpe,this.display=!1,this.transfer=new b.F,this.originAccount={path:"/transfer/baccount/accounts",columns:["id","nombre","entidad.id","entidad.nombre"]},this.destinationAccount={path:"/transfer/baccount/accounts",columns:["id","nombre","entidad.id","entidad.nombre"]},this.form=this.formBuilder.group({oaccount:[{value:0,disabled:!0}],daccount:[{value:0,disabled:!0},h.kI.required],comment:["",h.kI.required],amount:["0",h.kI.required]})}ngOnInit(){}open(e){this.form.reset(),this.form.controls.oaccount.setValue("0"),this.form.controls.daccount.setValue("0"),this.form.controls.comment.setValue(""),this.form.controls.amount.setValue(""),this.display=!0}salir(){this.formEvent.emit("salir"),this.display=!1}originAccountSelected(e){this.transfer.originAccount=e,this.form.controls.oaccount.setValue(this.transfer.originAccount.id)}destinationAccountSelected(e){this.transfer.destinationAccount=e,this.form.controls.daccount.setValue(this.transfer.destinationAccount.id)}submit(){let e=new b.F,a=this.form.getRawValue();e.originAccount.id=a.oaccount,e.destinationAccount.id=a.daccount,e.voucher.comment=a.comment,e.voucher.amount=a.amount,this.dataService.postdata("/transfer/baccount",e).subscribe(l=>{this.display=!1,this.formEvent.emit("save")})}get comment(){return this.form.get("comment")}get amount(){return this.form.get("amount")}static#t=this.\u0275fac=function(a){return new(a||r)(n.Y36(h.QS),n.Y36(f.D))};static#n=this.\u0275cmp=n.Xpm({type:r,selectors:[["baccounts-form"]],outputs:{formEvent:"formEvent"},decls:1,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-2"],[1,"p-float-label"],[3,"config","itemSelected"],[1,"p-field","col-12","md:col-1"],["id","oaccount","type","text","pInputText","","formControlName","oaccount"],["for","oaccount"],[1,"p-field","col-12","md:col-9"],["id","daccount","type","text","pInputText","","formControlName","daccount"],["for","daccount"],[1,"p-field","col-12","md:col-12"],["id","detalle","type","text","pInputText","","formControlName","comment"],["for","detalle"],["id","amount","type","text","pInputText","","formControlName","amount"],["for","amount"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"]],template:function(a,l){1&a&&n.YNc(0,y,45,12,"div",0),2&a&&n.Q6J("ngIf",l.display)},dependencies:[t.O5,g.u,C.Hq,C.zx,E.o,h._Y,h.Fj,h.JJ,h.JL,Z.J,h.sg,h.u],encapsulation:2})}return r})();const B=["form"];function I(r,P){if(1&r){const e=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h2"),n._uU(7,"Transferencias Entre Cuentas"),n.qZA()(),n.TgZ(8,"div",9)(9,"button",10),n.NdJ("click",function(){n.CHM(e);const l=n.oxw();return n.KtG(l.openForm())}),n.qZA()()(),n.TgZ(10,"div",11)(11,"mo-table",12),n.NdJ("action",function(l){n.CHM(e);const v=n.oxw();return n.KtG(v.tableAction(l))}),n.qZA()()()()()()}if(2&r){const e=n.oxw();n.xp6(11),n.Q6J("datatable",e.list)("columns",e.columns)}}const i=[{path:"",component:T,children:[{path:"",component:(()=>{class r{constructor(e){this.dataService=e,this.display=!0,this.currentDate=new Date,this.list=[],this.columns=[{field:"voucher.id",columnName:"Id"},{field:"voucher.vdate",columnName:"FECHA",type:"date"},{field:"originAccount.id",columnName:"Cta. Origen"},{field:"destinationAccount.id",columnName:"Cta. Dest."},{field:"voucher.comment",columnName:"Detalle"},{field:"voucher.amount",columnName:"Monto",align:"right"},{actions:[{icon:"pi pi-trash",event:"formula",condition:a=>!0}]}]}ngOnInit(){this.getdata()}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/transfer/baccount",{}).subscribe(e=>{this.list=e,console.log("JAVIER",this.list)})}tableAction(e){"formula"===e.event&&(this.display=!1)}formEvent(e){this.display=!0}openForm(){this.display=!1,this.form.open({})}static#t=this.\u0275fac=function(a){return new(a||r)(n.Y36(f.D))};static#n=this.\u0275cmp=n.Xpm({type:r,selectors:[["baccounts-manage"]],viewQuery:function(a,l){if(1&a&&n.Gf(B,7),2&a){let v;n.iGM(v=n.CRH())&&(l.form=v.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"formEvent"],["form",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar nueva Transferencia",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"]],template:function(a,l){1&a&&(n.YNc(0,I,12,2,"div",0),n.TgZ(1,"baccounts-form",1,2),n.NdJ("formEvent",function(D){return l.formEvent(D)}),n.qZA()),2&a&&n.Q6J("ngIf",l.display)},dependencies:[t.O5,g.u,C.Hq,A.I,O],encapsulation:2})}return r})()},{path:"**",redirectTo:""}]}];let p=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275mod=n.oAB({type:r});static#o=this.\u0275inj=n.cJS({imports:[m.Bz.forChild(i),m.Bz]})}return r})();var c=o(8368),s=o(3092),_=o(961);let M=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275mod=n.oAB({type:r});static#o=this.\u0275inj=n.cJS({imports:[t.ez,p,c.U,s.$,_.q,h.UX]})}return r})()},8555:(x,u,o)=>{o.d(u,{r:()=>n});var t=o(5289),m=o(698);class n{constructor(){this.id=0,this.entidad=new t.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new m.A}}},5289:(x,u,o)=>{o.d(u,{$:()=>t});class t{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},698:(x,u,o)=>{o.d(u,{A:()=>t});class t{constructor(){this.id="0",this.nombre="",this.descripcion="",this.estado="ACTIVO"}}},2743:(x,u,o)=>{o.d(u,{F:()=>n});var t=o(8555),m=o(8223);class n{constructor(){this.id=0,this.originAccount=new t.r,this.destinationAccount=new t.r,this.voucher=new m.c}}},8223:(x,u,o)=>{o.d(u,{c:()=>t});class t{constructor(){this.id=0,this.vdate=new Date,this.doccode=0,this.vtype="",this.agreement="",this.comment="",this.description="",this.amount=0,this.literal=""}}},156:(x,u,o)=>{o.d(u,{I:()=>U});var t=o(4946),m=o(6814),n=o(4621),d=o(2415);function T(i,p){if(1&i&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&i){const c=t.oxw(),s=c.index,_=c.$implicit,M=t.oxw();t.Udp("text-align",M.columns[s].align),t.xp6(1),t.hij("",_.columnName," ")}}function f(i,p){1&i&&t._UZ(0,"th",5)}function g(i,p){if(1&i&&(t.ynx(0),t.YNc(1,T,2,3,"th",3),t.YNc(2,f,1,0,"th",4),t.BQk()),2&i){const c=p.$implicit;t.xp6(1),t.Q6J("ngIf",c.field),t.xp6(1),t.Q6J("ngIf",!c.field)}}function C(i,p){if(1&i&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&i){const c=p.$implicit,s=t.oxw(2);t.xp6(1),t.Udp("text-align",c.align),t.uIk("colspan",c.colspan),t.xp6(1),t.hij("",s.foot.content[c.index]," ")}}function A(i,p){if(1&i&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,C,3,4,"ng-container",1),t.qZA()()),2&i){const c=t.oxw();t.xp6(2),t.Q6J("ngForOf",c.foot.cols)}}function h(i,p){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const c=t.oxw().index,s=t.oxw().index,_=t.oxw();t.Udp("text-align",_.columns[c].align),t.xp6(1),t.Oqu(_.getfieldvalue(s,c))}}function b(i,p){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&i){const c=t.oxw().index,s=t.oxw().index,_=t.oxw();t.Udp("text-align",_.columns[c].align),t.xp6(1),t.Oqu(t.lcZ(2,3,_.getfieldvalue(s,c)))}}function E(i,p){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&i){const c=t.oxw().index,s=t.oxw().index,_=t.oxw();t.Udp("text-align",_.columns[c].align),t.xp6(1),t.Oqu(t.lcZ(2,3,_.getfieldvalue(s,c)))}}function Z(i,p){if(1&i){const c=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(_){t.CHM(c);const M=t.oxw().$implicit,r=t.oxw(3).$implicit,P=t.oxw();return t.KtG(P.actionEvent(_,r,M.event))}),t._UZ(1,"i"),t.qZA()}if(2&i){const c=t.oxw().$implicit;t.xp6(1),t.Tol(c.icon)}}function y(i,p){if(1&i&&(t.ynx(0),t.YNc(1,Z,2,3,"a",7),t.BQk()),2&i){const c=p.$implicit,s=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",c.condition(s))}}function O(i,p){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,y,2,1,"ng-container",1),t.qZA()),2&i){const c=t.oxw().index,s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.columns[c].actions)}}function B(i,p){if(1&i&&(t.ynx(0),t.YNc(1,h,2,3,"td",6),t.YNc(2,b,3,5,"td",6),t.YNc(3,E,3,5,"td",6),t.YNc(4,O,2,1,"td",2),t.BQk()),2&i){const c=p.index,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.columns[c].field&&void 0===s.columns[c].type),t.xp6(1),t.Q6J("ngIf",s.columns[c].field&&"date"===s.columns[c].type),t.xp6(1),t.Q6J("ngIf",s.columns[c].field&&"datetime"===s.columns[c].type),t.xp6(1),t.Q6J("ngIf",!s.columns[c].field)}}function I(i,p){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,B,5,4,"ng-container",1),t.qZA()),2&i){const c=t.oxw();t.xp6(1),t.Q6J("ngForOf",c.columns)}}let U=(()=>{class i{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let c of this.columns)void 0!==c.field&&mosetdefaults(this.fielddefault,c)}getfieldvalue(c,s){return mogetfieldvalue(this.datatable[c],this.columns[s].field)}actionEvent(c,s,_){c.preventDefault(),this.action.emit({event:_,row:s})}static#t=this.\u0275fac=function(s){return new(s||i)};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(s,_){1&s&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,g,3,2,"ng-container",1),t.qZA()(),t.YNc(5,A,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,I,2,1,"tr",1),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("ngForOf",_.columns),t.xp6(1),t.Q6J("ngIf",_.foot),t.xp6(2),t.Q6J("ngForOf",_.datatable))},dependencies:[m.sg,m.O5,n.L,d.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return i})()},3092:(x,u,o)=>{o.d(u,{$:()=>d});var t=o(6814),m=o(9177),n=o(4946);let d=(()=>{class T{static#t=this.\u0275fac=function(C){return new(C||T)};static#n=this.\u0275mod=n.oAB({type:T});static#o=this.\u0275inj=n.cJS({imports:[t.ez,m.A]})}return T})()},2415:(x,u,o)=>{o.d(u,{E:()=>n});var t=o(4946),m=o(6814);let n=(()=>{class d{constructor(f){this.datePipe=f}transform(f,...g){return this.datePipe.transform(f,"dd/MM/yyyy")}static#t=this.\u0275fac=function(g){return new(g||d)(t.Y36(m.uU,16))};static#n=this.\u0275pipe=t.Yjl({name:"dateFormat",type:d,pure:!0})}return d})()},4621:(x,u,o)=>{o.d(u,{L:()=>n});var t=o(4946),m=o(6814);let n=(()=>{class d{constructor(f){this.datePipe=f}transform(f,...g){return this.datePipe.transform(f,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(g){return new(g||d)(t.Y36(m.uU,16))};static#n=this.\u0275pipe=t.Yjl({name:"datetimeFormat",type:d,pure:!0})}return d})()},9177:(x,u,o)=>{o.d(u,{A:()=>n});var t=o(6814),m=o(4946);let n=(()=>{class d{static#t=this.\u0275fac=function(g){return new(g||d)};static#n=this.\u0275mod=m.oAB({type:d});static#o=this.\u0275inj=m.cJS({providers:[t.uU],imports:[t.ez]})}return d})()}}]);