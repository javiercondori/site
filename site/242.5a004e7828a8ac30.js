"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[242],{8216:(f,u,i)=>{i.r(u),i.d(u,{RoleModule:()=>J});var l=i(6814),m=i(7664),t=i(4946);let a=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-role-main"]],decls:1,vars:0,template:function(n,e){1&n&&t._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2})}return o})();var y=i(7757),s=i(1106),d=i(3259),_=i(9324),c=i(95);class h{constructor(){this.id=0,this.name="",this.directory=""}}var R=i(707),T=i(3714),g=i(7213);function C(o,N){1&o&&(t.TgZ(0,"small",12),t._uU(1,"Nombre de rol no v\xe1lido"),t.qZA())}function E(o,N){1&o&&(t.TgZ(0,"small",12),t._uU(1,"Directorio no v\xe1lido"),t.qZA())}const M=function(){return{width:"70vw"}},b=function(){return{"600px":"75vw"}};let Z=(()=>{class o{constructor(r,n){this.formBuilder=r,this.dataService=n,this.role=new h,this.display=!1,this.formEvent=new t.vpe,this.form=this.formBuilder.group({name:["",c.kI.required],directory:["",c.kI.required]})}new(){this.role=new h,this.form.reset(),this.form.controls.name.setValue(this.role.name),this.form.controls.directory.setValue(this.role.directory),this.display=!0}update(r){this.role=r,this.form.controls.name.setValue(r.name),this.form.controls.directory.setValue(r.directory),this.display=!0}submit(){let r=new h,n=this.form.getRawValue();r.id=this.role.id,r.name=n.name,r.directory=n.directory,this.dataService.postdata("/system/role/save",r).subscribe(e=>{this.display=!1,this.formEvent.emit()})}get name(){return this.form.get("name")}get directory(){return this.form.get("directory")}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(c.QS),t.Y36(y.D))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["role-form"]],outputs:{formEvent:"formEvent"},decls:17,vars:13,consts:[["header","Nuevo Transporte",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","rolename","pInputText","","formControlName","name"],["for","rolename"],["class","p-error",4,"ngIf"],["id","roledirectory","type","text","pInputText","","formControlName","directory"],["for","roledirectory"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(n,e){1&n&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(v){return e.display=v}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return e.submit()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"input",5),t.TgZ(6,"label",6),t._uU(7,"Rol de Sistema:"),t.qZA(),t.YNc(8,C,2,0,"small",7),t.qZA()(),t.TgZ(9,"div",3)(10,"span",4),t._UZ(11,"input",8),t.TgZ(12,"label",9),t._uU(13,"Ruta:"),t.qZA(),t.YNc(14,E,2,0,"small",7),t.qZA()()(),t._UZ(15,"p-button",10),t.TgZ(16,"p-button",11),t.NdJ("click",function(){return e.display=!1}),t.qZA()()()),2&n&&(t.Akn(t.DdM(11,M)),t.Q6J("visible",e.display)("modal",!0)("breakpoints",t.DdM(12,b))("draggable",!1)("resizable",!0),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(7),t.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),t.xp6(6),t.Q6J("ngIf",(null==e.directory?null:e.directory.invalid)&&((null==e.directory?null:e.directory.dirty)||(null==e.directory?null:e.directory.touched))),t.xp6(1),t.Q6J("disabled",e.form.invalid))},dependencies:[l.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,R.zx,T.o,g.V],encapsulation:2})}return o})();const F=["form"],A=[{path:"",component:a,children:[{path:"",component:(()=>{class o{constructor(r,n){this.dataService=r,this.confirmService=n,this.data={content:[],columns:[{field:"id",columnName:"Id"},{field:"name",columnName:"Nombre"},{field:"directory",columnName:"Ruta"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:e=>!0},{iconname:"arrow_forward",iconclass:"material-icons-outlined mo-icons-center",event:"modify",condition:e=>!0}]}]}}ngOnInit(){this.getdata()}saveForm(){this.getdata()}onReportEvent(r){switch(r.event){case"modify":this.form.update(r.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar Rol '"+r.row.name+"'?",accept:()=>{this.dataService.postdata("/system/role/delete",r.row).subscribe(e=>{this.getdata()})}})}}onFormEvent(){this.getdata()}newRole(){this.form.new()}getdata(){this.dataService.getdata("/system/role/list",{}).subscribe(r=>{this.data.content=r})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(y.D),t.Y36(s.I))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-role-manage"]],viewQuery:function(n,e){if(1&n&&t.Gf(F,7),2&n){let p;t.iGM(p=t.CRH())&&(e.form=p.first)}},decls:16,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Nuevo Rol de Sistema",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],[1,"mo-panel-content"],[3,"data","action"],[3,"formEvent"],["form",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Roles de Sistema"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.newRole()}),t.TgZ(10,"i",8),t._uU(11,"add_circle_outline"),t.qZA()()()(),t.TgZ(12,"div",9)(13,"mo-report",10),t.NdJ("action",function(v){return e.onReportEvent(v)}),t.qZA()()()()()(),t.TgZ(14,"role-form",11,12),t.NdJ("formEvent",function(){return e.onFormEvent()}),t.qZA()),2&n&&(t.xp6(13),t.Q6J("data",e.data))},dependencies:[d.u,_.t,Z],encapsulation:2})}return o})()},{path:"**",redirectTo:""}]}];let U=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(A),m.Bz]})}return o})();var D=i(8368),P=i(4553);let J=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.ez,U,c.UX,D.U,P.W,g.S]})}return o})()},2415:(f,u,i)=>{i.d(u,{E:()=>t});var l=i(4946),m=i(6814);let t=(()=>{class a{constructor(s){this.datePipe=s}transform(s,...d){return this.datePipe.transform(s,"dd/MM/yyyy")}static#t=this.\u0275fac=function(d){return new(d||a)(l.Y36(m.uU,16))};static#e=this.\u0275pipe=l.Yjl({name:"dateFormat",type:a,pure:!0})}return a})()},4621:(f,u,i)=>{i.d(u,{L:()=>t});var l=i(4946),m=i(6814);let t=(()=>{class a{constructor(s){this.datePipe=s}transform(s,...d){return this.datePipe.transform(s,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(d){return new(d||a)(l.Y36(m.uU,16))};static#e=this.\u0275pipe=l.Yjl({name:"datetimeFormat",type:a,pure:!0})}return a})()},9177:(f,u,i)=>{i.d(u,{A:()=>t});var l=i(6814),m=i(4946);let t=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#e=this.\u0275mod=m.oAB({type:a});static#o=this.\u0275inj=m.cJS({providers:[l.uU],imports:[l.ez]})}return a})()}}]);