"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[452],{3452:(u,a,n)=>{n.r(a),n.d(a,{ProduccionModule:()=>A});var s=n(6814),r=n(7664),t=n(4946),h=n(2655);let f=(()=>{class i{constructor(){}ngOnInit(){this.items=[{label:"Producci\xf3n"},{label:"Registro de Produccion"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-produccion-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(o,c){1&o&&t._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&o&&t.Q6J("model",c.items)("home",c.home)},dependencies:[r.lC,h.a],encapsulation:2})}return i})();var v=n(9709);class m{constructor(){this.id=0,this.fecha=new Date,this.cantidad=0,this.pu=0,this.producto=new v.U}}var b=n(7757),g=n(1106),w=n(5043),p=n(1532);const P=["tableeditor"],C=[{path:"",component:f,children:[{path:"",component:(()=>{class i{constructor(e,o){this.dataService=e,this.confirmService=o,this.currentDate=new Date,this.list=[],this.columns=[{editable:!1,field:"id",columnName:"ID"},{editable:!0,field:"producto.nombre",columnName:"Producto",input:{type:"autocomplete",path:"/produccion/produccion/findproductos",columns:["id","nombre"]}},{editable:!0,field:"cantidad",columnName:"CANTIDAD",input:{type:"numeric",precision:"15",scale:"2"}},{editable:!1,field:"pu",columnName:"P/U"},{actions:[{icon:"pi pi-trash",event:"delete",condition:c=>0!==c.id}]}]}ngOnInit(){this.getdata()}getdata(){this.dataService.getdata("/produccion/produccion",{date:this.currentDate}).subscribe(e=>{this.list=e,this.tableeditor.updateData(this.list),this.tableeditor.addRow(new m,"id")})}cellEnterValue(e){"producto.nombre"===e.field?(mosetfieldvalue(this.list[e.row],"producto.id",e.value.id),mosetfieldvalue(this.list[e.row],"producto.nombre",e.value.nombre)):mosetfieldvalue(this.list[e.row],e.field,e.value);let o=this.list[e.row];0===o.producto.id||0===o.cantidad||this.dataService.postdata("/produccion/produccion",o).subscribe(c=>{this.list[e.row]=c,this.tableeditor.addRow(new m,"id")})}rowActionEvent(e){let o=e.row;"delete"===e.event&&this.confirmService.setconfirm({message:"Eliminar producci\xf3n Nro '"+o.id+"' de esta fecha?",accept:()=>{this.dataService.postdata("/produccion/produccion/delete",e.row).subscribe(d=>{this.tableeditor.deleteRow("id",o.id)})}})}onSelectedDate(e){this.currentDate=e,this.getdata()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(b.D),t.Y36(g.I))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-produccion-manage"]],viewQuery:function(o,c){if(1&o&&t.Gf(P,7),2&o){let d;t.iGM(d=t.CRH())&&(c.tableeditor=d.first)}},decls:15,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["for","dateformat"],["dateFormat","dd MM yy","inputId","dateformat",3,"onSelect"],[1,"mo-panel-content"],[3,"columns","cellEnterValueEvent","rowActionEvent"],["tableeditor",""]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Fecha:"),t.qZA(),t.TgZ(11,"p-calendar",8),t.NdJ("onSelect",function(l){return c.onSelectedDate(l)}),t.qZA()()(),t.TgZ(12,"div",9)(13,"mo-tableeditor",10,11),t.NdJ("cellEnterValueEvent",function(l){return c.cellEnterValue(l)})("rowActionEvent",function(l){return c.rowActionEvent(l)}),t.qZA()()()()()()),2&o&&(t.xp6(7),t.hij("Produccion por fecha ",c.currentDate,""),t.xp6(6),t.Q6J("columns",c.columns))},dependencies:[w.O,p.f],encapsulation:2})}return i})()},{path:"**",redirectTo:""}]}];let E=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(C),r.Bz]})}return i})();var M=n(8368),y=n(1494);let A=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[s.ez,E,M.U,y.l,p._8]})}return i})()},9709:(u,a,n)=>{n.d(a,{U:()=>r});var s=n(8196);class r{constructor(){this.id=0,this.nombre="",this.comentario="",this.tipo=new s.o,this.estado="ACTIVO",this.factorinventario="1",this.orden=1}}},8196:(u,a,n)=>{n.d(a,{o:()=>s});class s{constructor(){this.id=0,this.nombre=""}}}}]);