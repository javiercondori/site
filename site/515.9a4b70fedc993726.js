"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[515],{3515:(R,m,a)=>{a.r(m),a.d(m,{RecepcionModule:()=>B});var d=a(6814),p=a(7664),e=a(4946);let u=(()=>{class r{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["recepcion-main"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2})}return r})();var i=a(5413),M=a(7757),h=a(1106),l=a(3259),f=a(95),E=a(9324),g=a(1532),v=a(6084),C=a(707),T=a(2772),y=a(2898),Z=a(6130);const F=["notaentregaform"],_=["notamanage"],N=["respform"];let J=(()=>{class r{constructor(){this.display=!1,this.transporte=new i.e,this.ruta="/proveedores/recepcion",this.recepManageEvent=new e.vpe}ngOnInit(){}open(n){if(this.transporte=n,0!==n.id){let t=new v.Q;t.transporte=this.transporte,this.neform.newForm(t),this.notamanage.update(this.transporte.id)}this.respForm.open(this.transporte),this.display=!0}onExit(){this.display=!1,this.recepManageEvent.emit("")}onRespFormEvent(n){this.transporte=n;var t=new v.Q;t.transporte=this.transporte,this.neform.newForm(t),this.notamanage.update(this.transporte.id)}onNotaManageEvent(n){if("update"===n.action)this.neform.updateForm(n.value.nota);else{let t=new v.Q;t.transporte=this.transporte,this.neform.newForm(t)}}onNotaFormEvent(n){this.notamanage.update(this.transporte.id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["recep-manage"]],viewQuery:function(t,o){if(1&t&&(e.Gf(F,7),e.Gf(_,7),e.Gf(N,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.neform=s.first),e.iGM(s=e.CRH())&&(o.notamanage=s.first),e.iGM(s=e.CRH())&&(o.respForm=s.first)}},outputs:{recepManageEvent:"recepManageEvent"},decls:20,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"path","formEvent"],["respform",""],[1,"card",3,"hidden"],["tipo","RECEPCION",3,"path","notaFormEvent"],["notaentregaform",""],[3,"path","notaManageEvent"],["notamanage",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Registro Transporte"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return o.onExit()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"resp-form",9,10),e.NdJ("formEvent",function(c){return o.onRespFormEvent(c)}),e.qZA()()(),e.TgZ(13,"div",11)(14,"nota-form",12,13),e.NdJ("notaFormEvent",function(c){return o.onNotaFormEvent(c)}),e.qZA()(),e.TgZ(16,"div",11)(17,"notas-manage",14,15),e.NdJ("notaManageEvent",function(c){return o.onNotaManageEvent(c)}),e.qZA()()(),e._UZ(19,"div",2),e.qZA()()),2&t&&(e.Q6J("hidden",!o.display),e.xp6(11),e.Q6J("path",o.ruta),e.xp6(2),e.Q6J("hidden",0===o.transporte.id),e.xp6(1),e.Q6J("path",o.ruta),e.xp6(2),e.Q6J("hidden",0===o.transporte.id),e.xp6(1),e.Q6J("path",o.ruta))},dependencies:[l.u,C.Hq,T.Z,y.k,Z.T],encapsulation:2})}return r})();const A=["recepmanage"];function D(r,P){if(1&r){const n=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h3"),e._uU(7,"Recepcion a proveedores"),e.qZA()(),e.TgZ(8,"div",9)(9,"button",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.onNewResp())}),e.TgZ(10,"i",11),e._uU(11,"add_circle_outline"),e.qZA()(),e.TgZ(12,"label"),e._uU(13,"Fecha:"),e.qZA(),e.TgZ(14,"p-calendar",12),e.NdJ("ngModelChange",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.currentDate=o)})("onSelect",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.onSelectedDate(o))}),e.qZA()()(),e.TgZ(15,"div",13)(16,"mo-report",14),e.NdJ("action",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.onReportEvent(o))}),e.qZA()()()()()()}if(2&r){const n=e.oxw();e.xp6(14),e.Q6J("ngModel",n.currentDate),e.xp6(2),e.Q6J("data",n.report)}}const Q=[{path:"",component:u,children:[{path:"",component:(()=>{class r{constructor(n,t){this.dataService=n,this.confirmService=t,this.path="/proveedores/recepcion",this.display=!0,this.currentDate=new Date,this.report={content:[],rows:{class:"pendiente",condition:o=>"PENDIENTE"===o.estado},columns:[{field:"id",columnName:"Id"},{field:"fecha",columnName:"Fecha",type:"datetime"},{field:"conductor",columnName:"Conductor"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:o=>!0},{iconname:"arrow_forward",iconclass:"material-icons-outlined mo-icons-center",event:"manage",condition:o=>!0}]}]}}ngOnInit(){this.getdata()}saveForm(){this.getdata(),this.display=!0}onNewResp(){this.recepmanage.open(new i.e),this.display=!1}onSelectedDate(n){this.currentDate=n,this.getdata()}onReportEvent(n){switch(n.event){case"manage":this.recepmanage.open(n.row),this.display=!1;break;case"delete":this.confirmService.setconfirm({message:"Eliminar '"+n.row.id+"'?",accept:()=>{this.dataService.deletedata(this.path+"/respdelete",{id:n.row.id}).subscribe(o=>{this.getdata()})}})}}onRecepManageEvent(n){this.display=!0,this.getdata()}getdata(){this.dataService.getdata(this.path+"/transportes",{date:this.currentDate}).subscribe(n=>{this.report.content=n})}static#e=this.\u0275fac=function(t){return new(t||r)(e.Y36(M.D),e.Y36(h.I))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-recep-responsable"]],viewQuery:function(t,o){if(1&t&&e.Gf(A,7),2&t){let s;e.iGM(s=e.CRH())&&(o.recepmanage=s.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"recepManageEvent"],["recepmanage",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Registrar Transporte",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],["dateFormat","dd MM yy","inputId","dateformat","appendTo","body",3,"ngModel","ngModelChange","onSelect"],[1,"mo-panel-content"],[3,"data","action"]],template:function(t,o){1&t&&(e.YNc(0,D,17,2,"div",0),e.TgZ(1,"recep-manage",1,2),e.NdJ("recepManageEvent",function(c){return o.onRecepManageEvent(c)}),e.qZA()),2&t&&e.Q6J("ngIf",o.display)},dependencies:[d.O5,l.u,f.JJ,f.On,E.t,g.f,J],encapsulation:2})}return r})()},{path:"**",redirectTo:""}]}];let w=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(Q),p.Bz]})}return r})();var S=a(8368),I=a(3092),b=a(961),G=a(1494),O=a(4553),H=a(1310),U=a(7090),x=a(9604);let B=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[d.ez,w,S.U,H.H,U.$,x.w,O.W,I.$,b.q,G.l,g._8]})}return r})()},1494:(R,m,a)=>{a.d(m,{l:()=>u});var d=a(6814),p=a(3500),e=a(4946);let u=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[d.ez,p.K]})}return i})()}}]);