"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[664],{9709:(f,u,e)=>{e.d(u,{U:()=>l});var s=e(8196);class l{constructor(){this.id=0,this.nombre="",this.comentario="",this.tipo=new s.o,this.estado="ACTIVO",this.facprn="1",this.orden=1}}},8196:(f,u,e)=>{e.d(u,{o:()=>s});class s{constructor(){this.id=0,this.nombre=""}}},4225:(f,u,e)=>{e.r(u),e.d(u,{ProductoModule:()=>w});var s=e(6814),l=e(7664),t=e(4946),a=e(2848),b=e(1106),m=e(3259),c=e(707),_=e(9324),d=e(95),T=e(9709),y=e(3714),P=e(2105),g=e(7213);function Z(r,h){1&r&&(t.TgZ(0,"small",20),t._uU(1,"Nombre no v\xe1lido"),t.qZA())}function C(r,h){1&r&&(t.TgZ(0,"small",20),t._uU(1,"Comentario es requerido."),t.qZA())}function A(r,h){1&r&&(t.TgZ(0,"small",20),t._uU(1,"Factor para produccion no v\xe1lido."),t.qZA())}function E(r,h){1&r&&(t.TgZ(0,"small",20),t._uU(1,"Orden no V\xe1lido"),t.qZA())}const F=function(){return{width:"70vw"}},U=function(){return{"960px":"75vw"}};let M=(()=>{class r{constructor(n,i){this.formBuilder=n,this.dataService=i,this.formSaveEvent=new t.vpe,this.entidad=new T.U,this.display=!1,this.tipos=[],this.form=this.formBuilder.group({id:[{value:0,disabled:!0}],nombre:["",d.kI.required],comentario:["",d.kI.required],facprn:["",d.kI.required],tipo:[{},d.kI.required],orden:[1,d.kI.required]})}ngOnInit(){}newForm(){this.getTipos(),this.form.reset(),this.form.controls.id.setValue(this.entidad.id),this.form.controls.tipo.setValue(this.tipos[0]),this.display=!0}updateform(n){this.getTipos(),this.form.reset(),this.form.controls.id.setValue(n.id),this.form.controls.nombre.setValue(n.nombre),this.form.controls.comentario.setValue(n.comentario),this.form.controls.facprn.setValue(n.facprn),this.form.controls.tipo.setValue(n.tipo),this.form.controls.orden.setValue(n.orden),this.display=!0}submit(){let n=this.form.getRawValue();this.dataService.postdata("/almacen/producto/w",n).subscribe(i=>{this.display=!1,this.formSaveEvent.emit()})}getTipos(){this.dataService.getdata("/almacen/producto/r/tipos",{}).subscribe(n=>{this.tipos=n})}get nombre(){return this.form.get("nombre")}get comentario(){return this.form.get("direccion")}get facprn(){return this.form.get("facprn")}get orden(){return this.form.get("orden")}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(d.QS),t.Y36(a.D))};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["producto-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:39,vars:16,consts:[["header","Datos Producto",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","productoid","pInputText","","formControlName","id"],["for","productoid"],["type","text","id","productonombre","pInputText","","formControlName","nombre"],["for","productonombre"],["class","p-error",4,"ngIf"],["id","productocomentario","type","text","pInputText","","formControlName","comentario"],["for","productocomentario"],["id","productofactor","type","text","pInputText","","formControlName","facprn"],["for","productofactor"],["id","productoorden","type","text","pInputText","","formControlName","orden"],["for","productoorden"],["appendTo","body","optionLabel","nombre","formControlName","tipo","id","tipo",3,"options"],["for","tipo"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(i,o){1&i&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(v){return o.display=v}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return o.submit()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"input",5),t.TgZ(6,"label",6),t._uU(7,"ID:"),t.qZA()()(),t.TgZ(8,"div",3)(9,"span",4),t._UZ(10,"input",7),t.TgZ(11,"label",8),t._uU(12,"Nombre:"),t.qZA(),t.YNc(13,Z,2,0,"small",9),t.qZA()(),t.TgZ(14,"div",3)(15,"span",4),t._UZ(16,"input",10),t.TgZ(17,"label",11),t._uU(18,"Comentario:"),t.qZA(),t.YNc(19,C,2,0,"small",9),t.qZA()(),t.TgZ(20,"div",3)(21,"span",4),t._UZ(22,"input",12),t.TgZ(23,"label",13),t._uU(24,"Factor para Producci\xf3n:"),t.qZA(),t.YNc(25,A,2,0,"small",9),t.qZA()(),t.TgZ(26,"div",3)(27,"span",4),t._UZ(28,"input",14),t.TgZ(29,"label",15),t._uU(30,"Orden:"),t.qZA(),t.YNc(31,E,2,0,"small",9),t.qZA()(),t.TgZ(32,"div",3)(33,"span",4),t._UZ(34,"p-dropdown",16),t.TgZ(35,"label",17),t._uU(36,"Tipo:"),t.qZA()()()(),t._UZ(37,"p-button",18),t.TgZ(38,"p-button",19),t.NdJ("click",function(){return o.display=!1}),t.qZA()()()),2&i&&(t.Akn(t.DdM(14,F)),t.Q6J("visible",o.display)("modal",!0)("breakpoints",t.DdM(15,U))("draggable",!1)("resizable",!0),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(12),t.Q6J("ngIf",(null==o.nombre?null:o.nombre.invalid)&&((null==o.nombre?null:o.nombre.dirty)||(null==o.nombre?null:o.nombre.touched))),t.xp6(6),t.Q6J("ngIf",(null==o.comentario?null:o.comentario.invalid)&&((null==o.comentario?null:o.comentario.dirty)||(null==o.comentario?null:o.comentario.touched))),t.xp6(6),t.Q6J("ngIf",(null==o.facprn?null:o.facprn.invalid)&&((null==o.facprn?null:o.facprn.dirty)||(null==o.facprn?null:o.facprn.touched))),t.xp6(6),t.Q6J("ngIf",(null==o.orden?null:o.orden.invalid)&&((null==o.orden?null:o.orden.dirty)||(null==o.orden?null:o.orden.touched))),t.xp6(3),t.Q6J("options",o.tipos),t.xp6(3),t.Q6J("disabled",o.form.invalid))},dependencies:[s.O5,c.zx,y.o,P.Lt,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,g.V],encapsulation:2})}return r})();const I=["form"];let N=(()=>{class r{constructor(n,i){this.dataService=n,this.confirmService=i,this.currentDate=new Date,this.report={content:[],columns:[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{field:"facprn",columnName:"Factor"},{field:"tipo.nombre",columnName:"Tipo"},{actions:[{iconclass:"pi pi-pencil",event:"modify",condition:o=>!0},{iconclass:"pi pi-trash",event:"delete",condition:o=>!0}]}]}}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(n){this.form.updateform(n)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/almacen/producto/r",{date:this.currentDate}).subscribe(n=>{this.report.content=n})}tableAction(n){switch(n.event){case"modify":this.openModifyForm(n.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Producto '"+n.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/almacen/producto/d",{id:n.row.id}).subscribe(o=>{this.getdata()})}})}}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(a.D),t.Y36(b.I))};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["producto-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(I,7),2&i){let p;t.iGM(p=t.CRH())&&(o.form=p.first)}},decls:14,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar nuevo Producto",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"data","action"],[3,"formSaveEvent"],["form",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Listado de Productos"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.openNewForm()}),t.qZA()()(),t.TgZ(10,"div",8)(11,"mo-report",9),t.NdJ("action",function(v){return o.tableAction(v)}),t.qZA()()()()(),t.TgZ(12,"producto-form",10,11),t.NdJ("formSaveEvent",function(){return o.saveForm()}),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("data",o.report))},dependencies:[m.u,c.Hq,_.t,M],encapsulation:2})}return r})();var D=e(2655);const J=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){this.items=[{label:"Almacen"},{label:"Productos"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["producto-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(i,o){1&i&&t._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&i&&t.Q6J("model",o.items)("home",o.home)},dependencies:[l.lC,D.a],encapsulation:2})}return r})(),children:[{path:"",component:N},{path:"**",redirectTo:""}]}];let O=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(J),l.Bz]})}return r})();var S=e(8368),L=e(4553);let w=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#o=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[s.ez,O,S.U,L.W,d.UX,g.S]})}return r})()},2415:(f,u,e)=>{e.d(u,{E:()=>t});var s=e(4946),l=e(6814);let t=(()=>{class a{constructor(m){this.datePipe=m}transform(m,...c){return this.datePipe.transform(m,"dd/MM/yyyy")}static#t=this.\u0275fac=function(c){return new(c||a)(s.Y36(l.uU,16))};static#o=this.\u0275pipe=s.Yjl({name:"dateFormat",type:a,pure:!0})}return a})()},4621:(f,u,e)=>{e.d(u,{L:()=>t});var s=e(4946),l=e(6814);let t=(()=>{class a{constructor(m){this.datePipe=m}transform(m,...c){return this.datePipe.transform(m,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(c){return new(c||a)(s.Y36(l.uU,16))};static#o=this.\u0275pipe=s.Yjl({name:"datetimeFormat",type:a,pure:!0})}return a})()},9177:(f,u,e)=>{e.d(u,{A:()=>t});var s=e(6814),l=e(4946);let t=(()=>{class a{static#t=this.\u0275fac=function(c){return new(c||a)};static#o=this.\u0275mod=l.oAB({type:a});static#e=this.\u0275inj=l.cJS({providers:[s.uU],imports:[s.ez]})}return a})()}}]);