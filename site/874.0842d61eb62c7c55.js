"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[874],{7874:(U,f,r)=>{r.r(f),r.d(f,{CatalogoModule:()=>J});var t=r(6814),d=r(95),g=r(7664),o=r(4946),u=r(7757),M=r(1106),C=r(156),h=r(3259),v=r(707),T=r(2611),x=r(7213),Z=r(3714);function y(l,E){1&l&&(o.TgZ(0,"small",15),o._uU(1,"Username is not available."),o.qZA())}function F(l,E){1&l&&(o.TgZ(0,"small",15),o._uU(1,"Username is not available."),o.qZA())}const O=function(){return{width:"70vw"}},I=function(){return{"960px":"75vw"}};let w=(()=>{class l{constructor(c,s){this.formBuilder=c,this.dataService=s,this.displayResponsive=!1,this.catalogo=new T.W,this.formSaveEvent=new o.vpe,this.registerForm=this.formBuilder.group({id:[{value:"0",disabled:!0}],nombre:[this.catalogo.nombre,d.kI.required],descripcion:[this.catalogo.descripcion,d.kI.required]})}ngOnInit(){}newCatalogo(){this.registerForm.reset(),this.registerForm.controls.id.setValue(this.catalogo.id),this.displayResponsive=!0}updateCatalogo(c){this.registerForm.reset(),this.catalogo=c,this.registerForm.controls.id.setValue(c.id),this.registerForm.controls.nombre.setValue(c.nombre),this.registerForm.controls.descripcion.setValue(c.descripcion),this.displayResponsive=!0}submitcat(){let c=new T.W;c=this.registerForm.getRawValue(),this.dataService.postdata("/gastos/catalogo",c).subscribe(s=>{this.displayResponsive=!1,this.formSaveEvent.emit()})}get nombrecat(){return this.registerForm.get("nombre")}get descripcioncat(){return this.registerForm.get("descripcion")}static#t=this.\u0275fac=function(s){return new(s||l)(o.Y36(d.QS),o.Y36(u.D))};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["catalogo-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:22,vars:12,consts:[["header","Registro catalogo",3,"visible","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-5"],[1,"p-float-label"],["type","text","id","catalogoid","pInputText","","formControlName","id"],["for","catalogoid"],[1,"p-field","col-12","md:col-7"],["type","text","id","catalogonombre","pInputText","","formControlName","nombre"],["for","catalogonombre"],["class","p-error",4,"ngIf"],["id","catalogodescrip","type","text","pInputText","","formControlName","descripcion"],["for","catalogodescrip"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(s,a){1&s&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(N){return a.displayResponsive=N}),o.TgZ(1,"form",1),o.NdJ("submit",function(){return a.submitcat()}),o.TgZ(2,"div",2)(3,"div",3)(4,"span",4),o._UZ(5,"input",5),o.TgZ(6,"label",6),o._uU(7,"ID:"),o.qZA()()(),o.TgZ(8,"div",7)(9,"span",4),o._UZ(10,"input",8),o.TgZ(11,"label",9),o._uU(12,"Nombre:"),o.qZA(),o.YNc(13,y,2,0,"small",10),o.qZA()(),o.TgZ(14,"div",3)(15,"span",4),o._UZ(16,"input",11),o.TgZ(17,"label",12),o._uU(18,"Descripci\xf3n"),o.qZA(),o.YNc(19,F,2,0,"small",10),o.qZA()()(),o._UZ(20,"p-button",13),o.TgZ(21,"p-button",14),o.NdJ("click",function(){return a.displayResponsive=!1}),o.qZA()()()),2&s&&(o.Akn(o.DdM(10,O)),o.Q6J("visible",a.displayResponsive)("breakpoints",o.DdM(11,I))("draggable",!1)("resizable",!1),o.xp6(1),o.Q6J("formGroup",a.registerForm),o.xp6(12),o.Q6J("ngIf",(null==a.nombrecat?null:a.nombrecat.invalid)&&((null==a.nombrecat?null:a.nombrecat.dirty)||(null==a.nombrecat?null:a.nombrecat.touched))),o.xp6(6),o.Q6J("ngIf",(null==a.descripcioncat?null:a.descripcioncat.invalid)&&((null==a.descripcioncat?null:a.descripcioncat.dirty)||(null==a.descripcioncat?null:a.descripcioncat.touched))),o.xp6(1),o.Q6J("disabled",a.registerForm.invalid))},dependencies:[t.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,v.zx,x.V,Z.o],encapsulation:2})}return l})();const A=["catalogoform"];let e=(()=>{class l{constructor(c,s){this.dataService=c,this.confirmService=s,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"descripcion",columnName:"Descripcion"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:a=>!0},{icon:"pi pi-trash",event:"delete",condition:a=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newCatalogo()}openModifyForm(c){this.form.updateCatalogo(c)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/gastos/catalogo",{}).subscribe(c=>{this.list=c})}myaction(c){switch(c.event){case"modify":this.openModifyForm(c.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Catalogo '"+c.row.nombre+"'",accept:()=>{this.dataService.deletedata("/gastos/catalogo",{id:c.row.id}).subscribe(a=>{this.getdata()})}})}}static#t=this.\u0275fac=function(s){return new(s||l)(o.Y36(u.D),o.Y36(M.I))};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["catalogo-list"]],viewQuery:function(s,a){if(1&s&&o.Gf(A,7),2&s){let _;o.iGM(_=o.CRH())&&(a.form=_.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Nuevo Catalogo",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["catalogoform",""]],template:function(s,a){1&s&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"Catalogo de Gastos"),o.qZA()(),o.TgZ(8,"div",6)(9,"button",7),o.NdJ("click",function(){return a.openNewForm()}),o.qZA()()(),o.TgZ(10,"div",8)(11,"mo-table",9),o.NdJ("action",function(N){return a.myaction(N)}),o.qZA()()(),o.TgZ(12,"catalogo-form",10,11),o.NdJ("formSaveEvent",function(){return a.saveForm()}),o.qZA()()()()),2&s&&(o.xp6(11),o.Q6J("datatable",a.list)("columns",a.columns))},dependencies:[C.I,h.u,v.Hq,w],encapsulation:2})}return l})();var p=r(2655);const i=[{path:"",component:(()=>{class l{constructor(){}ngOnInit(){this.items=[{label:"Gastos"},{label:"Catalogo"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275cmp=o.Xpm({type:l,selectors:[["catalogo-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(s,a){1&s&&o._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&s&&o.Q6J("model",a.items)("home",a.home)},dependencies:[g.lC,p.a],encapsulation:2})}return l})(),children:[{path:"",component:e},{path:"list",component:e},{path:"**",redirectTo:"list"}]}];let m=(()=>{class l{static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[g.Bz.forChild(i),g.Bz]})}return l})();var b=r(3092);let J=(()=>{class l{static#t=this.\u0275fac=function(s){return new(s||l)};static#o=this.\u0275mod=o.oAB({type:l});static#n=this.\u0275inj=o.cJS({imports:[t.ez,d.UX,m,b.$,p.w,v.hJ,x.S,Z.j]})}return l})()},156:(U,f,r)=>{r.d(f,{I:()=>A});var t=r(4946),d=r(6814),g=r(4621),o=r(2415);function u(e,p){if(1&e&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&e){const n=t.oxw(),i=n.index,m=n.$implicit,b=t.oxw();t.Udp("text-align",b.columns[i].align),t.xp6(1),t.hij("",m.columnName," ")}}function M(e,p){1&e&&t._UZ(0,"th",5)}function C(e,p){if(1&e&&(t.ynx(0),t.YNc(1,u,2,3,"th",3),t.YNc(2,M,1,0,"th",4),t.BQk()),2&e){const n=p.$implicit;t.xp6(1),t.Q6J("ngIf",n.field),t.xp6(1),t.Q6J("ngIf",!n.field)}}function h(e,p){if(1&e&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&e){const n=p.$implicit,i=t.oxw(2);t.xp6(1),t.Udp("text-align",n.align),t.uIk("colspan",n.colspan),t.xp6(1),t.hij("",i.foot.content[n.index]," ")}}function v(e,p){if(1&e&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,h,3,4,"ng-container",1),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.foot.cols)}}function T(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const n=t.oxw().index,i=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(m.getfieldvalue(i,n))}}function x(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=t.oxw().index,i=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(i,n)))}}function Z(e,p){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&e){const n=t.oxw().index,i=t.oxw().index,m=t.oxw();t.Udp("text-align",m.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,m.getfieldvalue(i,n)))}}function y(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(m){t.CHM(n);const b=t.oxw().$implicit,J=t.oxw(3).$implicit,l=t.oxw();return t.KtG(l.actionEvent(m,J,b.event))}),t._UZ(1,"i"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.Tol(n.icon)}}function F(e,p){if(1&e&&(t.ynx(0),t.YNc(1,y,2,3,"a",7),t.BQk()),2&e){const n=p.$implicit,i=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition(i))}}function O(e,p){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,F,2,1,"ng-container",1),t.qZA()),2&e){const n=t.oxw().index,i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.columns[n].actions)}}function I(e,p){if(1&e&&(t.ynx(0),t.YNc(1,T,2,3,"td",6),t.YNc(2,x,3,5,"td",6),t.YNc(3,Z,3,5,"td",6),t.YNc(4,O,2,1,"td",2),t.BQk()),2&e){const n=p.index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.columns[n].field&&void 0===i.columns[n].type),t.xp6(1),t.Q6J("ngIf",i.columns[n].field&&"date"===i.columns[n].type),t.xp6(1),t.Q6J("ngIf",i.columns[n].field&&"datetime"===i.columns[n].type),t.xp6(1),t.Q6J("ngIf",!i.columns[n].field)}}function w(e,p){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,I,5,4,"ng-container",1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}let A=(()=>{class e{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let n of this.columns)void 0!==n.field&&mosetdefaults(this.fielddefault,n)}getfieldvalue(n,i){return mogetfieldvalue(this.datatable[n],this.columns[i].field)}actionEvent(n,i,m){n.preventDefault(),this.action.emit({event:m,row:i})}static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(i,m){1&i&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,C,3,2,"ng-container",1),t.qZA()(),t.YNc(5,v,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,w,2,1,"tr",1),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",m.columns),t.xp6(1),t.Q6J("ngIf",m.foot),t.xp6(2),t.Q6J("ngForOf",m.datatable))},dependencies:[d.sg,d.O5,g.L,o.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return e})()},3092:(U,f,r)=>{r.d(f,{$:()=>o});var t=r(6814),d=r(9177),g=r(4946);let o=(()=>{class u{static#t=this.\u0275fac=function(h){return new(h||u)};static#o=this.\u0275mod=g.oAB({type:u});static#n=this.\u0275inj=g.cJS({imports:[t.ez,d.A]})}return u})()}}]);