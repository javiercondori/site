"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[534],{2534:(O,d,r)=>{r.r(d),r.d(d,{RecepcionModule:()=>U});var m=r(6814),c=r(7664),e=r(4946);let f=(()=>{class a{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["recepcion-main"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2})}return a})();var l=r(5413),g=r(3297),R=r(7757),M=r(1106),u=r(3259),v=r(95),C=r(9324),h=r(1532),p=r(6084),E=r(707),y=r(2772),T=r(2898),Z=r(6130);const F=["notaentregaform"],N=["notamanage"],J=["respform"];let w=(()=>{class a{constructor(){this.display=!1,this.transporte=new l.e,this.ruta="/proveedores/recepcion",this.recepManageEvent=new e.vpe}ngOnInit(){}open(n){if(this.transporte=n,0!==n.id){let t=new p.Q;t.transporte=this.transporte,this.neform.newForm(t),this.notamanage.update(this.transporte.id)}this.respForm.open(this.transporte),this.display=!0}onExit(){this.display=!1,this.recepManageEvent.emit("")}onRespFormEvent(n){this.transporte=n;var t=new p.Q;t.transporte=this.transporte,this.neform.newForm(t),this.notamanage.update(this.transporte.id)}onNotaManageEvent(n){if("update"===n.action)this.neform.updateForm(n.value.nota);else{let t=new p.Q;t.transporte=this.transporte,this.neform.newForm(t)}}onNotaFormEvent(n){this.notamanage.update(this.transporte.id)}static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["recep-manage"]],viewQuery:function(t,o){if(1&t&&(e.Gf(F,7),e.Gf(N,7),e.Gf(J,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.neform=s.first),e.iGM(s=e.CRH())&&(o.notamanage=s.first),e.iGM(s=e.CRH())&&(o.respForm=s.first)}},outputs:{recepManageEvent:"recepManageEvent"},decls:20,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"path","formEvent"],["respform",""],[1,"card",3,"hidden"],["tipo","RECEPCION",3,"path","notaFormEvent"],["notaentregaform",""],[3,"path","notaManageEvent"],["notamanage",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Registro Transporte"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return o.onExit()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"resp-form",9,10),e.NdJ("formEvent",function(i){return o.onRespFormEvent(i)}),e.qZA()()(),e.TgZ(13,"div",11)(14,"nota-form",12,13),e.NdJ("notaFormEvent",function(i){return o.onNotaFormEvent(i)}),e.qZA()(),e.TgZ(16,"div",11)(17,"notas-manage",14,15),e.NdJ("notaManageEvent",function(i){return o.onNotaManageEvent(i)}),e.qZA()()(),e._UZ(19,"div",2),e.qZA()()),2&t&&(e.Q6J("hidden",!o.display),e.xp6(11),e.Q6J("path",o.ruta),e.xp6(2),e.Q6J("hidden",0===o.transporte.id),e.xp6(1),e.Q6J("path",o.ruta),e.xp6(2),e.Q6J("hidden",0===o.transporte.id),e.xp6(1),e.Q6J("path",o.ruta))},dependencies:[u.u,E.Hq,y.Z,T.k,Z.T],encapsulation:2})}return a})();const Q=["recepmanage"];function A(a,K){if(1&a){const n=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h3"),e._uU(7,"Recepcion a proveedores"),e.qZA()(),e.TgZ(8,"div",9)(9,"button",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.onNewResp())}),e.TgZ(10,"i",11),e._uU(11,"add_circle_outline"),e.qZA()(),e.TgZ(12,"label"),e._uU(13,"Fecha:"),e.qZA(),e.TgZ(14,"p-calendar",12),e.NdJ("ngModelChange",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.currentDate=o)})("onSelect",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.onSelectedDate(o))}),e.qZA()()(),e.TgZ(15,"div",13)(16,"mo-report",14),e.NdJ("action",function(o){e.CHM(n);const s=e.oxw();return e.KtG(s.onReportEvent(o))}),e.qZA()()()()()()}if(2&a){const n=e.oxw();e.xp6(14),e.Q6J("ngModel",n.currentDate),e.xp6(2),e.Q6J("data",n.report)}}const b=[{path:"",component:f,children:[{path:"",component:(()=>{class a{constructor(n,t){this.dataService=n,this.confirmService=t,this.path="/proveedores/recepcion",this.display=!0,this.currentDate=new Date,this.report={content:[],rows:{class:"pendiente",condition:o=>"PENDIENTE"===o.estado},columns:[{field:"id",columnName:"Id"},{field:"fecha",columnName:"Fecha",type:"datetime"},{field:"conductor",columnName:"Conductor"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:o=>!0},{iconname:"arrow_forward",iconclass:"material-icons-outlined mo-icons-center",event:"manage",condition:o=>!0}]}]}}ngOnInit(){this.getdata()}saveForm(){this.getdata(),this.display=!0}onNewResp(){this.recepmanage.open(new l.e),this.display=!1}onSelectedDate(n){this.currentDate=n,this.getdata()}onReportEvent(n){switch(n.event){case"manage":this.recepmanage.open(n.row),this.display=!1;break;case"delete":this.confirmService.setconfirm({message:"Eliminar '"+n.row.id+"'?",accept:()=>{this.dataService.deletedata(this.path+"/respdelete",{id:n.row.id}).subscribe(o=>{this.getdata()})}})}}onRecepManageEvent(n){this.display=!0,this.getdata()}getdata(){let n=new g.y;n.date=this.currentDate,n.ordersby=["tr.id"],n.ordertype="asc",this.dataService.postdata(this.path+"/transportes",n).subscribe(t=>{this.report.content=t})}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(R.D),e.Y36(M.I))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-recep-responsable"]],viewQuery:function(t,o){if(1&t&&e.Gf(Q,7),2&t){let s;e.iGM(s=e.CRH())&&(o.recepmanage=s.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"recepManageEvent"],["recepmanage",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Registrar Transporte",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],["dateFormat","dd MM yy","inputId","dateformat","appendTo","body",3,"ngModel","ngModelChange","onSelect"],[1,"mo-panel-content"],[3,"data","action"]],template:function(t,o){1&t&&(e.YNc(0,A,17,2,"div",0),e.TgZ(1,"recep-manage",1,2),e.NdJ("recepManageEvent",function(i){return o.onRecepManageEvent(i)}),e.qZA()),2&t&&e.Q6J("ngIf",o.display)},dependencies:[m.O5,u.u,v.JJ,v.On,C.t,h.f,w],encapsulation:2})}return a})()},{path:"**",redirectTo:""}]}];let S=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(b),c.Bz]})}return a})();var G=r(8368),D=r(2454),H=r(4553),I=r(1310),x=r(7090),_=r(9604);let U=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[m.ez,S,G.U,I.H,x.$,_.w,H.W,D.q,h._8]})}return a})()}}]);