"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[154],{9709:(h,r,n)=>{n.d(r,{U:()=>c});var t=n(8196);class c{constructor(){this.id=0,this.nombre="",this.comentario="",this.tipo=new t.o,this.estado="ACTIVO",this.factorinventario="1",this.orden=1}}},8196:(h,r,n)=>{n.d(r,{o:()=>t});class t{constructor(){this.id=0,this.nombre=""}}},6084:(h,r,n)=>{n.d(r,{Q:()=>m});var t=n(8555),c=n(5413),d=n(8223);class m{constructor(){this.id=0,this.total="0.0",this.fechapendiente=new Date,this.transporte=new c.e,this.cuenta=new t.r,this.cuentadst=new t.r,this.estado="",this.tipo="",this.voucher=new d.c,this.detalle=[],this.devrel=0}}},5569:(h,r,n)=>{n.d(r,{y:()=>c});var t=n(9709);class c{constructor(){this.id=0,this.producto=new t.U,this.cantidad=0,this.pu=0,this.total=0,this.devrel=0}}},5413:(h,r,n)=>{n.d(r,{e:()=>t});class t{constructor(){this.id=0,this.fecha=new Date,this.conductor="",this.comentario="",this.placa="",this.estado="",this.cantidad=0}}},8223:(h,r,n)=>{n.d(r,{c:()=>t});class t{constructor(){this.id=0,this.vdate=new Date,this.doccode=0,this.vtype="",this.agreement="",this.comment="",this.description="",this.amount=0,this.literal=""}}},156:(h,r,n)=>{n.d(r,{I:()=>s});var t=n(4946),c=n(6814),d=n(4621),m=n(2415);function _(o,a){if(1&o&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&o){const e=t.oxw(),i=e.index,u=e.$implicit,Z=t.oxw();t.Udp("text-align",Z.columns[i].align),t.xp6(1),t.hij("",u.columnName," ")}}function g(o,a){1&o&&t._UZ(0,"th",5)}function p(o,a){if(1&o&&(t.ynx(0),t.YNc(1,_,2,3,"th",3),t.YNc(2,g,1,0,"th",4),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.field),t.xp6(1),t.Q6J("ngIf",!e.field)}}function E(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&o){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Udp("text-align",e.align),t.uIk("colspan",e.colspan),t.xp6(1),t.hij("",i.foot.content[e.index]," ")}}function T(o,a){if(1&o&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,E,3,4,"ng-container",1),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.foot.cols)}}function O(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw().index,u=t.oxw();t.Udp("text-align",u.columns[e].align),t.xp6(1),t.Oqu(u.getfieldvalue(i,e))}}function l(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw().index,u=t.oxw();t.Udp("text-align",u.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,u.getfieldvalue(i,e)))}}function f(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw().index,u=t.oxw();t.Udp("text-align",u.columns[e].align),t.xp6(1),t.Oqu(t.lcZ(2,3,u.getfieldvalue(i,e)))}}function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(u){t.CHM(e);const Z=t.oxw().$implicit,P=t.oxw(3).$implicit,D=t.oxw();return t.KtG(D.actionEvent(u,P,Z.event))}),t._UZ(1,"i"),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.icon)}}function A(o,a){if(1&o&&(t.ynx(0),t.YNc(1,M,2,3,"a",7),t.BQk()),2&o){const e=a.$implicit,i=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",e.condition(i))}}function C(o,a){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,A,2,1,"ng-container",1),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.columns[e].actions)}}function v(o,a){if(1&o&&(t.ynx(0),t.YNc(1,O,2,3,"td",6),t.YNc(2,l,3,5,"td",6),t.YNc(3,f,3,5,"td",6),t.YNc(4,C,2,1,"td",2),t.BQk()),2&o){const e=a.index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.columns[e].field&&void 0===i.columns[e].type),t.xp6(1),t.Q6J("ngIf",i.columns[e].field&&"date"===i.columns[e].type),t.xp6(1),t.Q6J("ngIf",i.columns[e].field&&"datetime"===i.columns[e].type),t.xp6(1),t.Q6J("ngIf",!i.columns[e].field)}}function x(o,a){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,v,5,4,"ng-container",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.columns)}}let s=(()=>{class o{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let e of this.columns)void 0!==e.field&&mosetdefaults(this.fielddefault,e)}getfieldvalue(e,i){return mogetfieldvalue(this.datatable[e],this.columns[i].field)}actionEvent(e,i,u){e.preventDefault(),this.action.emit({event:u,row:i})}static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(i,u){1&i&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,p,3,2,"ng-container",1),t.qZA()(),t.YNc(5,T,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,x,2,1,"tr",1),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",u.columns),t.xp6(1),t.Q6J("ngIf",u.foot),t.xp6(2),t.Q6J("ngForOf",u.datatable))},dependencies:[c.sg,c.O5,d.L,m.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return o})()},3092:(h,r,n)=>{n.d(r,{$:()=>m});var t=n(6814),c=n(9177),d=n(4946);let m=(()=>{class _{static#t=this.\u0275fac=function(E){return new(E||_)};static#n=this.\u0275mod=d.oAB({type:_});static#o=this.\u0275inj=d.cJS({imports:[t.ez,c.A]})}return _})()},7163:(h,r,n)=>{n.d(r,{o:()=>p});var t=n(6814),c=n(7213),d=n(9920),m=n(707),_=n(3092),g=n(4946);let p=(()=>{class E{static#t=this.\u0275fac=function(l){return new(l||E)};static#n=this.\u0275mod=g.oAB({type:E});static#o=this.\u0275inj=g.cJS({imports:[t.ez,c.S,m.hJ,d.K,_.$]})}return E})()},6130:(h,r,n)=>{n.d(r,{T:()=>C});var t=n(4946),c=n(5413),d=n(7757),m=n(1106),_=n(9324),g=n(6084),p=n(7213),E=n(9920),T=n(156),O=n(6814);const l=function(){return{width:"70vw"}},f=function(){return{"960px":"75vw"}};let M=(()=>{class v{constructor(s){this.dataService=s,this.nota=new g.Q,this.display=!1,this.formSaveEvent=new t.vpe,this.columns=[{field:"id",columnName:"ID"},{field:"producto.nombre",columnName:"Producto"},{field:"cantidad",columnName:"Cantidad",align:"right"},{field:"pu",columnName:"PU",align:"right"},{field:"total",columnName:"SubTotal",align:"right"}]}ngOnInit(){}open(s){this.dataService.getdata(s.url,{id:s.id}).subscribe(o=>{this.display=!0,this.nota=o})}static#t=this.\u0275fac=function(o){return new(o||v)(t.Y36(d.D))};static#n=this.\u0275cmp=t.Xpm({type:v,selectors:[["app-notaview"]],outputs:{formSaveEvent:"formSaveEvent"},decls:52,vars:24,consts:[["header"," ",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],["id","print-section"],[1,"grid"],[1,"col-12"],[2,"width","100%"],["colspan","3",1,"test"],[3,"datatable","columns"],[1,"test"],[1,"test",2,"text-align","right"],[1,"test",2,"text-align","center"],["printSectionId","print-section","ngxPrint","","styleSheetFile","assets/css/print.css"]],template:function(o,a){1&o&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(i){return a.display=i}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"table",4)(5,"tr")(6,"td",5)(7,"h2"),t._uU(8),t.qZA()()(),t.TgZ(9,"tr")(10,"td"),t._uU(11,"Entidad:"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"date"),t.qZA()(),t.TgZ(17,"tr")(18,"td"),t._uU(19,"CUENTA:"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()(),t._UZ(24,"mo-table",6),t.TgZ(25,"table",4)(26,"tr")(27,"td",7)(28,"h2"),t._uU(29,"TOTAL:"),t.qZA()(),t.TgZ(30,"td",8)(31,"h2"),t._uU(32),t.qZA()()()(),t._UZ(33,"br"),t.TgZ(34,"table",4)(35,"tr")(36,"td",9),t._uU(37,"--------------------------------------"),t.qZA(),t.TgZ(38,"td",9),t._uU(39,"--------------------------------------"),t.qZA()(),t.TgZ(40,"tr")(41,"td",9),t._uU(42,"Conformidad"),t.qZA(),t.TgZ(43,"td",9),t._uU(44,"Conformidad"),t.qZA()(),t.TgZ(45,"tr")(46,"td",9),t._uU(47,"Molino"),t.qZA(),t.TgZ(48,"td",9),t._uU(49),t.qZA()()()()()(),t.TgZ(50,"button",10),t._uU(51,"Imprimir"),t.qZA()()),2&o&&(t.Akn(t.DdM(22,l)),t.Q6J("visible",a.display)("modal",!0)("breakpoints",t.DdM(23,f))("draggable",!1)("resizable",!0),t.xp6(8),t.AsE("NOTA DE ",a.nota.tipo," N.",a.nota.voucher.doccode,""),t.xp6(5),t.lnq("",a.nota.cuenta.entidad.id," - ",a.nota.cuenta.entidad.nombre," | ",a.nota.cuenta.entidad.direccion,""),t.xp6(2),t.Oqu(t.lcZ(16,20,a.nota.fecharealizado)),t.xp6(6),t.AsE("",a.nota.cuenta.id," | ",a.nota.cuenta.nombre," "),t.xp6(2),t.hij("N.ID: ",a.nota.id,""),t.xp6(1),t.Q6J("datatable",a.nota.detalle)("columns",a.columns),t.xp6(8),t.Oqu(a.nota.total),t.xp6(17),t.Oqu(a.nota.transporte.conductor))},dependencies:[p.V,E.I,T.I,O.uU],encapsulation:2})}return v})();const A=["notaprint"];let C=(()=>{class v{constructor(s,o){this.dataService=s,this.confirmService=o,this.notaManageEvent=new t.vpe,this.path="",this.transporte=new c.e,this.datanotas={columns:[{field:"nota.id",columnName:"Id"},{field:"nota.estado",columnName:"Estado"},{field:"nota.cuenta.nombre",columnName:"Cuenta"},{field:"notadetalle.producto.nombre",columnName:"Producto"},{field:"notadetalle.cantidad",columnName:"Cant."},{field:"notadetalle.pu",columnName:"PU"},{field:"notadetalle.total",columnName:"Tot."},{actions:[{iconclass:"pi pi-print",event:"print",condition:a=>"REALIZADO"==a.nota.estado},{iconclass:"pi pi-pencil",event:"update",condition:a=>"PENDIENTE"===a.nota.estado},{iconclass:"pi pi-trash",event:"delete",condition:a=>"PENDIENTE"===a.nota.estado},{iconclass:"pi pi-times",event:"pending",condition:a=>"REALIZADO"===a.nota.estado},{iconclass:"pi pi-arrow-circle-right",event:"realize",condition:a=>"PENDIENTE"===a.nota.estado}]}],content:[]}}ngOnInit(){}update(s){this.transporte.id=s,this.getdata()}reportActionEvent(s){switch(s.event){case"update":this.notaManageEvent.emit({action:"update",value:s.row});break;case"delete":this.confirmService.setconfirm({message:"Eliminar Nota Nro '"+s.row.nota.id+"'?",accept:()=>{this.dataService.getdata(this.path+"/ndelete",{id:s.row.nota.id}).subscribe(a=>{this.notaManageEvent.emit({action:"delete",value:s.row}),this.getdata()})}});break;case"realize":this.confirmService.setconfirm({message:"Realizar Nota Nro '"+s.row.nota.id+"'?",accept:()=>{this.dataService.getdata(this.path+"/realizar",{id:s.row.nota.id}).subscribe(a=>{this.notaManageEvent.emit({action:"realize",value:s.row}),this.getdata(),this.print.open({url:this.path+"/nota",id:s.row.nota.id})})}});break;case"pending":this.confirmService.setconfirm({message:"Anular Nota Nro '"+s.row.nota.id+"'?",accept:()=>{this.dataService.getdata(this.path+"/pending",{id:s.row.nota.id}).subscribe(a=>{this.notaManageEvent.emit({action:"pending",value:s.row}),this.getdata()})}});break;case"print":this.print.open({url:this.path+"/nota",id:s.row.nota.id})}}getdata(){this.dataService.getdata(this.path+"/respnotas",{id:this.transporte.id}).subscribe(s=>{this.datanotas.content=s})}static#t=this.\u0275fac=function(o){return new(o||v)(t.Y36(d.D),t.Y36(m.I))};static#n=this.\u0275cmp=t.Xpm({type:v,selectors:[["notas-manage"]],viewQuery:function(o,a){if(1&o&&t.Gf(A,7),2&o){let e;t.iGM(e=t.CRH())&&(a.print=e.first)}},inputs:{path:"path"},outputs:{notaManageEvent:"notaManageEvent"},decls:3,vars:1,consts:[[3,"data","action"],["notaprint",""]],template:function(o,a){1&o&&(t.TgZ(0,"mo-report",0),t.NdJ("action",function(i){return a.reportActionEvent(i)}),t.qZA(),t._UZ(1,"app-notaview",null,1)),2&o&&t.Q6J("data",a.datanotas)},dependencies:[_.t,M],encapsulation:2})}return v})()},9604:(h,r,n)=>{n.d(r,{w:()=>g});var t=n(6814),c=n(8368),d=n(4553),m=n(7163),_=n(4946);let g=(()=>{class p{static#t=this.\u0275fac=function(O){return new(O||p)};static#n=this.\u0275mod=_.oAB({type:p});static#o=this.\u0275inj=_.cJS({imports:[t.ez,c.U,d.W,m.o]})}return p})()},2772:(h,r,n)=>{n.d(r,{Z:()=>E});var t=n(4946),c=n(95),d=n(5413),m=n(7757),_=n(707),g=n(3714),p=n(1532);let E=(()=>{class T{constructor(l,f){this.formBuilder=l,this.dataService=f,this.path="",this.formEvent=new t.vpe,this.transporte=new d.e,this.form=this.formBuilder.group({fecha:[this.transporte.fecha],conductor:[this.transporte.conductor,c.kI.required],comentario:[this.transporte.comentario],placa:[this.transporte.placa]})}ngOnInit(){}open(l){this.form.reset(),this.transporte=l,this.form.controls.fecha.setValue(new Date(l.fecha)),this.form.controls.conductor.setValue(l.conductor),this.form.controls.comentario.setValue(l.comentario),this.form.controls.placa.setValue(l.placa)}onSubmit(){let l=new d.e,f=this.form.getRawValue();l.id=this.transporte.id,l.conductor=f.conductor,l.comentario=f.comentario,l.fecha=f.fecha,this.dataService.postdata(this.path+"/respsave",l).subscribe(M=>{this.transporte=M,this.formEvent.emit(this.transporte)})}static#t=this.\u0275fac=function(f){return new(f||T)(t.Y36(c.QS),t.Y36(m.D))};static#n=this.\u0275cmp=t.Xpm({type:T,selectors:[["resp-form"]],inputs:{path:"path"},outputs:{formEvent:"formEvent"},decls:24,vars:3,consts:[[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-3","form-group"],["for","transid"],[1,"input-control-info"],[1,"p-field","col-12","md:col-9","form-group"],["for","transfecha"],["appendTo","body","formControlName","fecha","dateFormat","dd MM yy","inputId","transfecha",1,"input-control"],["for","transplaca"],["type","text","id","transplaca","pInputText","","formControlName","placa",1,"input-control"],["for","transconductor"],["type","text","id","transconductor","pInputText","","formControlName","conductor",1,"input-control"],[1,"p-field","col-12","md:col-12","form-group"],["for","transcomentario"],["type","text","id","transcomentario","pInputText","","formControlName","comentario",1,"input-control"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"]],template:function(f,M){1&f&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return M.onSubmit()}),t.TgZ(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"ID:"),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"label",6),t._uU(9,"Fecha:"),t.qZA(),t._UZ(10,"p-calendar",7),t.qZA(),t.TgZ(11,"div",2)(12,"label",8),t._uU(13,"Placa:"),t.qZA(),t._UZ(14,"input",9),t.qZA(),t.TgZ(15,"div",5)(16,"label",10),t._uU(17,"Conductor:"),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"div",12)(20,"label",13),t._uU(21,"Comentario:"),t.qZA(),t._UZ(22,"input",14),t.qZA()(),t._UZ(23,"p-button",15),t.qZA()),2&f&&(t.Q6J("formGroup",M.form),t.xp6(6),t.Oqu(M.transporte.id),t.xp6(17),t.Q6J("disabled",M.form.invalid))},dependencies:[_.zx,g.o,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,p.f],encapsulation:2})}return T})()},1310:(h,r,n)=>{n.d(r,{H:()=>g});var t=n(6814),c=n(8368),d=n(95),m=n(1532),_=n(4946);let g=(()=>{class p{static#t=this.\u0275fac=function(O){return new(O||p)};static#n=this.\u0275mod=_.oAB({type:p});static#o=this.\u0275inj=_.cJS({imports:[t.ez,c.U,d.UX,m._8]})}return p})()}}]);