"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[569],{8555:(y,m,i)=>{i.d(m,{r:()=>t});var c=i(5289),h=i(698);class t{constructor(){this.id=0,this.entidad=new c.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new h.A}}},5289:(y,m,i)=>{i.d(m,{$:()=>c});class c{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},3297:(y,m,i)=>{i.d(m,{y:()=>c});class c{constructor(){this.id=0,this.sid=0,this.str="",this.sstr="",this.dec=0,this.sdec=0,this.date=new Date,this.sdate=new Date,this.ordersby=[],this.limit=0,this.offset=0}}},7588:(y,m,i)=>{i.r(m),i.d(m,{GalponModule:()=>Y});var c=i(6814),h=i(7664),t=i(4946),p=i(2655);let v=(()=>{class a{constructor(){}ngOnInit(){this.items=[{label:"Ventas"},{label:"Galpones"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-galpon-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(o,e){1&o&&t._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&o&&t.Q6J("model",e.items)("home",e.home)},dependencies:[h.lC,p.a],encapsulation:2})}return a})();var l=i(5289),s=i(3297),r=i(7757),g=i(1106),b=i(3259),T=i(707),A=i(9324),N=i(7492),u=i(95),Z=i(7773),G=i(3714),_=i(7213),E=i(1532);function w(a,S){1&a&&(t.TgZ(0,"small",19),t._uU(1," No v\xe1\u013aido"),t.qZA())}function F(a,S){1&a&&(t.TgZ(0,"small",19),t._uU(1," No v\xe1\u013aido"),t.qZA())}function M(a,S){1&a&&(t.TgZ(0,"small",19),t._uU(1," No v\xe1\u013aido"),t.qZA())}const D=function(){return{width:"70vw"}},I=function(){return{"960px":"75vw"}};let J=(()=>{class a{constructor(n,o){this.formBuilder=n,this.dataService=o,this.formEvent=new t.vpe,this.display=!1,this.galpon=new Z.e,this.form=this.formBuilder.group({nombre:["",u.kI.required],descripcion:["",u.kI.required],cantidad:[0,u.kI.min(.001)],fecha:[new Date,u.kI.required]})}ngOnInit(){}newForm(n){this.form.reset(),this.galpon=new Z.e,this.galpon.cuenta.entidad=n,this.form.controls.fecha.setValue(new Date(this.galpon.fechainicio)),this.display=!0}updateform(n){this.galpon=n,this.form.reset(),this.form.controls.nombre.setValue(n.cuenta.nombre),this.form.controls.descripcion.setValue(n.cuenta.descripcion),this.form.controls.cantidad.setValue(n.cantidad),this.form.controls.fecha.setValue(new Date(this.galpon.fechainicio)),this.display=!0}submit(){let n=this.form.getRawValue();this.galpon.cuenta.nombre=n.nombre,this.galpon.cuenta.descripcion=n.descripcion,this.galpon.cantidad=n.cantidad,this.galpon.fechainicio=n.fecha,this.dataService.postdata("/plgalpon/galpon",this.galpon).subscribe(o=>{this.display=!1,this.formEvent.emit({})})}get nombre(){return this.form.get("nombre")}get descripcion(){return this.form.get("descripcion")}get cantidad(){return this.form.get("cantidad")}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(u.QS),t.Y36(r.D))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["galpon-form"]],outputs:{formEvent:"formEvent"},decls:29,vars:17,consts:[["header","Registro de Galpon",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12","form-group"],["for","entidaddata"],[1,"input-control-info"],[1,"p-field","col-12","md:col-8","form-group"],["for","galnombre"],["type","text","id","galnombre","pInputText","","formControlName","nombre",1,"input-control"],["class","p-error",4,"ngIf"],[1,"p-field","col-12","md:col-4","form-group"],["for","galcantidad"],["type","text","id","galcantidad","pInputText","","formControlName","cantidad",1,"input-control"],["for","galfecha"],["appendTo","body","formControlName","fecha","dateFormat","dd MM yy","inputId","galfecha",1,"input-control"],["for","galdescripcion"],["type","text","id","galdescripcion","pInputText","","formControlName","descripcion",1,"input-control"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(o,e){1&o&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(f){return e.display=f}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return e.submit()}),t.TgZ(2,"div",2)(3,"span",3)(4,"label",4),t._uU(5,"Entidad:"),t.qZA(),t.TgZ(6,"span",5),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Galpon:"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,w,2,0,"small",9),t.qZA(),t.TgZ(13,"div",10)(14,"label",11),t._uU(15,"Cantidad:"),t.qZA(),t._UZ(16,"input",12),t.YNc(17,F,2,0,"small",9),t.qZA(),t.TgZ(18,"div",10)(19,"label",13),t._uU(20,"Fecha dia uno:"),t.qZA(),t._UZ(21,"p-calendar",14),t.qZA(),t.TgZ(22,"div",6)(23,"label",15),t._uU(24,"Descripcion:"),t.qZA(),t._UZ(25,"input",16),t.YNc(26,M,2,0,"small",9),t.qZA()(),t._UZ(27,"p-button",17),t.TgZ(28,"p-button",18),t.NdJ("click",function(){return e.display=!1}),t.qZA()()()),2&o&&(t.Akn(t.DdM(15,D)),t.Q6J("visible",e.display)("modal",!0)("breakpoints",t.DdM(16,I))("draggable",!1)("resizable",!0),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(6),t.lnq("",e.galpon.cuenta.entidad.id," - ",e.galpon.cuenta.entidad.nombre," ",e.galpon.cuenta.entidad.direccion,""),t.xp6(5),t.Q6J("ngIf",(null==e.nombre?null:e.nombre.invalid)&&((null==e.nombre?null:e.nombre.dirty)||(null==e.nombre?null:e.nombre.touched))),t.xp6(5),t.Q6J("ngIf",(null==e.cantidad?null:e.cantidad.invalid)&&((null==e.cantidad?null:e.cantidad.dirty)||(null==e.cantidad?null:e.cantidad.touched))),t.xp6(9),t.Q6J("ngIf",(null==e.descripcion?null:e.descripcion.invalid)&&((null==e.descripcion?null:e.descripcion.dirty)||(null==e.descripcion?null:e.descripcion.touched))),t.xp6(1),t.Q6J("disabled",e.form.invalid||0===e.galpon.cuenta.entidad.id))},dependencies:[c.O5,T.zx,G.o,u._Y,u.Fj,u.JJ,u.JL,_.V,u.sg,u.u,E.f],encapsulation:2})}return a})();var C=i(9920),U=i(98);const P=["gec"];let B=(()=>{class a{constructor(n){this.dataService=n,this.display=!1,this.galpon=new Z.e,this.onEvent=new t.vpe}ngOnInit(){}open(n){this.gec.open(n),this.display=!0}close(){this.display=!1,this.onEvent.emit({})}print(){}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(r.D))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["galpon-estado"]],viewQuery:function(o,e){if(1&o&&t.Gf(P,7),2&o){let d;t.iGM(d=t.CRH())&&(e.gec=d.first)}},outputs:{onEvent:"onEvent"},decls:14,vars:1,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-print","pTooltip","Imprimir","printSectionId","holahola","ngxPrint","","styleSheetFile","assets/css/print.css",1,"p-button-rounded","p-button-text"],["id","holahola",1,"mo-panel-content"],["gec",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"ESTADO DE CUENTA (GALPON)"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.close()}),t.qZA(),t._UZ(10,"button",8),t.qZA()(),t.TgZ(11,"div",9),t._UZ(12,"galpon-estado-cuenta",null,10),t.qZA()()()()()),2&o&&t.Q6J("hidden",!e.display)},dependencies:[b.u,T.Hq,C.I,U.R],encapsulation:2})}return a})();const O=["form"],Q=["galponestado"],k=[{path:"",component:v,children:[{path:"",component:(()=>{class a{constructor(n,o){this.dataService=n,this.confirmService=o,this.display=!0,this.entidad=new l.$,this.report={content:[],columns:[{field:"cuenta.id",columnName:"Id"},{field:"cuenta.nombre",columnName:"Nombre"},{field:"cantidad",columnName:"Nro Pollos"},{field:"fechainicio",columnName:"Inicio",type:"date"},{field:"cuenta.saldo",columnName:"Saldo",align:"right"},{actions:[{iconclass:"pi pi-pencil",event:"modify",condition:e=>!0},{iconclass:"pi pi-table",event:"galponestado",condition:e=>!0}]}]},this.entidadconfig={path:"/plgalpon/galpon/entidades",columns:["id","nombre","direccion"]}}ngOnInit(){}openNewForm(){this.form.newForm(this.entidad)}openModifyForm(n){this.form.updateform(n)}formEvent(n){this.getdata()}getdata(){var n=new s.y;n.id=this.entidad.id,n.ordersby=["cu.id desc"],this.dataService.postdata("/plgalpon/galpon/galpones",n).subscribe(o=>{console.log("res:",o),this.report.content=o,console.log("content:",this.report.content)})}autocompleteSelected(n){this.entidad=n,this.getdata()}tableAction(n){switch(n.event){case"modify":this.openModifyForm(n.row);break;case"galponestado":this.galponestado.open(n.row),this.display=!1}}galponEstadoEvent(n){this.display=!0}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(r.D),t.Y36(g.I))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["galpon-manage"]],viewQuery:function(o,e){if(1&o&&(t.Gf(O,7),t.Gf(Q,7)),2&o){let d;t.iGM(d=t.CRH())&&(e.form=d.first),t.iGM(d=t.CRH())&&(e.galponestado=d.first)}},decls:24,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second","form-group"],["for","entidad"],["id","entidad",3,"config","itemSelected"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[1,"form-group"],["for","entidaddata"],[1,"input-control-info"],[3,"data","action"],[3,"onEvent"],["galponestado",""],[3,"formEvent"],["form",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Listado de galpones"),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Buscar entidad:"),t.qZA(),t.TgZ(11,"mo-autocomplete",8),t.NdJ("itemSelected",function(f){return e.autocompleteSelected(f)}),t.qZA(),t.TgZ(12,"button",9),t.NdJ("click",function(){return e.openNewForm()}),t.qZA()()(),t.TgZ(13,"div",10)(14,"span",11)(15,"label",12),t._uU(16,"Entidad:"),t.qZA(),t.TgZ(17,"span",13),t._uU(18),t.qZA()(),t.TgZ(19,"mo-report",14),t.NdJ("action",function(f){return e.tableAction(f)}),t.qZA()()()()()(),t.TgZ(20,"galpon-estado",15,16),t.NdJ("onEvent",function(f){return e.galponEstadoEvent(f)}),t.qZA(),t.TgZ(22,"galpon-form",17,18),t.NdJ("formEvent",function(f){return e.formEvent(f)}),t.qZA()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(11),t.Q6J("config",e.entidadconfig),t.xp6(7),t.lnq("",e.entidad.id," - ",e.entidad.nombre," ",e.entidad.direccion,""),t.xp6(1),t.Q6J("data",e.report))},dependencies:[b.u,T.Hq,A.t,N.J,J,B],encapsulation:2})}return a})()},{path:"**",redirectTo:""}]}];let R=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(k),h.Bz]})}return a})();var $=i(8368),V=i(2454),H=i(4553),L=i(7799);let Y=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[c.ez,R,$.U,H.W,V.q,_.S,u.UX,E._8,C.K,L.d]})}return a})()},9920:(y,m,i)=>{i.d(m,{I:()=>h,K:()=>t});var c=i(4946);let h=(()=>{class p{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(l){for(let s in l)l.hasOwnProperty(s)&&this._printStyle.push((s+JSON.stringify(l[s])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(l){let s=function(r){return`<link rel="stylesheet" type="text/css" href="${r}">`};if(-1!==l.indexOf(",")){const r=l.split(",");for(let g of r)this._styleSheetFile=this._styleSheetFile+s(g)}else this._styleSheetFile=s(l)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(l){const s=[],r=document.getElementsByTagName(l);for(let g=0;g<r.length;g++)s.push(r[g].outerHTML);return s.join("\r\n")}getFormData(l){for(var s=0;s<l.length;s++)l[s].defaultValue=l[s].value,l[s].checked&&(l[s].defaultChecked=!0)}getHtmlContents(){let l=document.getElementById(this.printSectionId),s=l.getElementsByTagName("input");this.getFormData(s);let r=l.getElementsByTagName("textarea");return this.getFormData(r),l.innerHTML}print(){let l,s,r="",g="";const b=this.getElementTag("base");this.useExistingCss&&(r=this.getElementTag("style"),g=this.getElementTag("link")),l=this.getHtmlContents(),s=window.open("","_blank","top=0,left=0,height=auto,width=auto"),s.document.open(),s.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${b}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${r}\n          ${g}\n        </head>\n        <body>\n          ${l}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),s.document.close()}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275dir=c.lG2({type:p,selectors:[["button","ngxPrint",""]],hostBindings:function(l,s){1&l&&c.NdJ("click",function(){return s.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),p})(),t=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=c.oAB({type:p}),p.\u0275inj=c.cJS({}),p})()}}]);