"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[585],{8555:(f,c,i)=>{i.d(c,{r:()=>g});var d=i(5289),m=i(698);class g{constructor(){this.id=0,this.entidad=new d.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new m.A}}},5289:(f,c,i)=>{i.d(c,{$:()=>d});class d{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},3297:(f,c,i)=>{i.d(c,{y:()=>d});class d{constructor(){this.id=0,this.sid=0,this.str="",this.sstr="",this.dec=0,this.sdec=0,this.date=new Date,this.sdate=new Date,this.ordersby=[],this.limit=0,this.offset=0}}},8223:(f,c,i)=>{i.d(c,{c:()=>d});class d{constructor(){this.id=0,this.vdate=new Date,this.doccode=0,this.vtype="",this.fechatra=new Date,this.agreement="",this.comment="",this.description="",this.amount=0,this.literal="",this.username="",this.estab_id=0}}},4879:(f,c,i)=>{i.r(c),i.d(c,{ProveedorModule:()=>U});var d=i(6814),m=i(7664),g=i(3297),e=i(4946),v=i(2848),r=i(1106),l=i(3259),a=i(707),u=i(2294),b=i(9324),h=i(95),T=i(8555),C=i(3714),P=i(7492),_=i(7213);function w(n,S){if(1&n){const o=e.EpF();e.TgZ(0,"div",15)(1,"span",5)(2,"mo-autocomplete",16),e.NdJ("itemSelected",function(t){e.CHM(o);const p=e.oxw();return e.KtG(p.autocompleteSelected(t))}),e.qZA()()()}if(2&n){const o=e.oxw();e.xp6(2),e.Q6J("config",o.entidadconfig)}}function E(n,S){1&n&&(e.TgZ(0,"small",17),e._uU(1," No v\xe1\u013aido"),e.qZA())}function F(n,S){1&n&&(e.TgZ(0,"small",17),e._uU(1," No v\xe1\u013aido"),e.qZA())}const N=function(){return{width:"70vw"}},Z=function(){return{"960px":"75vw"}};let D=(()=>{class n{constructor(o,s){this.formBuilder=o,this.dataService=s,this.formSaveEvent=new e.vpe,this.display=!1,this.proveedor=new T.r,this.entidadconfig={path:"/proveedores/proveedor/entidades",columns:["id","nombre","direccion"]},this.form=this.formBuilder.group({nombre:["",h.kI.required],descripcion:["",h.kI.required]})}ngOnInit(){}newForm(){this.form.reset(),this.proveedor=new T.r,this.display=!0}updateform(o){this.proveedor=o,this.form.controls.nombre.setValue(o.nombre),this.form.controls.descripcion.setValue(o.descripcion),this.display=!0}submit(){let o=this.form.getRawValue();this.proveedor.nombre=o.nombre,this.proveedor.descripcion=o.descripcion,this.proveedor.establecimiento.id="1",this.dataService.postdata("/proveedores/proveedor",this.proveedor).subscribe(s=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.form.get("nombre")}get descripcion(){return this.form.get("descripcion")}autocompleteSelected(o){this.proveedor.entidad=o}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(h.QS),e.Y36(v.D))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["proveedor-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:23,vars:15,consts:[["header","Registro de Proveedor",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],["class","p-field col-12",4,"ngIf"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidaddata","pInputText","","disabled","",3,"value"],["for","entidadnombre"],["type","text","id","provnombre","pInputText","","formControlName","nombre"],["for","provnombre"],["class","p-error",4,"ngIf"],["type","text","id","provdescripcion","pInputText","","formControlName","descripcion"],["for","provdescripcion"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-field","col-12"],[3,"config","itemSelected"],[1,"p-error"]],template:function(s,t){1&s&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(y){return t.display=y}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return t.submit()}),e.TgZ(2,"div",2),e.YNc(3,w,3,1,"div",3),e.TgZ(4,"div",4)(5,"span",5),e._UZ(6,"input",6),e.TgZ(7,"label",7),e._uU(8,"Entidad"),e.qZA()()(),e.TgZ(9,"div",4)(10,"span",5),e._UZ(11,"input",8),e.TgZ(12,"label",9),e._uU(13,"Nombre:"),e.qZA(),e.YNc(14,E,2,0,"small",10),e.qZA()(),e.TgZ(15,"div",4)(16,"span",5),e._UZ(17,"input",11),e.TgZ(18,"label",12),e._uU(19,"Descripcion:"),e.qZA(),e.YNc(20,F,2,0,"small",10),e.qZA()()(),e._UZ(21,"p-button",13),e.TgZ(22,"p-button",14),e.NdJ("click",function(){return t.display=!1}),e.qZA()()()),2&s&&(e.Akn(e.DdM(13,N)),e.Q6J("visible",t.display)("modal",!0)("breakpoints",e.DdM(14,Z))("draggable",!1)("resizable",!0),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngIf",0===t.proveedor.id),e.xp6(3),e.Q6J("value",t.proveedor.entidad.id+" | "+t.proveedor.entidad.nombre+" | "+t.proveedor.entidad.direccion),e.xp6(8),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.invalid)&&((null==t.nombre?null:t.nombre.dirty)||(null==t.nombre?null:t.nombre.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.descripcion?null:t.descripcion.invalid)&&((null==t.descripcion?null:t.descripcion.dirty)||(null==t.descripcion?null:t.descripcion.touched))),e.xp6(1),e.Q6J("disabled",t.form.invalid||0===t.proveedor.entidad.id))},dependencies:[d.O5,a.zx,C.o,h._Y,h.Fj,h.JJ,h.JL,P.J,h.sg,h.u,_.V],encapsulation:2})}return n})();const A=["trreport"],J=["form"],M=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){this.items=[{label:"Proveedores"},{label:"Transpote"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["proveedor-main"]],decls:1,vars:0,template:function(s,t){1&s&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2})}return n})(),children:[{path:"",component:(()=>{class n{constructor(o,s){this.dataService=o,this.confirmService=s,this.display=!0,this.path="/proveedores/registro",this.report={content:[],columns:[{field:"id",columnName:"Id"},{field:"entidad.nombre",columnName:"Entidad"},{field:"nombre",columnName:"Cuenta"},{field:"descripcion",columnName:"Descripcion"},{field:"estado",columnName:"Estado"},{field:"saldo",columnName:"Saldo",align:"right"},{actions:[{iconclass:"material-symbols-outlined",iconname:"view_list",event:"view",condition:t=>!0},{iconclass:"pi pi-pencil",event:"modify",condition:t=>!0},{iconclass:"pi pi-trash",event:"delete",condition:t=>!0}]}]}}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(o){this.form.updateform(o)}saveForm(){this.getdata()}getdata(){var o=new g.y;o.ordersby=["cuenta.saldo desc"],this.dataService.postdata("/proveedores/registro/r",o).subscribe(s=>{this.report.content=s})}tableAction(o){switch(o.event){case"view":this.display=!1,this.trreport.open(o.row);break;case"modify":this.openModifyForm(o.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Proveedor '"+o.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/proveedores/proveedor",{id:o.row.id}).subscribe(t=>{this.getdata()})}})}}transReportEvent(o){console.log("saliendo de mi casa"),this.display=!0}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(v.D),e.Y36(r.I))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["proveedor-list"]],viewQuery:function(s,t){if(1&s&&(e.Gf(A,7),e.Gf(J,7)),2&s){let p;e.iGM(p=e.CRH())&&(t.trreport=p.first),e.iGM(p=e.CRH())&&(t.form=p.first)}},decls:16,vars:3,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar Transporte",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"data","action"],[3,"formSaveEvent"],["form",""],[3,"path","reportEvent"],["trreport",""]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Listado de Proveedores"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return t.openNewForm()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"mo-report",9),e.NdJ("action",function(y){return t.tableAction(y)}),e.qZA()()()()()(),e.TgZ(12,"proveedor-form",10,11),e.NdJ("formSaveEvent",function(){return t.saveForm()}),e.qZA(),e.TgZ(14,"trans-report",12,13),e.NdJ("reportEvent",function(y){return t.transReportEvent(y)}),e.qZA()),2&s&&(e.Q6J("hidden",!t.display),e.xp6(11),e.Q6J("data",t.report),e.xp6(3),e.Q6J("path",t.path))},dependencies:[l.u,a.Hq,u.U,b.t,D],encapsulation:2})}return n})()},{path:"**",redirectTo:""}]}];let I=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(M),m.Bz]})}return n})();var B=i(8368),L=i(2454),O=i(4553),x=i(798);let U=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.ez,I,B.U,x.e,O.W,L.q,h.UX,_.S]})}return n})()},9920:(f,c,i)=>{i.d(c,{I:()=>m,K:()=>g});var d=i(4946);let m=(()=>{class e{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(r){for(let l in r)r.hasOwnProperty(l)&&this._printStyle.push((l+JSON.stringify(r[l])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(r){let l=function(a){return`<link rel="stylesheet" type="text/css" href="${a}">`};if(-1!==r.indexOf(",")){const a=r.split(",");for(let u of a)this._styleSheetFile=this._styleSheetFile+l(u)}else this._styleSheetFile=l(r)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(r){const l=[],a=document.getElementsByTagName(r);for(let u=0;u<a.length;u++)l.push(a[u].outerHTML);return l.join("\r\n")}getFormData(r){for(var l=0;l<r.length;l++)r[l].defaultValue=r[l].value,r[l].checked&&(r[l].defaultChecked=!0)}getHtmlContents(){let r=document.getElementById(this.printSectionId),l=r.getElementsByTagName("input");this.getFormData(l);let a=r.getElementsByTagName("textarea");return this.getFormData(a),r.innerHTML}print(){let r,l,a="",u="";const b=this.getElementTag("base");this.useExistingCss&&(a=this.getElementTag("style"),u=this.getElementTag("link")),r=this.getHtmlContents(),l=window.open("","_blank","top=0,left=0,height=auto,width=auto"),l.document.open(),l.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${b}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${a}\n          ${u}\n        </head>\n        <body>\n          ${r}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),l.document.close()}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=d.lG2({type:e,selectors:[["button","ngxPrint",""]],hostBindings:function(r,l){1&r&&d.NdJ("click",function(){return l.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),e})(),g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({}),e})()}}]);