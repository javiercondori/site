"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[470],{4470:(v,u,i)=>{i.r(u),i.d(u,{EmpleadoModule:()=>D});var t=i(6814),f=i(8368),g=i(3092),b=i(961),p=i(95),M=i(7213),T=i(1532),h=i(7664),e=i(4946),O=i(8555),w=i(1638);class x{constructor(){this.cargo=new w.r,this.cuenta=new O.r,this.fechainicio=new Date,this.fechafin=new Date}}var Z=i(7757),y=i(707),A=i(3714),I=i(2105),J=i(7492);const F=function(){return{width:"70vw"}},n=function(){return{"960px":"75vw"}};let m=(()=>{class r{constructor(c,l){this.formBuilder=c,this.dataService=l,this.formSaveEvent=new e.vpe,this.display=!1,this.empleado=new x,this.cargolist=[],this.cargoconfig={path:"/rrhh/empleado/entidades",columns:["id","nombre","direccion"]},this.formbuilder=this.formBuilder.group({nombre:["",p.kI.required],cargoid:[{},p.kI.required],fechainicio:[new Date,p.kI.required]})}ngOnInit(){this.dataService.getdata("/rrhh/empleado/cargos",{}).subscribe(c=>{this.cargolist=c})}newForm(){this.empleado=new x,this.formbuilder.reset(),this.formbuilder.controls.cargoid.setValue(this.cargolist[0]),this.formbuilder.controls.fechainicio.setValue(new Date),this.display=!0}updateform(c){this.display=!0}submit(){console.log(this.formbuilder.getRawValue());let c=new x,l=this.formbuilder.getRawValue();c.cuenta.entidad.id=this.empleado.cuenta.entidad.id,c.cuenta.nombre=l.nombre,c.cargo=l.cargoid,c.fechainicio=l.fechainicio,this.dataService.postdata("/rrhh/empleado",c).subscribe(s=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.formbuilder.get("nombre")}autocompleteSelected(c){this.empleado.cuenta.entidad=c}static#t=this.\u0275fac=function(l){return new(l||r)(e.Y36(p.QS),e.Y36(Z.D))};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["empleado-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:28,vars:14,consts:[["header","Registro de Empleado",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12"],[1,"p-float-label"],[3,"config","itemSelected"],[1,"p-field","col-12","md:col-12"],["type","text","id","entidaddata","pInputText","","disabled","",3,"value"],["for","entidadnombre"],["appendTo","body","optionLabel","nombre","formControlName","cargoid","id","cargoid",3,"options"],["for","cargoid"],["type","text","id","empleadonombre","pInputText","","formControlName","nombre"],["for","empleadonombre"],["appendTo","body","formControlName","fechainicio","dateFormat","dd MM yy","inputId","dateformat"],["for","Fecha: "],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"]],template:function(l,s){1&l&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(E){return s.display=E}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return s.submit()}),e.TgZ(2,"div",2)(3,"div",3)(4,"span",4)(5,"mo-autocomplete",5),e.NdJ("itemSelected",function(E){return s.autocompleteSelected(E)}),e.qZA()()(),e.TgZ(6,"div",6)(7,"span",4),e._UZ(8,"input",7),e.TgZ(9,"label",8),e._uU(10,"Entidad"),e.qZA()()(),e.TgZ(11,"div",6)(12,"span",4),e._UZ(13,"p-dropdown",9),e.TgZ(14,"label",10),e._uU(15,"Cargo:"),e.qZA()()(),e.TgZ(16,"div",6)(17,"span",4),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Nombre:"),e.qZA()()(),e.TgZ(21,"div",6)(22,"span",4),e._UZ(23,"p-calendar",13),e.TgZ(24,"label",14),e._uU(25,"Fecha:"),e.qZA()()()(),e._UZ(26,"p-button",15),e.TgZ(27,"p-button",16),e.NdJ("click",function(){return s.display=!1}),e.qZA()()()),2&l&&(e.Akn(e.DdM(12,F)),e.Q6J("visible",s.display)("modal",!0)("breakpoints",e.DdM(13,n))("draggable",!1)("resizable",!0),e.xp6(1),e.Q6J("formGroup",s.formbuilder),e.xp6(4),e.Q6J("config",s.cargoconfig),e.xp6(3),e.Q6J("value",s.empleado.cuenta.entidad.id+" | "+s.empleado.cuenta.entidad.nombre+" | "+s.empleado.cuenta.entidad.direccion),e.xp6(5),e.Q6J("options",s.cargolist),e.xp6(13),e.Q6J("disabled",s.formbuilder.invalid))},dependencies:[y.zx,A.o,I.Lt,p._Y,p.Fj,p.JJ,p.JL,J.J,p.sg,p.u,M.V,T.f],encapsulation:2})}return r})();var o=i(1106),a=i(3259),d=i(156);const C=["form"];let N=(()=>{class r{constructor(c,l){this.dataService=c,this.confirmService=l,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"cuenta.entidad.nombre",columnName:"Entidad"},{field:"cuenta.nombre",columnName:"Cuenta"},{field:"cargo.nombre",columnName:"Cargo"},{field:"fechainicio",columnName:"Inicio"},{field:"cuenta.saldo",columnName:"Saldo",align:"right"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:s=>!0},{icon:"pi pi-trash",event:"delete",condition:s=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(c){this.form.updateform(c)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/rrhh/empleado",{}).subscribe(c=>{this.list=c})}tableaction(c){switch(c.event){case"modify":this.openModifyForm(c.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Empleado '"+c.row.cuenta.id+"'?",accept:()=>{this.dataService.deletedata("/rrhh/empleado",{id:c.row.cuenta.id}).subscribe(s=>{this.getdata()})}})}}static#t=this.\u0275fac=function(l){return new(l||r)(e.Y36(Z.D),e.Y36(o.I))};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["empleado-list"]],viewQuery:function(l,s){if(1&l&&e.Gf(C,7),2&l){let _;e.iGM(_=e.CRH())&&(s.form=_.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Nuevo empleado",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["form",""]],template:function(l,s){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Lista de Empleos"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return s.openNewForm()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"mo-table",9),e.NdJ("action",function(E){return s.tableaction(E)}),e.qZA()()()()(),e.TgZ(12,"empleado-form",10,11),e.NdJ("formSaveEvent",function(){return s.saveForm()}),e.qZA()()),2&l&&(e.xp6(11),e.Q6J("datatable",s.list)("columns",s.columns))},dependencies:[a.u,y.Hq,d.I,m],encapsulation:2})}return r})();var U=i(2655);const P=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){this.items=[{label:"rrhh"},{label:"CargoEmpleo"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(l){return new(l||r)};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["empleado-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(l,s){1&l&&e._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&l&&e.Q6J("model",s.items)("home",s.home)},dependencies:[h.lC,U.a],encapsulation:2})}return r})(),children:[{path:"",component:N},{path:"form/:id",component:m},{path:"**",redirectTo:""}]}];let Q=(()=>{class r{static#t=this.\u0275fac=function(l){return new(l||r)};static#e=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(P),h.Bz]})}return r})(),D=(()=>{class r{static#t=this.\u0275fac=function(l){return new(l||r)};static#e=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({imports:[t.ez,Q,f.U,g.$,b.q,p.UX,M.S,T._8]})}return r})()},8555:(v,u,i)=>{i.d(u,{r:()=>g});var t=i(5289),f=i(698);class g{constructor(){this.id=0,this.entidad=new t.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new f.A}}},5289:(v,u,i)=>{i.d(u,{$:()=>t});class t{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},698:(v,u,i)=>{i.d(u,{A:()=>t});class t{constructor(){this.id="0",this.nombre="",this.descripcion="",this.estado="ACTIVO"}}},156:(v,u,i)=>{i.d(u,{I:()=>F});var t=i(4946),f=i(6814),g=i(4621),b=i(2415);function p(n,m){if(1&n&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&n){const o=t.oxw(),a=o.index,d=o.$implicit,C=t.oxw();t.Udp("text-align",C.columns[a].align),t.xp6(1),t.hij("",d.columnName," ")}}function M(n,m){1&n&&t._UZ(0,"th",5)}function T(n,m){if(1&n&&(t.ynx(0),t.YNc(1,p,2,3,"th",3),t.YNc(2,M,1,0,"th",4),t.BQk()),2&n){const o=m.$implicit;t.xp6(1),t.Q6J("ngIf",o.field),t.xp6(1),t.Q6J("ngIf",!o.field)}}function h(n,m){if(1&n&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&n){const o=m.$implicit,a=t.oxw(2);t.xp6(1),t.Udp("text-align",o.align),t.uIk("colspan",o.colspan),t.xp6(1),t.hij("",a.foot.content[o.index]," ")}}function e(n,m){if(1&n&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,h,3,4,"ng-container",1),t.qZA()()),2&n){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.foot.cols)}}function O(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const o=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[o].align),t.xp6(1),t.Oqu(d.getfieldvalue(a,o))}}function w(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&n){const o=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[o].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(a,o)))}}function x(n,m){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&n){const o=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[o].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(a,o)))}}function Z(n,m){if(1&n){const o=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(d){t.CHM(o);const C=t.oxw().$implicit,N=t.oxw(3).$implicit,U=t.oxw();return t.KtG(U.actionEvent(d,N,C.event))}),t._UZ(1,"i"),t.qZA()}if(2&n){const o=t.oxw().$implicit;t.xp6(1),t.Tol(o.icon)}}function y(n,m){if(1&n&&(t.ynx(0),t.YNc(1,Z,2,3,"a",7),t.BQk()),2&n){const o=m.$implicit,a=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",o.condition(a))}}function A(n,m){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,y,2,1,"ng-container",1),t.qZA()),2&n){const o=t.oxw().index,a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.columns[o].actions)}}function I(n,m){if(1&n&&(t.ynx(0),t.YNc(1,O,2,3,"td",6),t.YNc(2,w,3,5,"td",6),t.YNc(3,x,3,5,"td",6),t.YNc(4,A,2,1,"td",2),t.BQk()),2&n){const o=m.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.columns[o].field&&void 0===a.columns[o].type),t.xp6(1),t.Q6J("ngIf",a.columns[o].field&&"date"===a.columns[o].type),t.xp6(1),t.Q6J("ngIf",a.columns[o].field&&"datetime"===a.columns[o].type),t.xp6(1),t.Q6J("ngIf",!a.columns[o].field)}}function J(n,m){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,I,5,4,"ng-container",1),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.columns)}}let F=(()=>{class n{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let o of this.columns)void 0!==o.field&&mosetdefaults(this.fielddefault,o)}getfieldvalue(o,a){return mogetfieldvalue(this.datatable[o],this.columns[a].field)}actionEvent(o,a,d){o.preventDefault(),this.action.emit({event:d,row:a})}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(a,d){1&a&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,T,3,2,"ng-container",1),t.qZA()(),t.YNc(5,e,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,J,2,1,"tr",1),t.qZA()()),2&a&&(t.xp6(4),t.Q6J("ngForOf",d.columns),t.xp6(1),t.Q6J("ngIf",d.foot),t.xp6(2),t.Q6J("ngForOf",d.datatable))},dependencies:[f.sg,f.O5,g.L,b.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return n})()},3092:(v,u,i)=>{i.d(u,{$:()=>b});var t=i(6814),f=i(9177),g=i(4946);let b=(()=>{class p{static#t=this.\u0275fac=function(h){return new(h||p)};static#e=this.\u0275mod=g.oAB({type:p});static#o=this.\u0275inj=g.cJS({imports:[t.ez,f.A]})}return p})()}}]);