"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[930],{8930:(O,c,r)=>{r.r(c),r.d(c,{TraspasoModule:()=>K});var l=r(6814),m=r(7664),t=r(4946);let h=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#o=this.\u0275cmp=t.Xpm({type:a,selectors:[["traspaso-main"]],decls:1,vars:0,template:function(o,e){1&o&&t._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2})}return a})();var f=r(5413),g=r(3297),T=r(2848),E=r(1106),u=r(3259),p=r(95),C=r(9324),v=r(1532),d=r(6084),y=r(707),F=r(2772),M=r(6130),Z=r(2898);const N=["notaentregaform"],R=["notamanage"],J=["transform"];let Q=(()=>{class a{constructor(){this.display=!1,this.transporte=new f.e,this.ruta="/almacen/traspaso",this.formEvent=new t.vpe}ngOnInit(){}open(n){this.transporte=n;let o=new d.Q;o.transporte=n,this.neform.newForm(o),this.notamanage.update(n.id),this.transporteform.open(this.transporte),this.display=!0}onExit(){this.display=!1,this.formEvent.emit("")}onNotaManageEvent(n){if("update"===n.action)this.neform.updateForm(n.value.nota);else{let o=new d.Q;o.transporte=this.transporte,this.neform.newForm(o)}}onNotaFormEvent(n){this.notamanage.update(this.transporte.id)}onTransFormEvent(n){this.transporte=n;var o=new d.Q;o.transporte=this.transporte,this.neform.newForm(o)}static#t=this.\u0275fac=function(o){return new(o||a)};static#o=this.\u0275cmp=t.Xpm({type:a,selectors:[["traspaso-form"]],viewQuery:function(o,e){if(1&o&&(t.Gf(N,7),t.Gf(R,7),t.Gf(J,7)),2&o){let s;t.iGM(s=t.CRH())&&(e.neform=s.first),t.iGM(s=t.CRH())&&(e.notamanage=s.first),t.iGM(s=t.CRH())&&(e.transporteform=s.first)}},outputs:{formEvent:"formEvent"},decls:20,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"path","formEvent"],["transform",""],[1,"card",3,"hidden"],[3,"path","notaFormEvent"],["notaentregaform",""],[3,"path","notaManageEvent"],["notamanage",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Registro Transporte"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.onExit()}),t.qZA()()(),t.TgZ(10,"div",8)(11,"resp-form",9,10),t.NdJ("formEvent",function(i){return e.onTransFormEvent(i)}),t.qZA()()(),t.TgZ(13,"div",11)(14,"nota-form",12,13),t.NdJ("notaFormEvent",function(i){return e.onNotaFormEvent(i)}),t.qZA()(),t.TgZ(16,"div",11)(17,"notas-manage",14,15),t.NdJ("notaManageEvent",function(i){return e.onNotaManageEvent(i)}),t.qZA()()(),t._UZ(19,"div",2),t.qZA()()),2&o&&(t.Q6J("hidden",!e.display),t.xp6(11),t.Q6J("path",e.ruta),t.xp6(2),t.Q6J("hidden",0===e.transporte.id),t.xp6(1),t.Q6J("path",e.ruta),t.xp6(2),t.Q6J("hidden",0===e.transporte.id),t.xp6(1),t.Q6J("path",e.ruta))},dependencies:[u.u,y.Hq,F.Z,M.T,Z.k],encapsulation:2})}return a})();const w=["trpaso"];function A(a,z){if(1&a){const n=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h2"),t._uU(7,"Traspaso: Listado de Responsables"),t.qZA()(),t.TgZ(8,"div",9)(9,"button",10),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.open())}),t.TgZ(10,"i",11),t._uU(11,"add_circle_outline"),t.qZA()(),t.TgZ(12,"p-calendar",12),t.NdJ("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.currentDate=e)})("onSelect",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.onSelectedDate(e))}),t.qZA()()(),t.TgZ(13,"div",13)(14,"mo-report",14),t.NdJ("action",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.onReportEvent(e))}),t.qZA()()()()()()}if(2&a){const n=t.oxw();t.xp6(12),t.Q6J("ngModel",n.currentDate),t.xp6(2),t.Q6J("data",n.data)}}const S=[{path:"",component:h,children:[{path:"",component:(()=>{class a{constructor(n,o){this.dataService=n,this.confirmService=o,this.display=!0,this.currentDate=new Date,this.data={content:[],rows:{class:"pendiente",condition:e=>"PENDIENTE"===e.estado},columns:[{field:"id",columnName:"Id"},{field:"fecha",columnName:"Fecha",type:"date"},{field:"conductor",columnName:"Responsable"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{field:"cantidad",columnName:"Alimento",align:"right"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:e=>"PENDIENTE"==e.estado},{iconname:"arrow_forward",iconclass:"material-icons-outlined",event:"openform",condition:e=>!0}]}]}}ngOnInit(){this.getdata()}open(){this.display=!1,this.form.open(new f.e)}onSelectedDate(n){this.getdata()}onReportEvent(n){switch(n.event){case"openform":this.display=!1,this.form.open(n.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar '"+n.row.id+"'?",accept:()=>{this.dataService.deletedata("/almacen/traspaso/d/respdelete",{id:n.row.id}).subscribe(e=>{this.getdata()})}})}}onVgenFormEvent(n){this.display=!0,this.getdata()}getdata(){var n=new g.y;n.ordersby=["tr.id"],n.date=this.currentDate,this.dataService.postdata("/almacen/traspaso/r/resp",n).subscribe(o=>{this.data.content=o})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(T.D),t.Y36(E.I))};static#o=this.\u0275cmp=t.Xpm({type:a,selectors:[["traspaso-reps"]],viewQuery:function(o,e){if(1&o&&t.Gf(w,7),2&o){let s;t.iGM(s=t.CRH())&&(e.form=s.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"formEvent"],["trpaso",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Registrar Transporte",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],["dateFormat","dd MM yy","inputId","dateformat",3,"ngModel","ngModelChange","onSelect"],[1,"mo-panel-content"],[3,"data","action"]],template:function(o,e){1&o&&(t.YNc(0,A,15,2,"div",0),t.TgZ(1,"traspaso-form",1,2),t.NdJ("formEvent",function(i){return e.onVgenFormEvent(i)}),t.qZA()),2&o&&t.Q6J("ngIf",e.display)},dependencies:[l.O5,u.u,p.JJ,p.On,C.t,v.f,Q],encapsulation:2})}return a})()},{path:"**",redirectTo:""}]}];let G=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#o=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(S),m.Bz]})}return a})();var D=r(8368),H=r(4553),x=r(1310),I=r(2454),U=r(4858),B=r(9604),_=r(7090);let K=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#o=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[l.ez,G,D.U,H.W,v._8,x.H,p.UX,I.q,U.V,B.w,_.$]})}return a})()}}]);