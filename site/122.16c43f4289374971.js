"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[122],{5709:(u,p,a)=>{a.r(p),a.d(p,{CatalogoModule:()=>J});var l=a(6814),r=a(95),c=a(7664),t=a(4946),v=a(2848),s=a(1106),m=a(9324),_=a(3259),g=a(707),h=a(2611),C=a(7213),b=a(3714);function F(i,N){1&i&&(t.TgZ(0,"small",15),t._uU(1,"Username is not available."),t.qZA())}function T(i,N){1&i&&(t.TgZ(0,"small",15),t._uU(1,"Username is not available."),t.qZA())}const Z=function(){return{width:"70vw"}},M=function(){return{"960px":"75vw"}};let E=(()=>{class i{constructor(o,n){this.formBuilder=o,this.dataService=n,this.displayResponsive=!1,this.catalogo=new h.W,this.formSaveEvent=new t.vpe,this.registerForm=this.formBuilder.group({id:[{value:"0",disabled:!0}],nombre:[this.catalogo.nombre,r.kI.required],descripcion:[this.catalogo.descripcion,r.kI.required]})}ngOnInit(){}newCatalogo(){this.registerForm.reset(),this.registerForm.controls.id.setValue(this.catalogo.id),this.displayResponsive=!0}updateCatalogo(o){this.registerForm.reset(),this.catalogo=o,this.registerForm.controls.id.setValue(o.id),this.registerForm.controls.nombre.setValue(o.nombre),this.registerForm.controls.descripcion.setValue(o.descripcion),this.displayResponsive=!0}submitcat(){let o=new h.W;o=this.registerForm.getRawValue(),this.dataService.postdata("/gastos/catalogo/w",o).subscribe(n=>{this.displayResponsive=!1,this.formSaveEvent.emit()})}get nombrecat(){return this.registerForm.get("nombre")}get descripcioncat(){return this.registerForm.get("descripcion")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(r.QS),t.Y36(v.D))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["catalogo-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:22,vars:12,consts:[["header","Registro catalogo",3,"visible","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-5"],[1,"p-float-label"],["type","text","id","catalogoid","pInputText","","formControlName","id"],["for","catalogoid"],[1,"p-field","col-12","md:col-7"],["type","text","id","catalogonombre","pInputText","","formControlName","nombre"],["for","catalogonombre"],["class","p-error",4,"ngIf"],["id","catalogodescrip","type","text","pInputText","","formControlName","descripcion"],["for","catalogodescrip"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(n,e){1&n&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(f){return e.displayResponsive=f}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return e.submitcat()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"input",5),t.TgZ(6,"label",6),t._uU(7,"ID:"),t.qZA()()(),t.TgZ(8,"div",7)(9,"span",4),t._UZ(10,"input",8),t.TgZ(11,"label",9),t._uU(12,"Nombre:"),t.qZA(),t.YNc(13,F,2,0,"small",10),t.qZA()(),t.TgZ(14,"div",3)(15,"span",4),t._UZ(16,"input",11),t.TgZ(17,"label",12),t._uU(18,"Descripci\xf3n"),t.qZA(),t.YNc(19,T,2,0,"small",10),t.qZA()()(),t._UZ(20,"p-button",13),t.TgZ(21,"p-button",14),t.NdJ("click",function(){return e.displayResponsive=!1}),t.qZA()()()),2&n&&(t.Akn(t.DdM(10,Z)),t.Q6J("visible",e.displayResponsive)("breakpoints",t.DdM(11,M))("draggable",!1)("resizable",!1),t.xp6(1),t.Q6J("formGroup",e.registerForm),t.xp6(12),t.Q6J("ngIf",(null==e.nombrecat?null:e.nombrecat.invalid)&&((null==e.nombrecat?null:e.nombrecat.dirty)||(null==e.nombrecat?null:e.nombrecat.touched))),t.xp6(6),t.Q6J("ngIf",(null==e.descripcioncat?null:e.descripcioncat.invalid)&&((null==e.descripcioncat?null:e.descripcioncat.dirty)||(null==e.descripcioncat?null:e.descripcioncat.touched))),t.xp6(1),t.Q6J("disabled",e.registerForm.invalid))},dependencies:[l.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.zx,C.V,b.o],encapsulation:2})}return i})();const A=["catalogoform"];let y=(()=>{class i{constructor(o,n){this.dataService=o,this.confirmService=n,this.report={content:[],columns:[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"descripcion",columnName:"Descripcion"},{actions:[{iconclass:"pi pi-pencil",event:"modify",condition:e=>!0},{iconclass:"pi pi-trash",event:"delete",condition:e=>!0}]}]}}ngOnInit(){this.getdata()}openNewForm(){this.form.newCatalogo()}openModifyForm(o){this.form.updateCatalogo(o)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/gastos/catalogo/r",{}).subscribe(o=>{this.report.content=o})}myaction(o){switch(o.event){case"modify":this.openModifyForm(o.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Catalogo '"+o.row.nombre+"'",accept:()=>{this.dataService.deletedata("/gastos/catalogo/d",{id:o.row.id}).subscribe(e=>{this.getdata()})}})}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.D),t.Y36(s.I))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["catalogo-list"]],viewQuery:function(n,e){if(1&n&&t.Gf(A,7),2&n){let d;t.iGM(d=t.CRH())&&(e.form=d.first)}},decls:14,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Nuevo Catalogo",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"data","action"],[3,"formSaveEvent"],["catalogoform",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Catalogo de Gastos"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.openNewForm()}),t.qZA()()(),t.TgZ(10,"div",8)(11,"mo-report",9),t.NdJ("action",function(f){return e.myaction(f)}),t.qZA()()(),t.TgZ(12,"catalogo-form",10,11),t.NdJ("formSaveEvent",function(){return e.saveForm()}),t.qZA()()()()),2&n&&(t.xp6(11),t.Q6J("data",e.report))},dependencies:[m.t,_.u,g.Hq,E],encapsulation:2})}return i})();const U=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["catalogo-main"]],decls:1,vars:0,template:function(n,e){1&n&&t._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2})}return i})(),children:[{path:"",component:y},{path:"list",component:y},{path:"**",redirectTo:"list"}]}];let D=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(U),c.Bz]})}return i})();var I=a(2655),S=a(4553);let J=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[l.ez,r.UX,D,S.W,I.w,g.hJ,C.S,b.j]})}return i})()},2415:(u,p,a)=>{a.d(p,{E:()=>c});var l=a(4946),r=a(6814);let c=(()=>{class t{constructor(s){this.datePipe=s}transform(s,...m){return this.datePipe.transform(s,"dd/MM/yyyy")}static#t=this.\u0275fac=function(m){return new(m||t)(l.Y36(r.uU,16))};static#o=this.\u0275pipe=l.Yjl({name:"dateFormat",type:t,pure:!0})}return t})()},4621:(u,p,a)=>{a.d(p,{L:()=>c});var l=a(4946),r=a(6814);let c=(()=>{class t{constructor(s){this.datePipe=s}transform(s,...m){return this.datePipe.transform(s,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(m){return new(m||t)(l.Y36(r.uU,16))};static#o=this.\u0275pipe=l.Yjl({name:"datetimeFormat",type:t,pure:!0})}return t})()},9177:(u,p,a)=>{a.d(p,{A:()=>c});var l=a(6814),r=a(4946);let c=(()=>{class t{static#t=this.\u0275fac=function(m){return new(m||t)};static#o=this.\u0275mod=r.oAB({type:t});static#e=this.\u0275inj=r.cJS({providers:[l.uU],imports:[l.ez]})}return t})()}}]);