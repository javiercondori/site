"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[735],{9709:(T,f,r)=>{r.d(f,{U:()=>p});var t=r(8196);class p{constructor(){this.id=0,this.nombre="",this.comentario="",this.tipo=new t.o,this.estado="ACTIVO",this.factorinventario="1",this.orden=1}}},8196:(T,f,r)=>{r.d(f,{o:()=>t});class t{constructor(){this.id=0,this.nombre=""}}},5735:(T,f,r)=>{r.r(f),r.d(f,{ProductoModule:()=>L});var t=r(6814),p=r(7664),o=r(4946),h=r(7757),_=r(1106),C=r(3259),v=r(707),b=r(156),u=r(95),M=r(9709),P=r(3714),y=r(2105),Z=r(7213);function A(c,F){1&c&&(o.TgZ(0,"small",20),o._uU(1,"Nombre no v\xe1lido"),o.qZA())}function I(c,F){1&c&&(o.TgZ(0,"small",20),o._uU(1,"Comentario es requerido."),o.qZA())}function O(c,F){1&c&&(o.TgZ(0,"small",20),o._uU(1,"Factor para inventario no v\xe1lido."),o.qZA())}function U(c,F){1&c&&(o.TgZ(0,"small",20),o._uU(1,"Orden no V\xe1lido"),o.qZA())}const N=function(){return{width:"70vw"}},i=function(){return{"960px":"75vw"}};let m=(()=>{class c{constructor(l,s){this.formBuilder=l,this.dataService=s,this.formSaveEvent=new o.vpe,this.entidad=new M.U,this.display=!1,this.tipos=[],this.form=this.formBuilder.group({id:[{value:0,disabled:!0}],nombre:["",u.kI.required],comentario:["",u.kI.required],factorinventario:["",u.kI.required],tipo:[{},u.kI.required],orden:[1,u.kI.required]})}ngOnInit(){}newForm(){this.getTipos(),this.form.reset(),this.form.controls.id.setValue(this.entidad.id),this.form.controls.tipo.setValue(this.tipos[0]),this.display=!0}updateform(l){this.getTipos(),this.form.reset(),this.form.controls.id.setValue(l.id),this.form.controls.nombre.setValue(l.nombre),this.form.controls.comentario.setValue(l.comentario),this.form.controls.factorinventario.setValue(l.factorinventario),this.form.controls.tipo.setValue(l.tipo),this.form.controls.orden.setValue(l.orden),this.display=!0}submit(){let l=this.form.getRawValue();this.dataService.postdata("/almacen/producto",l).subscribe(s=>{this.display=!1,this.formSaveEvent.emit()})}getTipos(){this.dataService.getdata("/almacen/producto/tipos",{}).subscribe(l=>{this.tipos=l})}get nombre(){return this.form.get("nombre")}get comentario(){return this.form.get("direccion")}get factorinventario(){return this.form.get("factorinventario")}get orden(){return this.form.get("orden")}static#t=this.\u0275fac=function(s){return new(s||c)(o.Y36(u.QS),o.Y36(h.D))};static#o=this.\u0275cmp=o.Xpm({type:c,selectors:[["producto-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:39,vars:16,consts:[["header","Datos Producto",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","productoid","pInputText","","formControlName","id"],["for","productoid"],["type","text","id","productonombre","pInputText","","formControlName","nombre"],["for","productonombre"],["class","p-error",4,"ngIf"],["id","productocomentario","type","text","pInputText","","formControlName","comentario"],["for","productocomentario"],["id","productofactor","type","text","pInputText","","formControlName","factorinventario"],["for","productofactor"],["id","productoorden","type","text","pInputText","","formControlName","orden"],["for","productoorden"],["appendTo","body","optionLabel","nombre","formControlName","tipo","id","tipo",3,"options"],["for","tipo"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(s,e){1&s&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(J){return e.display=J}),o.TgZ(1,"form",1),o.NdJ("submit",function(){return e.submit()}),o.TgZ(2,"div",2)(3,"div",3)(4,"span",4),o._UZ(5,"input",5),o.TgZ(6,"label",6),o._uU(7,"ID:"),o.qZA()()(),o.TgZ(8,"div",3)(9,"span",4),o._UZ(10,"input",7),o.TgZ(11,"label",8),o._uU(12,"Nombre:"),o.qZA(),o.YNc(13,A,2,0,"small",9),o.qZA()(),o.TgZ(14,"div",3)(15,"span",4),o._UZ(16,"input",10),o.TgZ(17,"label",11),o._uU(18,"Comentario:"),o.qZA(),o.YNc(19,I,2,0,"small",9),o.qZA()(),o.TgZ(20,"div",3)(21,"span",4),o._UZ(22,"input",12),o.TgZ(23,"label",13),o._uU(24,"Factor para Inventario:"),o.qZA(),o.YNc(25,O,2,0,"small",9),o.qZA()(),o.TgZ(26,"div",3)(27,"span",4),o._UZ(28,"input",14),o.TgZ(29,"label",15),o._uU(30,"Orden:"),o.qZA(),o.YNc(31,U,2,0,"small",9),o.qZA()(),o.TgZ(32,"div",3)(33,"span",4),o._UZ(34,"p-dropdown",16),o.TgZ(35,"label",17),o._uU(36,"Tipo:"),o.qZA()()()(),o._UZ(37,"p-button",18),o.TgZ(38,"p-button",19),o.NdJ("click",function(){return e.display=!1}),o.qZA()()()),2&s&&(o.Akn(o.DdM(14,N)),o.Q6J("visible",e.display)("modal",!0)("breakpoints",o.DdM(15,i))("draggable",!1)("resizable",!0),o.xp6(1),o.Q6J("formGroup",e.form),o.xp6(12),o.Q6J("ngIf",(null==e.nombre?null:e.nombre.invalid)&&((null==e.nombre?null:e.nombre.dirty)||(null==e.nombre?null:e.nombre.touched))),o.xp6(6),o.Q6J("ngIf",(null==e.comentario?null:e.comentario.invalid)&&((null==e.comentario?null:e.comentario.dirty)||(null==e.comentario?null:e.comentario.touched))),o.xp6(6),o.Q6J("ngIf",(null==e.factorinventario?null:e.factorinventario.invalid)&&((null==e.factorinventario?null:e.factorinventario.dirty)||(null==e.factorinventario?null:e.factorinventario.touched))),o.xp6(6),o.Q6J("ngIf",(null==e.orden?null:e.orden.invalid)&&((null==e.orden?null:e.orden.dirty)||(null==e.orden?null:e.orden.touched))),o.xp6(3),o.Q6J("options",e.tipos),o.xp6(3),o.Q6J("disabled",e.form.invalid))},dependencies:[t.O5,v.zx,P.o,y.Lt,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,Z.V],encapsulation:2})}return c})();const n=["form"];let a=(()=>{class c{constructor(l,s){this.dataService=l,this.confirmService=s,this.currentDate=new Date,this.list=[],this.columns=[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{field:"factorinventario",columnName:"Factor"},{field:"tipo.nombre",columnName:"Tipo"},{actions:[{icon:"pi pi-pencil",event:"modify",condition:e=>!0},{icon:"pi pi-trash",event:"delete",condition:e=>!0}]}]}ngOnInit(){this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(l){this.form.updateform(l)}saveForm(){this.getdata()}getdata(){this.dataService.getdata("/almacen/producto",{date:this.currentDate}).subscribe(l=>{this.list=l})}tableAction(l){switch(l.event){case"modify":this.openModifyForm(l.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Producto '"+l.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/almacen/producto",{id:l.row.id}).subscribe(e=>{this.getdata()})}})}}static#t=this.\u0275fac=function(s){return new(s||c)(o.Y36(h.D),o.Y36(_.I))};static#o=this.\u0275cmp=o.Xpm({type:c,selectors:[["producto-list"]],viewQuery:function(s,e){if(1&s&&o.Gf(n,7),2&s){let g;o.iGM(g=o.CRH())&&(e.form=g.first)}},decls:14,vars:2,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar nuevo Producto",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"datatable","columns","action"],[3,"formSaveEvent"],["form",""]],template:function(s,e){1&s&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"Listado de Productos"),o.qZA()(),o.TgZ(8,"div",6)(9,"button",7),o.NdJ("click",function(){return e.openNewForm()}),o.qZA()()(),o.TgZ(10,"div",8)(11,"mo-table",9),o.NdJ("action",function(J){return e.tableAction(J)}),o.qZA()()()()(),o.TgZ(12,"producto-form",10,11),o.NdJ("formSaveEvent",function(){return e.saveForm()}),o.qZA()()),2&s&&(o.xp6(11),o.Q6J("datatable",e.list)("columns",e.columns))},dependencies:[C.u,v.Hq,b.I,m],encapsulation:2})}return c})();var d=r(2655);const E=[{path:"",component:(()=>{class c{constructor(){}ngOnInit(){this.items=[{label:"Almacen"},{label:"Productos"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(s){return new(s||c)};static#o=this.\u0275cmp=o.Xpm({type:c,selectors:[["producto-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(s,e){1&s&&o._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&s&&o.Q6J("model",e.items)("home",e.home)},dependencies:[p.lC,d.a],encapsulation:2})}return c})(),children:[{path:"",component:a},{path:"**",redirectTo:""}]}];let w=(()=>{class c{static#t=this.\u0275fac=function(s){return new(s||c)};static#o=this.\u0275mod=o.oAB({type:c});static#n=this.\u0275inj=o.cJS({imports:[p.Bz.forChild(E),p.Bz]})}return c})();var Q=r(8368),D=r(3092);let L=(()=>{class c{static#t=this.\u0275fac=function(s){return new(s||c)};static#o=this.\u0275mod=o.oAB({type:c});static#n=this.\u0275inj=o.cJS({imports:[t.ez,w,Q.U,D.$,u.UX,Z.S]})}return c})()},156:(T,f,r)=>{r.d(f,{I:()=>N});var t=r(4946),p=r(6814),o=r(4621),h=r(2415);function _(i,m){if(1&i&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&i){const n=t.oxw(),a=n.index,d=n.$implicit,x=t.oxw();t.Udp("text-align",x.columns[a].align),t.xp6(1),t.hij("",d.columnName," ")}}function C(i,m){1&i&&t._UZ(0,"th",5)}function v(i,m){if(1&i&&(t.ynx(0),t.YNc(1,_,2,3,"th",3),t.YNc(2,C,1,0,"th",4),t.BQk()),2&i){const n=m.$implicit;t.xp6(1),t.Q6J("ngIf",n.field),t.xp6(1),t.Q6J("ngIf",!n.field)}}function b(i,m){if(1&i&&(t.ynx(0),t.TgZ(1,"th",5),t._uU(2),t.qZA(),t.BQk()),2&i){const n=m.$implicit,a=t.oxw(2);t.xp6(1),t.Udp("text-align",n.align),t.uIk("colspan",n.colspan),t.xp6(1),t.hij("",a.foot.content[n.index]," ")}}function u(i,m){if(1&i&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,b,3,4,"ng-container",1),t.qZA()()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.foot.cols)}}function M(i,m){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[n].align),t.xp6(1),t.Oqu(d.getfieldvalue(a,n))}}function P(i,m){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(a,n)))}}function y(i,m){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw().index,d=t.oxw();t.Udp("text-align",d.columns[n].align),t.xp6(1),t.Oqu(t.lcZ(2,3,d.getfieldvalue(a,n)))}}function Z(i,m){if(1&i){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(d){t.CHM(n);const x=t.oxw().$implicit,E=t.oxw(3).$implicit,w=t.oxw();return t.KtG(w.actionEvent(d,E,x.event))}),t._UZ(1,"i"),t.qZA()}if(2&i){const n=t.oxw().$implicit;t.xp6(1),t.Tol(n.icon)}}function A(i,m){if(1&i&&(t.ynx(0),t.YNc(1,Z,2,3,"a",7),t.BQk()),2&i){const n=m.$implicit,a=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition(a))}}function I(i,m){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,A,2,1,"ng-container",1),t.qZA()),2&i){const n=t.oxw().index,a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.columns[n].actions)}}function O(i,m){if(1&i&&(t.ynx(0),t.YNc(1,M,2,3,"td",6),t.YNc(2,P,3,5,"td",6),t.YNc(3,y,3,5,"td",6),t.YNc(4,I,2,1,"td",2),t.BQk()),2&i){const n=m.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.columns[n].field&&void 0===a.columns[n].type),t.xp6(1),t.Q6J("ngIf",a.columns[n].field&&"date"===a.columns[n].type),t.xp6(1),t.Q6J("ngIf",a.columns[n].field&&"datetime"===a.columns[n].type),t.xp6(1),t.Q6J("ngIf",!a.columns[n].field)}}function U(i,m){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,O,5,4,"ng-container",1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}let N=(()=>{class i{constructor(){this.fielddefault={align:"left"},this.action=new t.vpe}ngOnInit(){for(let n of this.columns)void 0!==n.field&&mosetdefaults(this.fielddefault,n)}getfieldvalue(n,a){return mogetfieldvalue(this.datatable[n],this.columns[a].field)}actionEvent(n,a,d){n.preventDefault(),this.action.emit({event:d,row:a})}static#t=this.\u0275fac=function(a){return new(a||i)};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["mo-table"]],inputs:{datatable:"datatable",columns:"columns",foot:"foot"},outputs:{action:"action"},decls:8,vars:3,consts:[[1,"customers"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"text-align",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(a,d){1&a&&(t.TgZ(0,"table",0),t._UZ(1,"caption"),t.TgZ(2,"thead")(3,"tr"),t.YNc(4,v,3,2,"ng-container",1),t.qZA()(),t.YNc(5,u,3,1,"tfoot",2),t.TgZ(6,"tbody"),t.YNc(7,U,2,1,"tr",1),t.qZA()()),2&a&&(t.xp6(4),t.Q6J("ngForOf",d.columns),t.xp6(1),t.Q6J("ngIf",d.foot),t.xp6(2),t.Q6J("ngForOf",d.datatable))},dependencies:[p.sg,p.O5,o.L,h.E],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#0059b3;color:#fff}"]})}return i})()},3092:(T,f,r)=>{r.d(f,{$:()=>h});var t=r(6814),p=r(9177),o=r(4946);let h=(()=>{class _{static#t=this.\u0275fac=function(b){return new(b||_)};static#o=this.\u0275mod=o.oAB({type:_});static#n=this.\u0275inj=o.cJS({imports:[t.ez,p.A]})}return _})()}}]);