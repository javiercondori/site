"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[342],{5252:(f,p,i)=>{i.r(p),i.d(p,{RoleModule:()=>O});var m=i(6814),d=i(7664),e=i(4946);let a=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-role-main"]],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"router-outlet")},dependencies:[d.lC],encapsulation:2})}return o})();class v{constructor(){this.id=0,this.name="",this.directory=""}}class l{constructor(){this.id=0,this.rama="",this.subdir="",this.role=new v}}class s{constructor(){this.role=new v,this.menu=new l}}var g=i(2848),b=i(1106),T=i(3259),R=i(9324),u=i(95),Z=i(707),M=i(3714),_=i(7213);function C(o,h){1&o&&(e.TgZ(0,"small",16),e._uU(1,"Nombre de rol no v\xe1lido"),e.qZA())}function E(o,h){1&o&&(e.TgZ(0,"small",16),e._uU(1,"Directorio no v\xe1lido"),e.qZA())}function A(o,h){1&o&&(e.TgZ(0,"small",16),e._uU(1,"Directorio no v\xe1lido"),e.qZA())}function U(o,h){1&o&&(e.TgZ(0,"small",16),e._uU(1,"Directorio no v\xe1lido"),e.qZA())}const F=function(){return{width:"70vw"}},N=function(){return{"600px":"75vw"}};let w=(()=>{class o{constructor(r,n){this.formBuilder=r,this.dataService=n,this.rolemenu=new s,this.display=!1,this.formEvent=new e.vpe,this.form=this.formBuilder.group({name:["",u.kI.required],directory:["",u.kI.required],rama:["",u.kI.required],subdir:[""]})}new(){this.rolemenu=new s,this.form.reset(),this.form.controls.name.setValue(this.rolemenu.role.name),this.form.controls.directory.setValue(this.rolemenu.role.directory),this.form.controls.rama.setValue(this.rolemenu.menu.rama),this.form.controls.subdir.setValue(this.rolemenu.menu.subdir),this.display=!0}update(r){this.rolemenu=r,this.form.controls.name.setValue(r.role.name),this.form.controls.directory.setValue(r.role.directory),this.form.controls.rama.setValue(r.menu.rama),this.form.controls.subdir.setValue(r.menu.subdir),this.display=!0}submit(){let r=new s,n=this.form.getRawValue();r.role.id=this.rolemenu.role.id,r.role.name=n.name,r.role.directory=n.directory,r.menu.id=this.rolemenu.menu.id,r.menu.rama=n.rama,r.menu.subdir=n.subdir,this.dataService.postdata("/system/role/w/save",r).subscribe(t=>{this.display=!1,this.formEvent.emit()})}get name(){return this.form.get("name")}get directory(){return this.form.get("directory")}get rama(){return this.form.get("rama")}get subdir(){return this.form.get("subdir")}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(u.QS),e.Y36(g.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["role-form"]],outputs:{formEvent:"formEvent"},decls:29,vars:15,consts:[["header","Nuevo Transporte",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","rolename","pInputText","","formControlName","name"],["for","rolename"],["class","p-error",4,"ngIf"],["id","roledirectory","type","text","pInputText","","formControlName","directory"],["for","roledirectory"],["id","menurama","type","text","pInputText","","formControlName","rama"],["for","menurama"],["id","menusubdir","type","text","pInputText","","formControlName","subdir"],["for","menusubdir"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(n,t){1&n&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(y){return t.display=y}),e.TgZ(1,"form",1),e.NdJ("submit",function(){return t.submit()}),e.TgZ(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"input",5),e.TgZ(6,"label",6),e._uU(7,"Nombre Rol de Sistema:"),e.qZA(),e.YNc(8,C,2,0,"small",7),e.qZA()(),e.TgZ(9,"div",3)(10,"span",4),e._UZ(11,"input",8),e.TgZ(12,"label",9),e._uU(13,"Directorio de Rol:"),e.qZA(),e.YNc(14,E,2,0,"small",7),e.qZA()(),e.TgZ(15,"div",3)(16,"span",4),e._UZ(17,"input",10),e.TgZ(18,"label",11),e._uU(19,"Menu Rama:"),e.qZA(),e.YNc(20,A,2,0,"small",7),e.qZA()(),e.TgZ(21,"div",3)(22,"span",4),e._UZ(23,"input",12),e.TgZ(24,"label",13),e._uU(25,"Menu Subdir:"),e.qZA(),e.YNc(26,U,2,0,"small",7),e.qZA()()(),e._UZ(27,"p-button",14),e.TgZ(28,"p-button",15),e.NdJ("click",function(){return t.display=!1}),e.qZA()()()),2&n&&(e.Akn(e.DdM(13,F)),e.Q6J("visible",t.display)("modal",!0)("breakpoints",e.DdM(14,N))("draggable",!1)("resizable",!0),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("ngIf",(null==t.name?null:t.name.invalid)&&((null==t.name?null:t.name.dirty)||(null==t.name?null:t.name.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.directory?null:t.directory.invalid)&&((null==t.directory?null:t.directory.dirty)||(null==t.directory?null:t.directory.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.directory?null:t.directory.invalid)&&((null==t.directory?null:t.directory.dirty)||(null==t.directory?null:t.directory.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.directory?null:t.directory.invalid)&&((null==t.directory?null:t.directory.dirty)||(null==t.directory?null:t.directory.touched))),e.xp6(1),e.Q6J("disabled",t.form.invalid))},dependencies:[m.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,Z.zx,M.o,_.V],encapsulation:2})}return o})();const D=["form"],I=[{path:"",component:a,children:[{path:"",component:(()=>{class o{constructor(r,n){this.dataService=r,this.confirmService=n,this.data={content:[],columns:[{field:"role.id",columnName:"Id"},{field:"role.name",columnName:"Nombre"},{field:"role.directory",columnName:"Directorio"},{field:"menu.rama",columnName:"Menu Rama"},{field:"menu.subdir",columnName:"Menu Subdirectorio"},{actions:[{iconname:"add",iconclass:"material-symbols-outlined",event:"add",condition:t=>!0},{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:t=>!0},{iconname:"arrow_forward",iconclass:"material-icons-outlined mo-icons-center",event:"modify",condition:t=>!0}]}]}}ngOnInit(){this.getdata()}saveForm(){this.getdata()}onReportEvent(r){switch(r.event){case"add":var n=new s;n.role=r.row.role,this.form.update(n);break;case"modify":this.form.update(r.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar Rol '"+r.row.name+"'?",accept:()=>{this.dataService.postdata("/system/role/d/delete",r.row).subscribe(c=>{this.getdata()})}})}}onFormEvent(){this.getdata()}newRole(){this.form.new()}getdata(){this.dataService.getdata("/system/role/r/list",{}).subscribe(r=>{this.data.content=r})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(g.D),e.Y36(b.I))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-role-manage"]],viewQuery:function(n,t){if(1&n&&e.Gf(D,7),2&n){let c;e.iGM(c=e.CRH())&&(t.form=c.first)}},decls:16,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Nuevo Rol de Sistema",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],[1,"mo-panel-content"],[3,"data","action"],[3,"formEvent"],["form",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7,"Roles de Sistema"),e.qZA()(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return t.newRole()}),e.TgZ(10,"i",8),e._uU(11,"add_circle_outline"),e.qZA()()()(),e.TgZ(12,"div",9)(13,"mo-report",10),e.NdJ("action",function(y){return t.onReportEvent(y)}),e.qZA()()()()()(),e.TgZ(14,"role-form",11,12),e.NdJ("formEvent",function(){return t.onFormEvent()}),e.qZA()),2&n&&(e.xp6(13),e.Q6J("data",t.data))},dependencies:[T.u,R.t,w],encapsulation:2})}return o})()},{path:"**",redirectTo:""}]}];let J=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]})}return o})();var P=i(8368),S=i(4553);let O=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[m.ez,J,u.UX,P.U,S.W,_.S]})}return o})()},2415:(f,p,i)=>{i.d(p,{E:()=>e});var m=i(4946),d=i(6814);let e=(()=>{class a{constructor(l){this.datePipe=l}transform(l,...s){return this.datePipe.transform(l,"dd/MM/yyyy")}static#e=this.\u0275fac=function(s){return new(s||a)(m.Y36(d.uU,16))};static#t=this.\u0275pipe=m.Yjl({name:"dateFormat",type:a,pure:!0})}return a})()},4621:(f,p,i)=>{i.d(p,{L:()=>e});var m=i(4946),d=i(6814);let e=(()=>{class a{constructor(l){this.datePipe=l}transform(l,...s){return this.datePipe.transform(l,"dd/MM/yyyy H:mm:ss")}static#e=this.\u0275fac=function(s){return new(s||a)(m.Y36(d.uU,16))};static#t=this.\u0275pipe=m.Yjl({name:"datetimeFormat",type:a,pure:!0})}return a})()},9177:(f,p,i)=>{i.d(p,{A:()=>e});var m=i(6814),d=i(4946);let e=(()=>{class a{static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275mod=d.oAB({type:a});static#o=this.\u0275inj=d.cJS({providers:[m.uU],imports:[m.ez]})}return a})()}}]);