"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[198],{8555:(C,m,e)=>{e.d(m,{r:()=>n});var t=e(5289),p=e(698);class n{constructor(){this.id=0,this.entidad=new t.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new p.A}}},5289:(C,m,e)=>{e.d(m,{$:()=>t});class t{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},9324:(C,m,e)=>{e.d(m,{t:()=>D});var t=e(4946),p=e(6814),n=e(4621),d=e(2415),h=e(7635);function u(a,l){if(1&a&&(t.ynx(0),t._uU(1),t.BQk()),2&a){const o=t.oxw();t.xp6(1),t.Oqu(o.data.caption)}}function g(a,l){if(1&a&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&a){const o=t.oxw(),s=o.index,i=o.$implicit,M=t.oxw();t.Udp("text-align",M.data.columns[s].align),t.xp6(1),t.hij("",i.columnName," ")}}function v(a,l){1&a&&t._UZ(0,"th",5)}function T(a,l){if(1&a&&(t.ynx(0),t.YNc(1,g,2,3,"th",3),t.YNc(2,v,1,0,"th",4),t.BQk()),2&a){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.field),t.xp6(1),t.Q6J("ngIf",!o.field)}}function E(a,l){if(1&a&&(t.ynx(0),t.TgZ(1,"td",5),t._uU(2),t.qZA(),t.BQk()),2&a){const o=l.$implicit,s=t.oxw(2);t.xp6(1),t.Udp("text-align",o.align),t.uIk("colspan",o.colspan),t.xp6(1),t.hij("",s.data.foot.content[o.index]," ")}}function O(a,l){if(1&a&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,E,3,4,"ng-container",2),t.qZA()()),2&a){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.data.foot.cols)}}function y(a,l){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&a){const o=t.oxw().index,s=t.oxw().index,i=t.oxw();t.Udp("text-align",i.data.columns[o].align),t.xp6(1),t.Oqu(i.getfieldvalue(s,o))}}function P(a,l){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&a){const o=t.oxw().index,s=t.oxw().index,i=t.oxw();t.Udp("text-align",i.data.columns[o].align),t.xp6(1),t.Oqu(t.lcZ(2,3,i.getfieldvalue(s,o)))}}function w(a,l){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"datetimeFormat"),t.qZA()),2&a){const o=t.oxw().index,s=t.oxw().index,i=t.oxw();t.Udp("text-align",i.data.columns[o].align),t.xp6(1),t.Oqu(t.lcZ(2,3,i.getfieldvalue(s,o)))}}function b(a,l){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"periodmonthFormat"),t.qZA()),2&a){const o=t.oxw().index,s=t.oxw().index,i=t.oxw();t.Udp("text-align",i.data.columns[o].align),t.xp6(1),t.Oqu(t.lcZ(2,3,i.getfieldvalue(s,o)))}}function A(a,l){if(1&a){const o=t.EpF();t.TgZ(0,"a",12),t.NdJ("click",function(i){t.CHM(o);const M=t.oxw().$implicit,c=t.oxw(3).$implicit,r=t.oxw();return t.KtG(r.actionEvent(i,c,M.event))}),t.TgZ(1,"i"),t._uU(2),t.qZA()()}if(2&a){const o=t.oxw().$implicit;t.xp6(1),t.Tol(o.iconclass),t.xp6(1),t.Oqu(o.iconname)}}function Z(a,l){if(1&a&&(t.ynx(0),t.YNc(1,A,3,4,"a",11),t.BQk()),2&a){const o=l.$implicit,s=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",o.condition(s))}}function R(a,l){if(1&a&&(t.TgZ(0,"td",9)(1,"div",10),t.YNc(2,Z,2,1,"ng-container",2),t.qZA()()),2&a){const o=t.oxw().index,s=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",s.data.columns[o].actions)}}function U(a,l){if(1&a&&(t.ynx(0),t.YNc(1,y,2,3,"td",7),t.YNc(2,P,3,5,"td",7),t.YNc(3,w,3,5,"td",7),t.YNc(4,b,3,5,"td",7),t.YNc(5,R,3,1,"td",8),t.BQk()),2&a){const o=l.index,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.data.columns[o].field&&void 0===s.data.columns[o].type),t.xp6(1),t.Q6J("ngIf",s.data.columns[o].field&&"date"===s.data.columns[o].type),t.xp6(1),t.Q6J("ngIf",s.data.columns[o].field&&"datetime"===s.data.columns[o].type),t.xp6(1),t.Q6J("ngIf",s.data.columns[o].field&&"periodmonth"===s.data.columns[o].type),t.xp6(1),t.Q6J("ngIf",!s.data.columns[o].field)}}function I(a,l){if(1&a&&(t.ynx(0),t.TgZ(1,"tr",6),t.YNc(2,U,6,5,"ng-container",2),t.qZA(),t.BQk()),2&a){const o=l.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngClass",s.data.rows.condition(o)?s.data.rows.class:""),t.xp6(1),t.Q6J("ngForOf",s.data.columns)}}let D=(()=>{class a{constructor(){this.fielddefault={align:"left"},this.rows={class:"",condition:o=>!1},this.action=new t.vpe}ngOnInit(){for(let o of this.data.columns)void 0!==o.field&&mosetdefaults(this.fielddefault,o);void 0===this.data.rows&&(this.data.rows=this.rows)}getfieldvalue(o,s){return mogetfieldvalue(this.data.content[o],this.data.columns[s].field)}actionEvent(o,s,i){o.preventDefault(),this.action.emit({event:i,row:s})}static#t=this.\u0275fac=function(s){return new(s||a)};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["mo-report"]],inputs:{data:"data"},outputs:{action:"action"},decls:9,vars:4,consts:[[1,"customers"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col",3,"text-align",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col"],[3,"ngClass"],[3,"text-align",4,"ngIf"],["style","padding: 0;",4,"ngIf"],[2,"padding","0"],[1,"mo-reportactions"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(s,i){1&s&&(t.TgZ(0,"table",0)(1,"caption"),t.YNc(2,u,2,1,"ng-container",1),t.qZA(),t.TgZ(3,"thead")(4,"tr"),t.YNc(5,T,3,2,"ng-container",2),t.qZA()(),t.YNc(6,O,3,1,"tfoot",1),t.TgZ(7,"tbody"),t.YNc(8,I,3,2,"ng-container",2),t.qZA()()),2&s&&(t.xp6(2),t.Q6J("ngIf",i.data.caption),t.xp6(3),t.Q6J("ngForOf",i.data.columns),t.xp6(1),t.Q6J("ngIf",i.data.foot),t.xp6(2),t.Q6J("ngForOf",i.data.content))},dependencies:[p.mk,p.sg,p.O5,n.L,d.E,h.v],styles:[".customers[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.customers[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.4em;color:#3e3e3e;font-weight:700}.customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f2f2f2}.customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;text-align:center;background-color:#464646;color:#fff}.customers[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding-top:2px;padding-bottom:2px;color:#383838;font-weight:700}"]})}return a})()},4553:(C,m,e)=>{e.d(m,{W:()=>d});var t=e(6814),p=e(9177),n=e(4946);let d=(()=>{class h{static#t=this.\u0275fac=function(v){return new(v||h)};static#n=this.\u0275mod=n.oAB({type:h});static#o=this.\u0275inj=n.cJS({imports:[t.ez,p.A]})}return h})()},2198:(C,m,e)=>{e.r(m),e.d(m,{CobranzaModule:()=>s});var t=e(6814),p=e(7664),n=e(4946);let d=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||i)};static#n=this.\u0275cmp=n.Xpm({type:i,selectors:[["cobranza-main"]],decls:1,vars:0,template:function(r,_){1&r&&n._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2})}return i})();var h=e(7757),u=e(2105),g=e(95),v=e(9324),T=e(8555),E=e(7773),O=e(1106),y=e(3259),P=e(707),w=e(98);const b=["gec"];let A=(()=>{class i{constructor(c,r){this.dataService=c,this.confirmService=r,this.display=!1,this.cuenta=new T.r,this.change=!1,this.event=new n.vpe,this.estados=[]}ngOnInit(){this.dataService.getdata("/ventas/cobranza/estados",{}).subscribe(c=>{this.estados=c})}open(c){this.cuenta=c;let r=new E.e;r.cuenta=c,this.gec.open(r),this.display=!0}descuento(){this.confirmService.setconfirm({message:"Hacer descuento del monto '"+this.cuenta.saldo+" '?",accept:()=>{this.dataService.getdata("/ventas/cobranza/descuentoacero",{id:this.cuenta.id}).subscribe(r=>{this.cuenta.saldo=0,this.gec.update(),this.change=!0})}})}onChangeEstado(c){this.cuenta.estado=c.value,this.confirmService.setconfirm({message:"Cambiar estado de Cuenta a '"+this.cuenta.estado+" '?",accept:()=>{this.dataService.postdata("/ventas/cobranza/cambiarestado",this.cuenta).subscribe(_=>{this.gec.update(),this.change=!0})}})}salir(){this.display=!1,this.event.emit({chage:this.change})}static#t=this.\u0275fac=function(r){return new(r||i)(n.Y36(h.D),n.Y36(O.I))};static#n=this.\u0275cmp=n.Xpm({type:i,selectors:[["app-cobranza-cuentas"]],viewQuery:function(r,_){if(1&r&&n.Gf(b,7),2&r){let f;n.iGM(f=n.CRH())&&(_.gec=f.first)}},outputs:{event:"event"},decls:15,vars:3,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["appendTo","body",3,"options","ngModel","ngModelChange","onChange"],["pButton","","pRipple","","type","button","icon","pi pi-money-bill","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],["gec",""]],template:function(r,_){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),n._uU(7,"Estado de Cuenta (Tipo Galpon)"),n.qZA()(),n.TgZ(8,"div",6)(9,"p-dropdown",7),n.NdJ("ngModelChange",function(x){return _.cuenta.estado=x})("onChange",function(x){return _.onChangeEstado(x)}),n.qZA(),n.TgZ(10,"button",8),n.NdJ("click",function(){return _.descuento()}),n.qZA(),n.TgZ(11,"button",9),n.NdJ("click",function(){return _.salir()}),n.qZA()()(),n.TgZ(12,"div",10),n._UZ(13,"galpon-estado-cuenta",null,11),n.qZA()()()()()),2&r&&(n.Q6J("hidden",!_.display),n.xp6(9),n.Q6J("options",_.estados)("ngModel",_.cuenta.estado))},dependencies:[y.u,P.Hq,u.Lt,g.JJ,g.On,w.R],encapsulation:2})}return i})();const Z=["viewgec"];function R(i,M){if(1&i){const c=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h2"),n._uU(7,"Lista de cuentas"),n.qZA()(),n.TgZ(8,"div",9)(9,"p-dropdown",10),n.NdJ("ngModelChange",function(_){n.CHM(c);const f=n.oxw();return n.KtG(f.currentEstado=_)})("onChange",function(_){n.CHM(c);const f=n.oxw();return n.KtG(f.onChangeEstado(_))}),n.qZA()()(),n.TgZ(10,"div",11)(11,"mo-report",12),n.NdJ("action",function(_){n.CHM(c);const f=n.oxw();return n.KtG(f.actionReport(_))}),n.qZA()()()()()()}if(2&i){const c=n.oxw();n.xp6(9),n.Q6J("options",c.estados)("ngModel",c.currentEstado),n.xp6(2),n.Q6J("data",c.datareport)}}const I=[{path:"",component:d,children:[{path:"",component:(()=>{class i{constructor(c){this.dataService=c,this.display=!0,this.estados=[],this.currentEstado="POR PAGAR",this.datareport={content:[],columns:[{field:"entidad.id",columnName:"E.ID"},{field:"entidad.nombre",columnName:"Entidad"},{field:"id",columnName:"C.ID"},{field:"nombre",columnName:"Cuenta"},{field:"saldo",columnName:"saldo",align:"right"},{actions:[{iconclass:"pi pi-print",event:"view",condition:r=>!0}]}]}}ngOnInit(){this.dataService.getdata("/ventas/cobranza/estados",{}).subscribe(c=>{this.estados=c})}onChangeEstado(c){this.currentEstado=c.value,this.getdata()}getdata(){this.dataService.getdata("/ventas/cobranza/cuentas",{estado:this.currentEstado}).subscribe(c=>{this.datareport.content=c})}actionReport(c){"view"===c.event&&(this.display=!1,this.viewgec.open(c.row))}eventViewGEC(c){this.display=!0,c.chage&&this.getdata()}static#t=this.\u0275fac=function(r){return new(r||i)(n.Y36(h.D))};static#n=this.\u0275cmp=n.Xpm({type:i,selectors:[["cobranza-manage"]],viewQuery:function(r,_){if(1&r&&n.Gf(Z,7),2&r){let f;n.iGM(f=n.CRH())&&(_.viewgec=f.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"event"],["viewgec",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["appendTo","body",3,"options","ngModel","ngModelChange","onChange"],[1,"mo-panel-content"],[3,"data","action"]],template:function(r,_){1&r&&(n.YNc(0,R,12,3,"div",0),n.TgZ(1,"app-cobranza-cuentas",1,2),n.NdJ("event",function(x){return _.eventViewGEC(x)}),n.qZA()),2&r&&n.Q6J("ngIf",_.display)},dependencies:[t.O5,u.Lt,g.JJ,g.On,v.t,A],encapsulation:2})}return i})()},{path:"**",redirectTo:""}]}];let D=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#n=this.\u0275mod=n.oAB({type:i});static#o=this.\u0275inj=n.cJS({imports:[p.Bz.forChild(I),p.Bz]})}return i})();var a=e(8368),l=e(4553),o=e(7799);let s=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#n=this.\u0275mod=n.oAB({type:i});static#o=this.\u0275inj=n.cJS({imports:[t.ez,D,a.U,l.W,o.d]})}return i})()},2415:(C,m,e)=>{e.d(m,{E:()=>n});var t=e(4946),p=e(6814);let n=(()=>{class d{constructor(u){this.datePipe=u}transform(u,...g){return this.datePipe.transform(u,"dd/MM/yyyy")}static#t=this.\u0275fac=function(g){return new(g||d)(t.Y36(p.uU,16))};static#n=this.\u0275pipe=t.Yjl({name:"dateFormat",type:d,pure:!0})}return d})()},4621:(C,m,e)=>{e.d(m,{L:()=>n});var t=e(4946),p=e(6814);let n=(()=>{class d{constructor(u){this.datePipe=u}transform(u,...g){return this.datePipe.transform(u,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(g){return new(g||d)(t.Y36(p.uU,16))};static#n=this.\u0275pipe=t.Yjl({name:"datetimeFormat",type:d,pure:!0})}return d})()},9177:(C,m,e)=>{e.d(m,{A:()=>n});var t=e(6814),p=e(4946);let n=(()=>{class d{static#t=this.\u0275fac=function(g){return new(g||d)};static#n=this.\u0275mod=p.oAB({type:d});static#o=this.\u0275inj=p.cJS({providers:[t.uU],imports:[t.ez]})}return d})()},7635:(C,m,e)=>{e.d(m,{v:()=>n});var t=e(4946),p=e(6814);let n=(()=>{class d{constructor(u){this.datePipe=u}transform(u,...g){return this.datePipe.transform(u,"MM/yyyy")}static#t=this.\u0275fac=function(g){return new(g||d)(t.Y36(p.uU,16))};static#n=this.\u0275pipe=t.Yjl({name:"periodmonthFormat",type:d,pure:!0})}return d})()}}]);