"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[0],{9e3:(B,l,r)=>{r.r(l),r.d(l,{VgeneralModule:()=>U});var p=r(6814),m=r(7664),t=r(4946);let g=(()=>{class a{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-vgen-main"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2})}return a})();var u=r(5413),h=r(7757),T=r(1106),f=r(3259),c=r(95),E=r(9324),v=r(1532),d=r(6084),C=r(707),y=r(2772),F=r(6130),V=r(2898);const M=["notaentregaform"],Z=["notamanage"],N=["transform"];let J=(()=>{class a{constructor(){this.display=!1,this.transporte=new u.e,this.ruta="/ventas/general",this.formEvent=new t.vpe}ngOnInit(){}open(e){this.transporte=e;let n=new d.Q;n.transporte=e,this.neform.newForm(n),this.notamanage.update(e.id),this.transporteform.open(this.transporte),this.display=!0}onExit(){this.display=!1,this.formEvent.emit("")}onNotaManageEvent(e){if("update"===e.action)this.neform.updateForm(e.value.nota);else{let n=new d.Q;n.transporte=this.transporte,this.neform.newForm(n)}}onNotaFormEvent(e){this.notamanage.update(this.transporte.id)}onTransFormEvent(e){this.transporte=e;var n=new d.Q;n.transporte=this.transporte,this.neform.newForm(n)}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["vgen-form"]],viewQuery:function(n,o){if(1&n&&(t.Gf(M,7),t.Gf(Z,7),t.Gf(N,7)),2&n){let i;t.iGM(i=t.CRH())&&(o.neform=i.first),t.iGM(i=t.CRH())&&(o.notamanage=i.first),t.iGM(i=t.CRH())&&(o.transporteform=i.first)}},outputs:{formEvent:"formEvent"},decls:20,vars:6,consts:[[1,"mo-layout-content",3,"hidden"],[1,"grid"],[1,"col-6"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-left","pTooltip","Salir",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"path","formEvent"],["transform",""],[1,"card",3,"hidden"],[3,"path","notaFormEvent"],["notaentregaform",""],[3,"path","notaManageEvent"],["notamanage",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Registro Transporte"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.onExit()}),t.qZA()()(),t.TgZ(10,"div",8)(11,"resp-form",9,10),t.NdJ("formEvent",function(s){return o.onTransFormEvent(s)}),t.qZA()()(),t.TgZ(13,"div",11)(14,"nota-form",12,13),t.NdJ("notaFormEvent",function(s){return o.onNotaFormEvent(s)}),t.qZA()(),t.TgZ(16,"div",11)(17,"notas-manage",14,15),t.NdJ("notaManageEvent",function(s){return o.onNotaManageEvent(s)}),t.qZA()()(),t._UZ(19,"div",2),t.qZA()()),2&n&&(t.Q6J("hidden",!o.display),t.xp6(11),t.Q6J("path",o.ruta),t.xp6(2),t.Q6J("hidden",0===o.transporte.id),t.xp6(1),t.Q6J("path",o.ruta),t.xp6(2),t.Q6J("hidden",0===o.transporte.id),t.xp6(1),t.Q6J("path",o.ruta))},dependencies:[f.u,C.Hq,y.Z,F.T,V.k],encapsulation:2})}return a})();const Q=["vgenform"];function w(a,K){if(1&a){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h2"),t._uU(7,"Venta general transportes"),t.qZA()(),t.TgZ(8,"div",9)(9,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.open())}),t.TgZ(10,"i",11),t._uU(11,"add_circle_outline"),t.qZA()(),t.TgZ(12,"p-calendar",12),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.currentDate=o)})("onSelect",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onSelectedDate(o))}),t.qZA()()(),t.TgZ(13,"div",13)(14,"mo-report",14),t.NdJ("action",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onReportEvent(o))}),t.qZA()()()()()()}if(2&a){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.currentDate),t.xp6(2),t.Q6J("data",e.data)}}const A=[{path:"",component:g,children:[{path:"",component:(()=>{class a{constructor(e,n){this.dataService=e,this.confirmService=n,this.display=!0,this.currentDate=new Date,this.data={content:[],rows:{class:"pendiente",condition:o=>"PENDIENTE"===o.estado},columns:[{field:"id",columnName:"Id"},{field:"fecha",columnName:"Fecha",type:"date"},{field:"conductor",columnName:"Conductor"},{field:"comentario",columnName:"Comentario"},{field:"estado",columnName:"Estado"},{field:"cantidad",columnName:"Alimento",align:"right"},{actions:[{iconname:"delete_forever",iconclass:"material-icons-round",event:"delete",condition:o=>"PENDIENTE"==o.estado},{iconname:"arrow_forward",iconclass:"material-icons-outlined",event:"openform",condition:o=>!0}]}]}}ngOnInit(){this.getdata()}open(){this.display=!1,this.form.open(new u.e)}onSelectedDate(e){this.getdata()}onReportEvent(e){switch(e.event){case"openform":this.display=!1,this.form.open(e.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar '"+e.row.id+"'?",accept:()=>{this.dataService.deletedata("/ventas/general/respdelete",{id:e.row.id}).subscribe(o=>{this.getdata()})}})}}onVgenFormEvent(e){this.display=!0,this.getdata()}getdata(){this.dataService.getdata("/ventas/general/trans",{date:this.currentDate}).subscribe(e=>{this.data.content=e})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(h.D),t.Y36(T.I))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["vgen-trans"]],viewQuery:function(n,o){if(1&n&&t.Gf(Q,7),2&n){let i;t.iGM(i=t.CRH())&&(o.form=i.first)}},decls:3,vars:1,consts:[["class","mo-layout-content",4,"ngIf"],[3,"formEvent"],["vgenform",""],[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pTooltip","Registrar Transporte",1,"mo-button",3,"click"],[1,"material-icons-outlined","mo-icons-center"],["dateFormat","dd MM yy","inputId","dateformat",3,"ngModel","ngModelChange","onSelect"],[1,"mo-panel-content"],[3,"data","action"]],template:function(n,o){1&n&&(t.YNc(0,w,15,2,"div",0),t.TgZ(1,"vgen-form",1,2),t.NdJ("formEvent",function(s){return o.onVgenFormEvent(s)}),t.qZA()),2&n&&t.Q6J("ngIf",o.display)},dependencies:[p.O5,f.u,c.JJ,c.On,E.t,v.f,J],encapsulation:2})}return a})()},{path:"**",redirectTo:""}]}];let S=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275mod=t.oAB({type:a});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(A),m.Bz]})}return a})();var G=r(8368),D=r(4553),H=r(961),I=r(7432),R=r(9604),_=r(7090),x=r(1310);let U=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275mod=t.oAB({type:a});static#e=this.\u0275inj=t.cJS({imports:[p.ez,S,G.U,D.W,v._8,x.H,c.UX,H.q,I.V,R.w,_.$]})}return a})()}}]);