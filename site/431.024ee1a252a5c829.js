"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[431],{5289:(h,l,n)=>{n.d(l,{$:()=>s});class s{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},3297:(h,l,n)=>{n.d(l,{y:()=>s});class s{constructor(){this.id=0,this.sid=0,this.str="",this.sstr="",this.dec=0,this.sdec=0,this.date=new Date,this.sdate=new Date,this.ordersby=[],this.limit=0,this.offset=0}}},9748:(h,l,n)=>{n.r(l),n.d(l,{EntidadModule:()=>Y});var s=n(6814),m=n(7664),f=n(3297),r=n(2316),t=n(4946),d=n(7757),p=n(1106),y=n(3259),v=n(707),_=n(9324),T=n(8481),c=n(95),C=n(5289),Z=n(3714),b=n(7213);function F(a,E){1&a&&(t.TgZ(0,"small",16),t._uU(1,"Nombre no v\xe1lido"),t.qZA())}function M(a,E){1&a&&(t.TgZ(0,"small",16),t._uU(1,"Direcci\xf3n no v\xe1lida."),t.qZA())}function A(a,E){1&a&&(t.TgZ(0,"small",16),t._uU(1,"tel\xe9fono no v\xe1lida."),t.qZA())}const D=function(){return{width:"70vw"}},U=function(){return{"960px":"75vw"}};let I=(()=>{class a{constructor(o,i){this.formBuilder=o,this.dataService=i,this.entidad=new C.$,this.display=!1,this.formSaveEvent=new t.vpe,this.form=this.formBuilder.group({id:[{value:0,disabled:!0}],nombre:["",c.kI.required],direccion:["",c.kI.required],telefono:["",c.kI.required]})}ngOnInit(){}newForm(){this.form.reset(),this.form.controls.id.setValue(this.entidad.id),this.display=!0}updateform(o){this.form.controls.id.setValue(o.id),this.form.controls.nombre.setValue(o.nombre),this.form.controls.direccion.setValue(o.direccion),this.form.controls.telefono.setValue(o.telefono),this.display=!0}submit(){let o=this.form.getRawValue();this.dataService.postdata("/inicio/entidad",o).subscribe(i=>{this.display=!1,this.formSaveEvent.emit()})}get nombre(){return this.form.get("nombre")}get direccion(){return this.form.get("direccion")}get telefono(){return this.form.get("telefono")}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(c.QS),t.Y36(d.D))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["entidad-form"]],outputs:{formSaveEvent:"formSaveEvent"},decls:28,vars:14,consts:[["header","Datos Entidad",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"p-fluid","grid"],[1,"p-field","col-12","md:col-12"],[1,"p-float-label"],["type","text","id","entidadid","pInputText","","formControlName","id"],["for","entidadid"],["type","text","id","entidadnombre","pInputText","","formControlName","nombre"],["for","entidadnombre"],["class","p-error",4,"ngIf"],["id","entidaddireccion","type","text","pInputText","","formControlName","direccion"],["for","entidaddireccion"],["id","entidadtelefono","type","text","pInputText","","formControlName","telefono"],["for","entidadtelefono"],["type","submit","label","Guardar","styleClass","p-button-text",3,"disabled"],["type","button","label","Salir","styleClass","p-button-text",3,"click"],[1,"p-error"]],template:function(i,e){1&i&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(g){return e.display=g}),t.TgZ(1,"form",1),t.NdJ("submit",function(){return e.submit()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"input",5),t.TgZ(6,"label",6),t._uU(7,"ID:"),t.qZA()()(),t.TgZ(8,"div",3)(9,"span",4),t._UZ(10,"input",7),t.TgZ(11,"label",8),t._uU(12,"Nombre:"),t.qZA(),t.YNc(13,F,2,0,"small",9),t.qZA()(),t.TgZ(14,"div",3)(15,"span",4),t._UZ(16,"input",10),t.TgZ(17,"label",11),t._uU(18,"Direcci\xf3n:"),t.qZA(),t.YNc(19,M,2,0,"small",9),t.qZA()(),t.TgZ(20,"div",3)(21,"span",4),t._UZ(22,"input",12),t.TgZ(23,"label",13),t._uU(24,"Tel\xe9fono:"),t.qZA(),t.YNc(25,A,2,0,"small",9),t.qZA()()(),t._UZ(26,"p-button",14),t.TgZ(27,"p-button",15),t.NdJ("click",function(){return e.display=!1}),t.qZA()()()),2&i&&(t.Akn(t.DdM(12,D)),t.Q6J("visible",e.display)("modal",!0)("breakpoints",t.DdM(13,U))("draggable",!1)("resizable",!0),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(12),t.Q6J("ngIf",(null==e.nombre?null:e.nombre.invalid)&&((null==e.nombre?null:e.nombre.dirty)||(null==e.nombre?null:e.nombre.touched))),t.xp6(6),t.Q6J("ngIf",(null==e.direccion?null:e.direccion.invalid)&&((null==e.direccion?null:e.direccion.dirty)||(null==e.direccion?null:e.direccion.touched))),t.xp6(6),t.Q6J("ngIf",(null==e.telefono?null:e.telefono.invalid)&&((null==e.telefono?null:e.telefono.dirty)||(null==e.telefono?null:e.telefono.touched))),t.xp6(1),t.Q6J("disabled",e.form.invalid))},dependencies:[s.O5,v.zx,Z.o,c._Y,c.Fj,c.JJ,c.JL,b.V,c.sg,c.u],encapsulation:2})}return a})();const P=["pagination"],N=["form"];let J=(()=>{class a{constructor(o,i){this.dataService=o,this.confirmService=i,this.reportdata=new f.y,this.report={content:[],columns:[{field:"id",columnName:"Id"},{field:"nombre",columnName:"Nombre"},{field:"direccion",columnName:"Direcci\xf3n"},{field:"telefono",columnName:"Telefono"},{actions:[{iconname:"edit",iconclass:"material-symbols-outlined",event:"modify",condition:e=>!0},{iconname:"delete",iconclass:"material-symbols-outlined",event:"delete",condition:e=>!0}]}]}}ngOnInit(){this.reportdata.limit=20,this.reportdata.offset=0,this.getdata()}openNewForm(){this.form.newForm()}openModifyForm(o){this.form.updateform(o)}saveForm(){this.getdata()}getdata(){this.reportdata.ordersby=["en.nombre asc"],this.dataService.postdata("/inicio/entidad/list",this.reportdata).subscribe(o=>{this.report.content=o.list;let i=new r.n;i.total=o.total,i.limit=this.reportdata.limit,this.pagination.update(i)})}tableAction(o){switch(o.event){case"modify":this.openModifyForm(o.row);break;case"delete":this.confirmService.setconfirm({message:"Eliminar el Entidad '"+o.row.nombre+"'?",accept:()=>{this.dataService.deletedata("/inicio/entidad",{id:o.row.id}).subscribe(e=>{this.getdata()})}})}}onChangePage(o){this.reportdata.limit=o.limit,this.reportdata.offset=o.offset,this.getdata()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(d.D),t.Y36(p.I))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["entidad-list"]],viewQuery:function(i,e){if(1&i&&(t.Gf(P,7),t.Gf(N,7)),2&i){let u;t.iGM(u=t.CRH())&&(e.pagination=u.first),t.iGM(u=t.CRH())&&(e.form=u.first)}},decls:16,vars:1,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-plus","pTooltip","Registrar nueva Entidad",1,"p-button-rounded","p-button-text",3,"click"],[1,"mo-panel-content"],[3,"data","action"],[3,"changePage"],["pagination",""],[3,"formSaveEvent"],["form",""]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Listado de Entidades"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.openNewForm()}),t.qZA()()(),t.TgZ(10,"div",8)(11,"mo-report",9),t.NdJ("action",function(g){return e.tableAction(g)}),t.qZA()()()()(),t.TgZ(12,"mo-pagination",10,11),t.NdJ("changePage",function(g){return e.onChangePage(g)}),t.qZA(),t.TgZ(14,"entidad-form",12,13),t.NdJ("formSaveEvent",function(){return e.saveForm()}),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("data",e.report))},dependencies:[y.u,v.Hq,_.t,T.r,I],encapsulation:2})}return a})();var S=n(2655);const L=[{path:"",component:(()=>{class a{constructor(){}ngOnInit(){this.items=[{label:"Inicio"},{label:"Entidades"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["entidad-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(i,e){1&i&&t._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&i&&t.Q6J("model",e.items)("home",e.home)},dependencies:[m.lC,S.a],encapsulation:2})}return a})(),children:[{path:"",component:J},{path:"**",redirectTo:""}]}];let O=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(L),m.Bz]})}return a})();var B=n(8368),R=n(9373),w=n(4553);let Y=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[s.ez,O,B.U,w.W,b.S,c.UX,R.V]})}return a})()},2415:(h,l,n)=>{n.d(l,{E:()=>f});var s=n(4946),m=n(6814);let f=(()=>{class r{constructor(d){this.datePipe=d}transform(d,...p){return this.datePipe.transform(d,"dd/MM/yyyy")}static#t=this.\u0275fac=function(p){return new(p||r)(s.Y36(m.uU,16))};static#e=this.\u0275pipe=s.Yjl({name:"dateFormat",type:r,pure:!0})}return r})()},4621:(h,l,n)=>{n.d(l,{L:()=>f});var s=n(4946),m=n(6814);let f=(()=>{class r{constructor(d){this.datePipe=d}transform(d,...p){return this.datePipe.transform(d,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(p){return new(p||r)(s.Y36(m.uU,16))};static#e=this.\u0275pipe=s.Yjl({name:"datetimeFormat",type:r,pure:!0})}return r})()},9177:(h,l,n)=>{n.d(l,{A:()=>f});var s=n(6814),m=n(4946);let f=(()=>{class r{static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275mod=m.oAB({type:r});static#n=this.\u0275inj=m.cJS({providers:[s.uU],imports:[s.ez]})}return r})()}}]);