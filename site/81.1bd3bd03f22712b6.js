"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[81],{3491:(m,s,e)=>{e.r(s),e.d(s,{CorregirnotasModule:()=>T});var i=e(6814),c=e(7664),l=e(8555),t=e(4946),f=e(7757),d=e(3259),u=e(707),g=e(66),v=e(7492);const C=["tableeditor"];let E=(()=>{class a{constructor(o){this.dataService=o,this.cuenta=new l.r,this.datanotas={columns:[{editable:!1,field:"nota.id",columnName:"ID NOTA"},{editable:!1,field:"nota.nronota",columnName:"Nota"},{editable:!1,field:"nota.fechapendiente",columnName:"Fecha",type:"datetime"},{editable:!1,field:"notadetalle.id",columnName:"ID"},{editable:!1,field:"notadetalle.producto.nombre",columnName:"Producto"},{editable:!1,field:"notadetalle.cantidad",columnName:"P.Id"},{editable:!0,field:"notadetalle.pu",columnName:"pu",align:"right",input:{type:"numeric",precision:"15",scale:"5"}},{editable:!1,field:"notadetalle.total",columnName:"s-total",align:"right"}],content:[]},this.accuenta={path:"/aux/corregir/cuentas",columns:["id","nombre","descripcion"]}}ngOnInit(){}acccuentaSelected(o){this.cuenta=o,this.getdata()}getdata(){this.dataService.getdata("/aux/corregir",{id:this.cuenta.id}).subscribe(o=>{this.datanotas.content=o,this.tableeditor.updateData(this.datanotas.content)})}enterValue(o){mosetfieldvalue(this.datanotas.content[o.row],o.field,o.value);let n=this.datanotas.content[o.row].notadetalle;n.pu<=0||this.dataService.postdata("/aux/corregir",n).subscribe(r=>{})}rowActionEvent(o){}calcularsaldo(){0!==this.cuenta.id?this.dataService.getdata("/aux/corregir/setnewsaldo",{id:this.cuenta.id}).subscribe(o=>{alert("OPERACION EXITOSA"),this.getdata()}):alert("CUENTA NO SELECCIONADA")}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(f.D))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-corregir-form"]],viewQuery:function(n,r){if(1&n&&t.Gf(C,5),2&n){let p;t.iGM(p=t.CRH())&&(r.tableeditor=p.first)}},decls:17,vars:5,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["pButton","","pRipple","","type","button","icon","pi pi-save","pTooltip","Grabar datos en cuenta",1,"p-button-rounded","p-button-text",3,"click"],["for","entidad"],["id","entidad",3,"config","itemSelected"],[1,"mo-panel-content"],[3,"data","cellEnterValueEvent","rowActionEvent"],["tableeditor",""]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"CORREGIR NOTAS MARZO"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return r.calcularsaldo()}),t.qZA(),t.TgZ(10,"label",8),t._uU(11,"Buscar entidad:"),t.qZA(),t.TgZ(12,"mo-autocomplete",9),t.NdJ("itemSelected",function(h){return r.acccuentaSelected(h)}),t.qZA()()(),t.TgZ(13,"div",10),t._uU(14),t.TgZ(15,"mo-dataeditor",11,12),t.NdJ("cellEnterValueEvent",function(h){return r.enterValue(h)})("rowActionEvent",function(h){return r.rowActionEvent(h)}),t.qZA()()()()()()),2&n&&(t.xp6(12),t.Q6J("config",r.accuenta),t.xp6(2),t.lnq(" ",r.cuenta.nombre," | ",r.cuenta.entidad.nombre," | ",r.cuenta.saldo," "),t.xp6(1),t.Q6J("data",r.datanotas))},dependencies:[d.u,u.Hq,g.q,v.J],encapsulation:2})}return a})();var _=e(2655);const A=[{path:"",component:(()=>{class a{constructor(){}ngOnInit(){this.items=[{label:"Auxiliar"},{label:"Corregir"}],this.home={icon:"pi pi-home",routerLink:"/"}}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-corregir-main"]],decls:2,vars:2,consts:[[3,"model","home"]],template:function(n,r){1&n&&t._UZ(0,"p-breadcrumb",0)(1,"router-outlet"),2&n&&t.Q6J("model",r.items)("home",r.home)},dependencies:[c.lC,_.a],encapsulation:2})}return a})(),children:[{path:"",component:E},{path:"**",redirectTo:""}]}];let b=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(A),c.Bz]})}return a})();var M=e(8368),O=e(961),y=e(7432);let T=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[i.ez,b,M.U,y.V,O.q]})}return a})()},8555:(m,s,e)=>{e.d(s,{r:()=>l});var i=e(5289),c=e(698);class l{constructor(){this.id=0,this.entidad=new i.$,this.tipo="",this.nombre="",this.descripcion="",this.estado="ACTIVO",this.saldo=0,this.establecimiento=new c.A}}},5289:(m,s,e)=>{e.d(s,{$:()=>i});class i{constructor(){this.id=0,this.nombre="",this.direccion="",this.telefono=""}}},698:(m,s,e)=>{e.d(s,{A:()=>i});class i{constructor(){this.id="0",this.nombre="",this.descripcion="",this.estado="ACTIVO"}}},2415:(m,s,e)=>{e.d(s,{E:()=>l});var i=e(4946),c=e(6814);let l=(()=>{class t{constructor(d){this.datePipe=d}transform(d,...u){return this.datePipe.transform(d,"dd/MM/yyyy")}static#t=this.\u0275fac=function(u){return new(u||t)(i.Y36(c.uU,16))};static#e=this.\u0275pipe=i.Yjl({name:"dateFormat",type:t,pure:!0})}return t})()},4621:(m,s,e)=>{e.d(s,{L:()=>l});var i=e(4946),c=e(6814);let l=(()=>{class t{constructor(d){this.datePipe=d}transform(d,...u){return this.datePipe.transform(d,"dd/MM/yyyy H:mm:ss")}static#t=this.\u0275fac=function(u){return new(u||t)(i.Y36(c.uU,16))};static#e=this.\u0275pipe=i.Yjl({name:"datetimeFormat",type:t,pure:!0})}return t})()},9177:(m,s,e)=>{e.d(s,{A:()=>l});var i=e(6814),c=e(4946);let l=(()=>{class t{static#t=this.\u0275fac=function(u){return new(u||t)};static#e=this.\u0275mod=c.oAB({type:t});static#o=this.\u0275inj=c.cJS({providers:[i.uU],imports:[i.ez]})}return t})()}}]);