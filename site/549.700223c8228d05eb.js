"use strict";(self.webpackChunktukiweb=self.webpackChunktukiweb||[]).push([[549],{9709:(l,c,a)=>{a.d(c,{U:()=>d});var s=a(8196);class d{constructor(){this.id=0,this.nombre="",this.comentario="",this.tipo=new s.o,this.estado="ACTIVO",this.facprn="1",this.orden=1}}},8196:(l,c,a)=>{a.d(c,{o:()=>s});class s{constructor(){this.id=0,this.nombre=""}}},4549:(l,c,a)=>{a.r(c),a.d(c,{ProduccionModule:()=>y});var s=a(6814),d=a(7664),t=a(4946);let h=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-produccion-main"]],decls:1,vars:0,template:function(o,i){1&o&&t._UZ(0,"router-outlet")},dependencies:[d.lC],encapsulation:2})}return n})();var f=a(9709);class p{constructor(){this.id=0,this.fecha=new Date,this.cantidad=0,this.pu=0,this.producto=new f.U}}var v=a(7757),w=a(1106),g=a(7841),m=a(1532);const P=["tableeditor"],b=[{path:"",component:h,children:[{path:"",component:(()=>{class n{constructor(e,o){this.dataService=e,this.confirmService=o,this.path="",this.currentDate=new Date,this.data={content:[],columns:[{editable:!1,field:"id",columnName:"ID"},{editable:!0,field:"producto.nombre",columnName:"Producto",input:{type:"autocomplete",path:"/produccion/produccion/findproductos",columns:["id","nombre"]}},{editable:!0,field:"cantidad",columnName:"CANTIDAD",input:{type:"numeric",precision:"15",scale:"2"}},{editable:!1,field:"pu",columnName:"P/U"},{actions:[{iconclass:"pi pi-trash",event:"delete",condition:i=>0!==i.id}]}]}}ngOnInit(){this.getdata()}getdata(){this.dataService.getdata("/produccion/produccion",{date:this.currentDate}).subscribe(e=>{this.data.content=e,this.dataeditor.updateData(this.data.content),this.dataeditor.addRow(new p,"id")})}cellEnterValue(e){"producto.nombre"===e.field?(mosetfieldvalue(this.data.content[e.row],"producto.id",e.value.id),mosetfieldvalue(this.data.content[e.row],"producto.nombre",e.value.nombre)):mosetfieldvalue(this.data.content[e.row],e.field,e.value);let o=this.data.content[e.row];0===o.producto.id||0===o.cantidad||this.dataService.postdata("/produccion/produccion",o).subscribe(i=>{this.data.content[e.row]=i,this.dataeditor.addRow(new p,"id")})}rowActionEvent(e){let o=e.row;"delete"===e.event&&this.confirmService.setconfirm({message:"Eliminar producci\xf3n Nro '"+o.id+"' de esta fecha?",accept:()=>{this.dataService.postdata("/produccion/produccion/delete",e.row).subscribe(r=>{this.dataeditor.deleteRow("id",o.id)})}})}onSelectedDate(e){this.currentDate=e,this.getdata()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(v.D),t.Y36(w.I))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-produccion-manage"]],viewQuery:function(o,i){if(1&o&&t.Gf(P,7),2&o){let r;t.iGM(r=t.CRH())&&(i.dataeditor=r.first)}},decls:15,vars:3,consts:[[1,"mo-layout-content"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"mo-toolsbar"],[1,"mo-first"],[1,"mo-second"],["for","dateformat"],["dateFormat","dd MM yy","inputId","dateformat",3,"onSelect"],[1,"mo-panel-content"],[3,"data","path","cellEnterValueEvent","rowActionEvent"],["tableeditor",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Fecha:"),t.qZA(),t.TgZ(11,"p-calendar",8),t.NdJ("onSelect",function(u){return i.onSelectedDate(u)}),t.qZA()()(),t.TgZ(12,"div",9)(13,"mo-dataeditor",10,11),t.NdJ("cellEnterValueEvent",function(u){return i.cellEnterValue(u)})("rowActionEvent",function(u){return i.rowActionEvent(u)}),t.qZA()()()()()()),2&o&&(t.xp6(7),t.hij("Produccion por fecha ",i.currentDate,""),t.xp6(6),t.Q6J("data",i.data)("path",i.path))},dependencies:[g.q,m.f],encapsulation:2})}return n})()},{path:"**",redirectTo:""}]}];let C=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(b),d.Bz]})}return n})();var E=a(8368),M=a(4858);let y=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[s.ez,C,E.U,M.V,m._8]})}return n})()}}]);